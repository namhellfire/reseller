!function(e){e.fn.zclip=function(t){if("object"==typeof t&&!t.length){var i=e.extend({path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:!0,setHandCursor:!0,setCSSEffects:!0},t);return this.each(function(){var t=e(this);if(t.is(":visible")&&("string"==typeof i.copy||e.isFunction(i.copy))){ZeroClipboard.setMoviePath(i.path);var o=new ZeroClipboard.Client;e.isFunction(i.copy)&&t.bind("zClip_copy",i.copy),e.isFunction(i.beforeCopy)&&t.bind("zClip_beforeCopy",i.beforeCopy),e.isFunction(i.afterCopy)&&t.bind("zClip_afterCopy",i.afterCopy),o.setHandCursor(i.setHandCursor),o.setCSSEffects(i.setCSSEffects),o.addEventListener("mouseOver",function(e){t.trigger("mouseenter")}),o.addEventListener("mouseOut",function(e){t.trigger("mouseleave")}),o.addEventListener("mouseDown",function(a){t.trigger("mousedown"),e.isFunction(i.copy)?o.setText(t.triggerHandler("zClip_copy")):o.setText(i.copy),e.isFunction(i.beforeCopy)&&t.trigger("zClip_beforeCopy")}),o.addEventListener("complete",function(o,a){e.isFunction(i.afterCopy)?t.trigger("zClip_afterCopy"):(a.length>500&&(a=a.substr(0,500)+"...\n\n("+(a.length-500)+" characters not shown)"),t.removeClass("hover"),alert("Copied text to clipboard:\n\n "+a)),i.clickAfter&&t.trigger("click")}),o.glue(t[0],t.parent()[0]),e(window).bind("load resize",function(){o.reposition()})}})}if("string"==typeof t)return this.each(function(){var i=e(this);t=t.toLowerCase();var o=i.data("zclipId"),a=e("#"+o+".zclip");"remove"==t?(a.remove(),i.removeClass("active hover")):"hide"==t?(a.hide(),i.removeClass("active hover")):"show"==t&&a.show()})}}(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){for(var t=this.className.split(/\s+/),i=-1,o=0;o<t.length;o++)t[o]==e&&(i=o,o=t.length);return i>-1&&(t.splice(i,1),this.className=t.join(" ")),this},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,i){var o=this.clients[e];o&&o.receiveEvent(t,i)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e,t){var i={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};return e&&e!=t&&(i.left+=e.offsetLeft,i.top+=e.offsetTop),i},Client:function(e){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),e&&this.glue(e)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(e,t,i){this.domElement=ZeroClipboard.$(e);var o=99;this.domElement.style.zIndex&&(o=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof t?t=ZeroClipboard.$(t):void 0===t&&(t=document.getElementsByTagName("body")[0]);var a=ZeroClipboard.getDOMObjectPosition(this.domElement,t);this.div=document.createElement("div"),this.div.className="zclip",this.div.id="zclip-"+this.movieId,$(this.domElement).data("zclipId","zclip-"+this.movieId);var n=this.div.style;if(n.position="absolute",n.left=a.left+"px",n.top=a.top+"px",n.width=a.width+"px",n.height=a.height+"px",n.zIndex=o,"object"==typeof i)for(addedStyle in i)n[addedStyle]=i[addedStyle];t.appendChild(this.div),this.div.innerHTML=this.getHTML(a.width,a.height)},getHTML:function(e,t){var i="",o="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){i+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+(location.href.match(/^https/i)?"https://":"http://")+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+o+'"/><param name="wmode" value="transparent"/></object>'}else i+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+o+'" wmode="transparent" />';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(e){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=ZeroClipboard.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=ZeroClipboard.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=t.left+"px",i.top=t.top+"px"}},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var i=this;return void setTimeout(function(){i.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var i=this;return setTimeout(function(){i.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0;try{this.movie.setText(this.clipText)}catch(e){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(e){}break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var o=0,a=this.handlers[e].length;o<a;o++){var n=this.handlers[e][o];"function"==typeof n?n(this,t):"object"==typeof n&&2==n.length?n[0][n[1]](this,t):"string"==typeof n&&window[n](this,t)}}},function(e,t,i,o){var a=i("html"),n=i(e),s=i(t),r=i.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,d=t.createTouch!==o,h=function(e){return e&&e.hasOwnProperty&&e instanceof i},u=function(e){return e&&"string"===i.type(e)},p=function(e){return u(e)&&0<e.indexOf("%")},f=function(e,t){var i=parseInt(e,10)||0;return t&&p(e)&&(i*=r.getViewport()[t]/100),Math.ceil(i)},m=function(e,t){return f(e,t)+"px"};i.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){if(e&&(i.isPlainObject(t)||(t={}),!1!==r.close(!0)))return i.isArray(e)||(e=h(e)?i(e).get():[e]),i.each(e,function(a,n){var s,l,c,d,p,f={};"object"===i.type(n)&&(n.nodeType&&(n=i(n)),h(n)?(f={href:n.data("fancybox-href")||n.attr("href"),title:n.data("fancybox-title")||n.attr("title"),isDom:!0,element:n},i.metadata&&i.extend(!0,f,n.metadata())):f=n),s=t.href||f.href||(u(n)?n:null),l=t.title!==o?t.title:f.title||"",d=(c=t.content||f.content)?"html":t.type||f.type,!d&&f.isDom&&((d=n.data("fancybox-type"))||(d=(d=n.prop("class").match(/fancybox\.(\w+)/))?d[1]:null)),u(s)&&(d||(r.isImage(s)?d="image":r.isSWF(s)?d="swf":"#"===s.charAt(0)?d="inline":u(n)&&(d="html",c=n)),"ajax"===d&&(p=s.split(/\s+/,2),s=p.shift(),p=p.shift())),c||("inline"===d?s?c=i(u(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):f.isDom&&(c=n):"html"===d?c=s:!d&&!s&&f.isDom&&(d="inline",c=n)),i.extend(f,{href:s,type:d,content:c,title:l,selector:p}),e[a]=f}),r.opts=i.extend(!0,{},r.defaults,t),t.keys!==o&&(r.opts.keys=!!t.keys&&i.extend({},r.defaults.keys,t.keys)),r.group=e,r._start(r.opts.index)},cancel:function(){var e=r.coming;e&&!1!==r.trigger("onCancel")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),r.coming=null,r.current||r._afterZoomOut(e))},close:function(e){r.cancel(),!1!==r.trigger("beforeClose")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&!0!==e?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0,!0).removeClass("fancybox-opened"),r.transitions[r.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),r._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(r.player.timer)},i=function(){t(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},o=function(){t(),s.unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")};!0===e||!r.player.isActive&&!1!==e?r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,s.bind({"onCancel.player beforeClose.player":o,"onUpdate.player":i,"beforeLoad.player":t}),i(),r.trigger("onPlayStart")):o()},next:function(e){var t=r.current;t&&(u(e)||(e=t.direction.next),r.jumpto(t.index+1,e,"next"))},prev:function(e){var t=r.current;t&&(u(e)||(e=t.direction.prev),r.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,i){var a=r.current;a&&(e=f(e),r.direction=t||a.direction[e>=a.index?"next":"prev"],r.router=i||"jumpto",a.loop&&(0>e&&(e=a.group.length+e%a.group.length),e%=a.group.length),a.group[e]!==o&&(r.cancel(),r._start(e)))},reposition:function(e,t){var o,a=r.current,n=a?a.wrap:null;n&&(o=r._getPosition(t),e&&"scroll"===e.type?(delete o.position,n.stop(!0,!0).animate(o,200)):(n.css(o),a.pos=i.extend({},a.dim,o)))},update:function(e){var t=e&&e.type,i=!t||"orientationchange"===t;i&&(clearTimeout(c),c=null),r.isOpen&&!c&&(c=setTimeout(function(){var o=r.current;o&&!r.isClosing&&(r.wrap.removeClass("fancybox-tmp"),(i||"load"===t||"resize"===t&&o.autoResize)&&r._setDimension(),"scroll"===t&&o.canShrink||r.reposition(e),r.trigger("onUpdate"),c=null)},i&&!d?0:300))},toggle:function(e){r.isOpen&&(r.current.fitToView="boolean"===i.type(e)?e:!r.current.fitToView,d&&(r.wrap.removeAttr("style").addClass("fancybox-tmp"),r.trigger("onUpdate")),r.update())},hideLoading:function(){s.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var e,t;r.hideLoading(),e=i('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body"),s.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),r.cancel())}),r.defaults.fixed||(t=r.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=r.current&&r.current.locked||!1,i={x:n.scrollLeft(),y:n.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=d&&e.innerWidth?e.innerWidth:n.width(),i.h=d&&e.innerHeight?e.innerHeight:n.height()),i},unbindEvents:function(){r.wrap&&h(r.wrap)&&r.wrap.unbind(".fb"),s.unbind(".fb"),n.unbind(".fb")},bindEvents:function(){var e,t=r.current;t&&(n.bind("orientationchange.fb"+(d?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),r.update),(e=t.keys)&&s.bind("keydown.fb",function(a){var n=a.which||a.keyCode,s=a.target||a.srcElement;if(27===n&&r.coming)return!1;!a.ctrlKey&&!a.altKey&&!a.shiftKey&&!a.metaKey&&(!s||!s.type&&!i(s).is("[contenteditable]"))&&i.each(e,function(e,s){return 1<t.group.length&&s[n]!==o?(r[e](s[n]),a.preventDefault(),!1):-1<i.inArray(n,s)?(r[e](),a.preventDefault(),!1):void 0})}),i.fn.mousewheel&&t.mouseWheel&&r.wrap.bind("mousewheel.fb",function(e,o,a,n){for(var s=i(e.target||null),l=!1;s.length&&!l&&!s.is(".fancybox-skin")&&!s.is(".fancybox-wrap");)l=s[0]&&!(s[0].style.overflow&&"hidden"===s[0].style.overflow)&&(s[0].clientWidth&&s[0].scrollWidth>s[0].clientWidth||s[0].clientHeight&&s[0].scrollHeight>s[0].clientHeight),s=i(s).parent();0!==o&&!l&&1<r.group.length&&!t.canShrink&&(0<n||0<a?r.prev(0<n?"down":"left"):(0>n||0>a)&&r.next(0>n?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var o,a=t||r.coming||r.current;if(a){if(i.isFunction(a[e])&&(o=a[e].apply(a,Array.prototype.slice.call(arguments,1))),!1===o)return!1;a.helpers&&i.each(a.helpers,function(t,o){o&&r.helpers[t]&&i.isFunction(r.helpers[t][e])&&r.helpers[t][e](i.extend(!0,{},r.helpers[t].defaults,o),a)}),s.trigger(e)}},isImage:function(e){return u(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return u(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,o,a={};if(e=f(e),!(t=r.group[e]||null))return!1;if(a=i.extend(!0,{},r.opts,t),t=a.margin,o=a.padding,"number"===i.type(t)&&(a.margin=[t,t,t,t]),"number"===i.type(o)&&(a.padding=[o,o,o,o]),a.modal&&i.extend(!0,a,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),a.autoSize&&(a.autoWidth=a.autoHeight=!0),"auto"===a.width&&(a.autoWidth=!0),"auto"===a.height&&(a.autoHeight=!0),a.group=r.group,a.index=e,r.coming=a,!1===r.trigger("beforeLoad"))r.coming=null;else{if(o=a.type,t=a.href,!o)return r.coming=null,!(!r.current||!r.router||"jumpto"===r.router)&&(r.current.index=e,r[r.router](r.direction));if(r.isActive=!0,"image"!==o&&"swf"!==o||(a.autoHeight=a.autoWidth=!1,a.scrolling="visible"),"image"===o&&(a.aspectRatio=!0),"iframe"===o&&d&&(a.scrolling="scroll"),a.wrap=i(a.tpl.wrap).addClass("fancybox-"+(d?"mobile":"desktop")+" fancybox-type-"+o+" fancybox-tmp "+a.wrapCSS).appendTo(a.parent||"body"),i.extend(a,{skin:i(".fancybox-skin",a.wrap),outer:i(".fancybox-outer",a.wrap),inner:i(".fancybox-inner",a.wrap)}),i.each(["Top","Right","Bottom","Left"],function(e,t){a.skin.css("padding"+t,m(a.padding[e]))}),r.trigger("onReady"),"inline"===o||"html"===o){if(!a.content||!a.content.length)return r._error("content")}else if(!t)return r._error("href");"image"===o?r._loadImage():"ajax"===o?r._loadAjax():"iframe"===o?r._loadIframe():r._afterLoad()}},_error:function(e){i.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var e=r.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,r._error("image")},e.src=r.coming.href,!0!==e.complete&&r.showLoading()},_loadAjax:function(){var e=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){r.coming&&"abort"!==t?r._error("ajax",e):r.hideLoading()},success:function(t,i){"success"===i&&(e.content=t,r._afterLoad())}}))},_loadIframe:function(){var e=r.coming,t=i(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",d?"auto":e.iframe.scrolling).attr("src",e.href);i(e.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(r.showLoading(),t.one("load",function(){i(this).data("ready",1),d||i(this).bind("load.fb",r.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),r._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||r._afterLoad()},_preloadImages:function(){var e,t,i=r.group,o=r.current,a=i.length,n=o.preload?Math.min(o.preload,a-1):0;for(t=1;t<=n;t+=1)e=i[(o.index+t)%a],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,o,a,n,s=r.coming,l=r.current;if(r.hideLoading(),s&&!1!==r.isActive)if(!1===r.trigger("afterLoad",s,l))s.wrap.stop(!0).trigger("onReset").remove(),r.coming=null;else{switch(l&&(r.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),r.unbindEvents(),e=s.content,t=s.type,o=s.scrolling,i.extend(r,{wrap:s.wrap,skin:s.skin,outer:s.outer,inner:s.inner,current:s,previous:l}),a=s.href,t){case"inline":case"ajax":case"html":s.selector?e=i("<div>").html(e).find(s.selector):h(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",i('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),s.wrap.bind("onReset",function(){i(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=s.tpl.image.replace("{href}",a);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+a+'"></param>',n="",i.each(s.swf,function(t,i){e+='<param name="'+t+'" value="'+i+'"></param>',n+=" "+t+'="'+i+'"'}),e+='<embed src="'+a+'" type="application/x-shockwave-flash" width="100%" height="100%"'+n+"></embed></object>"}(!h(e)||!e.parent().is(s.inner))&&s.inner.append(e),r.trigger("beforeShow"),s.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?l.prevMethod&&r.transitions[l.prevMethod]():i(".fancybox-wrap").not(s.wrap).stop(!0).trigger("onReset").remove(),r.transitions[r.isOpened?s.nextMethod:s.openMethod](),r._preloadImages()}},_setDimension:function(){var e,t,o,a,n,s,l,c,d,h=r.getViewport(),u=0,g=!1,v=!1,g=r.wrap,w=r.skin,y=r.inner,b=r.current,v=b.width,_=b.height,x=b.minWidth,$=b.minHeight,C=b.maxWidth,k=b.maxHeight,j=b.scrolling,T=b.scrollOutside?b.scrollbarWidth:0,A=b.margin,S=f(A[1]+A[3]),L=f(A[0]+A[2]);if(g.add(w).add(y).width("auto").height("auto").removeClass("fancybox-tmp"),A=f(w.outerWidth(!0)-w.width()),e=f(w.outerHeight(!0)-w.height()),t=S+A,o=L+e,a=p(v)?(h.w-t)*f(v)/100:v,n=p(_)?(h.h-o)*f(_)/100:_,"iframe"===b.type){if(d=b.content,b.autoHeight&&1===d.data("ready"))try{d[0].contentWindow.document.location&&(y.width(a).height(9999),s=d.contents().find("body"),T&&s.css("overflow-x","hidden"),n=s.outerHeight(!0))}catch(e){}}else(b.autoWidth||b.autoHeight)&&(y.addClass("fancybox-tmp"),b.autoWidth||y.width(a),b.autoHeight||y.height(n),b.autoWidth&&(a=y.width()),b.autoHeight&&(n=y.height()),y.removeClass("fancybox-tmp"));if(v=f(a),_=f(n),c=a/n,x=f(p(x)?f(x,"w")-t:x),C=f(p(C)?f(C,"w")-t:C),$=f(p($)?f($,"h")-o:$),k=f(p(k)?f(k,"h")-o:k),s=C,l=k,b.fitToView&&(C=Math.min(h.w-t,C),k=Math.min(h.h-o,k)),t=h.w-S,L=h.h-L,b.aspectRatio?(v>C&&(v=C,_=f(v/c)),_>k&&(_=k,v=f(_*c)),v<x&&(v=x,_=f(v/c)),_<$&&(_=$,v=f(_*c))):(v=Math.max(x,Math.min(v,C)),b.autoHeight&&"iframe"!==b.type&&(y.width(v),_=y.height()),_=Math.max($,Math.min(_,k))),b.fitToView)if(y.width(v).height(_),g.width(v+A),h=g.width(),S=g.height(),b.aspectRatio)for(;(h>t||S>L)&&v>x&&_>$&&!(19<u++);)_=Math.max($,Math.min(k,_-10)),v=f(_*c),v<x&&(v=x,_=f(v/c)),v>C&&(v=C,_=f(v/c)),y.width(v).height(_),g.width(v+A),h=g.width(),S=g.height();else v=Math.max(x,Math.min(v,v-(h-t))),_=Math.max($,Math.min(_,_-(S-L)));T&&"auto"===j&&_<n&&v+A+T<t&&(v+=T),y.width(v).height(_),g.width(v+A),h=g.width(),S=g.height(),g=(h>t||S>L)&&v>x&&_>$,v=b.aspectRatio?v<s&&_<l&&v<a&&_<n:(v<s||_<l)&&(v<a||_<n),i.extend(b,{dim:{width:m(h),height:m(S)},origWidth:a,origHeight:n,canShrink:g,canExpand:v,wPadding:A,hPadding:e,wrapSpace:S-w.outerHeight(!0),skinSpace:w.height()-_}),!d&&b.autoHeight&&_>$&&_<k&&!v&&y.height("auto")},_getPosition:function(e){var t=r.current,i=r.getViewport(),o=t.margin,a=r.wrap.width()+o[1]+o[3],n=r.wrap.height()+o[0]+o[2],o={position:"absolute",top:o[0],left:o[3]};return t.autoCenter&&t.fixed&&!e&&n<=i.h&&a<=i.w?o.position="fixed":t.locked||(o.top+=i.y,o.left+=i.x),o.top=m(Math.max(o.top,o.top+(i.h-n)*t.topRatio)),o.left=m(Math.max(o.left,o.left+(i.w-a)*t.leftRatio)),o},_afterZoomIn:function(){var e=r.current;e&&(r.isOpen=r.isOpened=!0,r.wrap.css("overflow","visible").addClass("fancybox-opened"),r.update(),(e.closeClick||e.nextClick&&1<r.group.length)&&r.inner.css("cursor","pointer").bind("click.fb",function(t){!i(t.target).is("a")&&!i(t.target).parent().is("a")&&(t.preventDefault(),r[e.closeClick?"close":"next"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(e){e.preventDefault(),r.close()}),e.arrows&&1<r.group.length&&((e.loop||0<e.index)&&i(e.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(e.loop||e.index<r.group.length-1)&&i(e.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.trigger("afterShow"),e.loop||e.index!==e.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play()):r.play(!1))},_afterZoomOut:function(e){e=e||r.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",e)}}),r.transitions={getOrigPosition:function(){var e=r.current,t=e.element,i=e.orig,o={},a=50,n=50,s=e.hPadding,l=e.wPadding,c=r.getViewport();return!i&&e.isDom&&t.is(":visible")&&(i=t.find("img:first"),i.length||(i=t)),h(i)?(o=i.offset(),i.is("img")&&(a=i.outerWidth(),n=i.outerHeight())):(o.top=c.y+(c.h-n)*e.topRatio,o.left=c.x+(c.w-a)*e.leftRatio),("fixed"===r.wrap.css("position")||e.locked)&&(o.top-=c.y,o.left-=c.x),o={top:m(o.top-s*e.topRatio),left:m(o.left-l*e.leftRatio),width:m(a+l),height:m(n+s)}},step:function(e,t){var i,o,a=t.prop;o=r.current;var n=o.wrapSpace,s=o.skinSpace;"width"!==a&&"height"!==a||(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),r.isClosing&&(i=1-i),o="width"===a?o.wPadding:o.hPadding,o=e-o,r.skin[a](f("width"===a?o:o-n*i)),r.inner[a](f("width"===a?o:o-n*i-s*i)))},zoomIn:function(){var e=r.current,t=e.pos,o=e.openEffect,a="elastic"===o,n=i.extend({opacity:1},t);delete n.position,a?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===o&&(t.opacity=.1),r.wrap.css(t).animate(n,{duration:"none"===o?0:e.openSpeed,easing:e.openEasing,step:a?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var e=r.current,t=e.closeEffect,i="elastic"===t,o={opacity:.1};i&&(o=this.getOrigPosition(),e.closeOpacity&&(o.opacity=.1)),r.wrap.animate(o,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var e,t=r.current,i=t.nextEffect,o=t.pos,a={opacity:1},n=r.direction;o.opacity=.1,"elastic"===i&&(e="down"===n||"up"===n?"top":"left","down"===n||"right"===n?(o[e]=m(f(o[e])-200),a[e]="+=200px"):(o[e]=m(f(o[e])+200),a[e]="-=200px")),"none"===i?r._afterZoomIn():r.wrap.css(o).animate(a,{duration:t.nextSpeed,easing:t.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var e=r.previous,t=e.prevEffect,o={opacity:.1},a=r.direction;"elastic"===t&&(o["down"===a||"up"===a?"top":"left"]=("up"===a||"left"===a?"-":"+")+"=200px"),e.wrap.animate(o,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(e){e=i.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(r.coming?r.coming.parent:e.parent),this.fixed=!1,e.fixed&&r.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(n.bind("resize.overlay",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){if(i(e.target).hasClass("fancybox-overlay"))return r.isActive?r.close():t.close(),!1}),this.overlay.css(e.css).show()},close:function(){var e,t;n.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),e=n.scrollTop(),t=n.scrollLeft(),this.el.removeClass("fancybox-lock"),n.scrollTop(e).scrollLeft(t)),i(".fancybox-overlay").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var e,i="100%";this.overlay.width(i).height("100%"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),s.width()>e&&(i=s.width())):s.width()>n.width()&&(i=s.width()),this.overlay.width(i).height(s.height())},onReady:function(e,t){var o=this.overlay;i(".fancybox-overlay").stop(!0,!0),o||this.create(e),e.locked&&this.fixed&&t.fixed&&(o||(this.margin=s.height()>n.height()&&i("html").css("margin-right").replace("px","")),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var o,a;t.locked&&(!1!==this.margin&&(i("*").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),o=n.scrollTop(),a=n.scrollLeft(),this.el.addClass("fancybox-lock"),n.scrollTop(o).scrollLeft(a)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!r.coming&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=r.current,o=t.title,a=e.type;if(i.isFunction(o)&&(o=o.call(t.element,t)),u(o)&&""!==i.trim(o)){switch(t=i('<div class="fancybox-title fancybox-title-'+a+'-wrap">'+o+"</div>"),a){case"inside":a=r.skin;break;case"outside":a=r.wrap;break;case"over":a=r.inner;break;default:a=r.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(f(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](a)}}},i.fn.fancybox=function(e){var t,o=i(this),a=this.selector||"",n=function(n){var s,l,c=i(this).blur(),d=t;!n.ctrlKey&&!n.altKey&&!n.shiftKey&&!n.metaKey&&!c.is(".fancybox-wrap")&&(s=e.groupAttr||"data-fancybox-group",l=c.attr(s),l||(s="rel",l=c.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(c=a.length?i(a):o,c=c.filter("["+s+'="'+l+'"]'),d=c.index(this)),e.index=d,!1!==r.open(c,e)&&n.preventDefault())};return e=e||{},t=e.index||0,a&&!1!==e.live?s.undelegate(a,"click.fb-start").delegate(a+":not('.fancybox-item, .fancybox-nav')","click.fb-start",n):o.unbind("click.fb-start").bind("click.fb-start",n),this.filter("[data-fancybox-start=1]").trigger("click"),this},s.ready(function(){var t,n;if(i.scrollbarWidth===o&&(i.scrollbarWidth=function(){var e=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),t=t.innerWidth()-t.height(99).innerWidth();return e.remove(),t}),i.support.fixedPosition===o){t=i.support,n=i('<div style="position:fixed;top:20px;"></div>').appendTo("body");var s=20===n[0].offsetTop||15===n[0].offsetTop;n.remove(),t.fixedPosition=s}i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),t=i(e).width(),a.addClass("fancybox-lock-test"),n=i(e).width(),a.removeClass("fancybox-lock-test"),i("<style type='text/css'>.fancybox-margin{margin-right:"+(n-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery);var Zalora=Zalora||{},wishlist={url_addTo:"/ajax/wishlist/add",url_addToCart:"/cart/add",editItems:$("#editItems").val(),ajax_loader:null,redirect_to_login:!0,message_holder:null,i18n_enter_name:"please enter a name for the wishlist",i18n_select_option:"please select an option first",initialize:function(){this.init(),this.sync()},init:function(){$("#sizeSelectInfo").length&&(this.i18n_select_option=$("#sizeSelectInfo span").text()),$(".login-overlay-active").length&&(this.redirect_to_login=!1),$("[data-role=wishlist-message-holder]").length?this.message_holder=$("[data-role=wishlist-message-holder]"):this.message_holder=$(".content")},sync:function(){if($(".wishlistShare a.share").click(function(){var e=$(this),t=$(window),i=e.attr("href"),o=t.width();return windowHeight=t.height(),alignLeft=(o-500)/2,alignTop=(windowHeight-300)/2,window.open(i,"social-network-window","height=300,width=500,scrollbars=1,left="+alignLeft+",top="+alignTop),!1}),$('[id^="wishlist-addtocart"]').click(function(e){e.preventDefault(),wishlist.addItemToCart(this)}),$("#wishlist-toggle-addto").click(function(e){e.preventDefault(),wishlist.toggleAddTo(this)}),$(".ie7 .toggleWishListMenu").length>0){var e=$(".toggleWishListMenu").length,t=$(".toggleWishListMenu").parent();$(t).each(function(){$(this).css("z-index",e),e--})}$(".toggleWishListMenu").click(function(e){e.preventDefault(),e.stopPropagation(),wishlist.toggleWishListMenu(this),$(this).hide()}),$(".toggleWishlist").click(function(e){e.preventDefault(),wishlist.toggleWishListMenu(this)}),$(".removeWishlistItem").click(function(e){if(e.preventDefault(),e.stopPropagation(),wishlist.editItems){var t=$(this).closest(".addToCart").find(".wl-item__delete-popover");t.is(":visible")?wishlist.closeShareMenu():(wishlist.closeShareMenu(),t.show(),t.focus())}}),$(".js-dismiss_itm").click(function(e){wishlist.closeShareMenu()}),$(".js-delete_itm").click(function(){var e=this,t=$(this).attr("data-wishlist"),i=$(this).attr("data-wishlist-item");$.ajax({type:"GET",
url:window.location.origin+"/customer/wishlist/remove/?id_customer_wishlist="+t+"&id_customer_wishlist_item="+i+"&isAjax=true",success:function(t,i,o){var a=JSON.parse(t);a.message&&($("#content").prepend("<div class='js-msg box s-error mbs msgBox l-pageWrapper mbm mtm'><div class='pam'>"+a.message+"</div></div>"),$(".js-msg").fadeOut(5e3)),a.success&&wishlist.removeItemSuccessfully(e)}})}),$(".wishlist-share-close").click(function(e){e.preventDefault(),wishlist.closeShareMenu()})},addItemToCart:function(e){var t=$(e),i={p:t.attr("data-p"),sku:t.attr("data-sku"),size:t.attr("data-size"),selectedsizesystem:t.attr("data-sizesystem"),type:"ajax",id_customer_wishlist:t.attr("data-wishlist"),id_customer_wishlist_item:t.attr("data-wishlist-item"),editItems:wishlist.editItems,sourceCatalog:$("#sourceCatalog").val()};Zalora.sendEvent("add_to_cart",$("#configSku").val()),miniCart.addItemAjaxCart(i,t)},addItemToWishlist:function(e){var t,i,o=wishlist.getWishlistItem(e);return""!==o.item?(t={p:o.config,sku:o.item},$(e).hasClass("wl-addToDftWishlist")||(i=$(e).attr("id").replace("wishlist-selector-link-",""),isNaN(i)||(t.id_wishlist=i)),this.ajaxParamCall(this.url_addTo,t),!0):(wishlist.alert(wishlist.i18n_select_option),!1)},updateCartHeader:function(e){e.cartValue&&$(".hdCart .price").html(e.cartValue),e.cartCount&&$(".b-shoppingBag__num").text(e.cartCount)},getWishlistItem:function(e){var t=$("#configSku").val(),i=null;if(t)i=$("#selectedSku").val();else{var o=$(e).parents(".wishlist").attr("id");t=o.replace(/p_([^_]*)_sku_.*/,"$1"),i=o.replace(/p_[^_]*_sku_/,"")}return{item:i,config:t}},flashMessage:function(e,t){var i="",o="";if("object"==typeof e)i=e.messages[0].type,o=e.messages[0].message;else{if('"redirect"'==e)return void(wishlist.redirect_to_login?window.location.href="/customer/account/login/":loginPopup.setRedirectUrl(t));"true"==e?(i="success",o=$("#wishlist-append-success").val()):(i="error",o=$("#wishlist-append-failed").val())}$("#addToCartReponse-"+e.latestsku).removeClass("display-none").addClass("display-block"),$("#addToCartReponse-"+e.latestsku).html('<div class="box s-'+i+' mbs pas msgBox" id="wishlist_msg">'+o+"</div>"),wishlist.ajax_loader&&(wishlist.ajax_loader.hide(),wishlist.ajax_loader=null),$("#addToCartReponse-"+e.latestsku+" #wishlist_msg").slideDown(300).delay(3200).fadeOut(1e3,function(){$("#addToCartReponse-"+e.latestsku).removeClass("display-block").addClass("display-none")})},ajaxParamCall:function(e,t){for(var i in t)e+="/"+i+"/"+t[i];e+="/",this.ajaxCall(e)},ajaxCall:function(e,t){var i={isAjax:"true"};i[helper.csrf.getTokenName()]=helper.csrf.getToken(),jQuery.ajaxSetup(i),jQuery.ajax({success:function(t){wishlist.flashMessage(t,e),wishlist.updateCartHeader(t)},type:"POST",url:e,cache:!1})},toggleWishListMenu:function(e){wishlist.closeShareMenu(),$(".wishListMenu").hide();var t=$(e).parent().find(".wishListMenu");$(e).toggleClass("open"),t.show()},alert:function(e){alert(e)},removeItemSuccessfully:function(e){Zalora.Header.HeaderModel.wishlist_count&&!isNaN(Zalora.Header.HeaderModel.wishlist_count)&&(Zalora.Header.HeaderModel.wishlist_count-=1,Zalora.Header.HeaderModel.wishlist_count<1?(Zalora.Header.HeaderController.updateWishlistCount(""),$(".js-seg-bar__wishlist").removeClass("icon_favourites_item").addClass("icon_favourites"),$(".js-wl-top-bar").hide(),$(".js-no-item-message").show()):Zalora.Header.HeaderController.updateWishlistCount(Zalora.Header.HeaderModel.wishlist_count)),$(e).closest("tr").hide(1e3,function(){$(this).remove()})},closeShareMenu:function(){$(".js-wl-popup").hide(),$(".toggleWishListMenu").show()}};$(document).ready(function(){wishlist.initialize()}),$(document).click(function(e){!1===$(e.target).is(".js-wl-popup")&&$(".js-wl-popup").is(":visible")&&wishlist.closeShareMenu()}),$(".js-wl-popup").click(function(e){e.stopPropagation()});var Zalora=Zalora||{};Zalora.ajaxAdapter=Zalora.ajaxAdapter||{},Zalora.Account=Zalora.Account||{},Zalora.Account.OrderCancellation={cancelOrderURL:"/customer/order/cancel/",orderCancellationForm:"order-cancellation",cancelItemsAction:".js-cancel-item",dismissPopoverAction:".js-dismiss",popoverContainer:".js-popover",cancelOrderBtn:".js-cancel-order",selectAllItemsAction:".js-selectAll-items",itemCheckBoxSelector:".js-item-check",hideItem:".hide-item",disabledItem:".order-item-row.disabled",disabledMessage:".js-disabled_message",init:function(){this.bindEvents()},bindEvents:function(){var e=this,t=Zalora.ajaxAdapter;$(document).on("click",this.cancelItemsAction,this.showCancelItems.bind(this)),$(document).on("click",this.selectAllItemsAction,this.toggleAllItems),$(document).on("click",this.dismissPopoverAction,this.hidePopover.bind(this)),t.trigger("submit",this.orderCancellationForm,this.cancelOrderURL,this.cancelOrderBtn,e.submitCancelOrderCallback,"")},showCancelItems:function(){$(this.hideItem).show();var e=Zalora.Account.OrderCancellation,t=$(e.disabledMessage);$(this.disabledItem).hover(function(i){if($(this).hasClass("packed")&&!$(e.disabledMessage).is(":visible")){var o=($(this).css("height"),$(this).position()),a=o.top+20;t.css({position:"absolute",top:a}),t.show()}},function(e){$(e.toElement).hasClass("js-disabled_message")||t.hide()}),$(this.disabledItem).css({opacity:.3})},hideCancelItems:function(e){$(e.hideItem).hide()},toggleAllItems:function(){var e=Zalora.Account.OrderCancellation,t=$(e.itemCheckBoxSelector);this.checked?t.each(function(){$(this).attr("disabled")||$(this).attr({checked:!0})}):t.each(function(){$(this).attr("disabled")||$(this).removeAttr("checked")})},hidePopover:function(){var e=$(this.dismissPopoverAction).attr("data");$(this.popoverContainer).remove(),Zalora.Tracking.sendEvent("Order & Tracking",e,"",1)},submitCancelOrderCallback:function(e){var t=Zalora.Account.OrderCancellation;void 0!==e.data&&(t.showMessage(e.data,t),t.updateCancellationMessage(e.data),t.hideCancelItems(t),$(t.selectAllItemsAction).removeAttr("checked"))},showMessage:function(e,t){var i;i="<div class='popover js-popover'>",i+="<div class='pbml title'>"+e.title+"</div>",i+="<div class='pbl'>"+e.description+"</div>",i+="<div class='js-dismiss' data='"+e.trackingLabel+"'><button id='buttonCancellationOk' class='btn btn-primary'>"+e.action+"</button></div>",i+="</div>",$("#"+t.orderCancellationForm).append(i)},updateCancellationMessage:function(e){if(void 0!==e.item_ids){var t,i,o=e.item_ids;for(i="<div class='item-cancellation_status'>",i+="<span class='cancellation_status_title pending'>"+e.item_pending_title+"</span>",i+="<br>",i+="<span>"+e.item_pending_message+"</span>",i+="</div>",t=0;t<o.length;t++)"item-cancellation_status"!==$("#js-orderStatus-"+o[t]).next().attr("class")&&($("#js-orderStatus-"+o[t]).after(i),$("#js-order-item-row-"+o[t]).addClass("disabled"),$("#js-item-check-"+o[t]).removeAttr("checked").attr({disabled:!0}))}}};var account={urlGetSubscription:"/customer/wallet/getsubscription/",addressForm:$("#address-form"),addressId:0,action:null,postcodesList:null,initialize:function(e){""!=e.postcodesList&&(this.postcodesList=e.postcodesList)},init:function(){this.countrySelectShowRegionList(),this.returnOrder(),this.tracking(),this.initAbandonedFormTracking(),this.addNewsletterFrequencyEvent(),this.redeemVoucherCode(),this.initLinks(),this.initAddressLinks(),this.initSlider(),this.initOrderCancellation(),this.initInvoice()},initInvoice:function(){$(".js_account_print_invoice_label").on("mouseover",function(e){Zalora.FormHelper.triggerTooltip($(this),$(this).attr("data-tooltip"),"#00c8b4")}),$(".js_account_print_invoice_label").on("mouseout",function(e){Zalora.FormHelper.closeTooltip($(this))}),$(".js_account_print_invoice").on("click",function(e){e.preventDefault();var t=Zalora.jsStore.invoiceUrls;if(t)for(var i=0;i<t.length;i++)window.open(t[i])})},redeemVoucherCode:function(){$(".walletCreditCta").on("click",function(){return e(),!1}),$("#wallet_voucher").on("submit",function(t){return e(),!1});var e=function(){var e=$("#wallet_voucher"),t=$("#VoucherForm_code"),i=t.val();if(!i)return alert(window.store.redeem_empty),t.focus(),!1;var o=e.attr("action"),a={};a[t.attr("name")]=i,t.val(""),$.post(o,a,function(e){var t=$('<div class="box mbs msgBox"/>');if(t.append($('<div class="pas"/>')),void 0!==e.response&&e.response&&e.response.success){t.addClass("s-success").find("div.pas").html(e.response.message),$(".walletBalance").html(e.response.wallet_balance),parseFloat(e.response.wallet_balance)>0?$(".redeemWallet").removeClass("display-none"):$(".redeemWallet").addClass("display-none");var i=$("<tr/>").append($("<td/>").addClass("active").html(e.response.from_date)).append($("<td/>").addClass("active").html(e.response.reference_code)).append($("<td/>").addClass("active uc").html(e.response.classification)).append($("<td/>").addClass("active txtRight").html(e.response.credited)).append($("<td/>").addClass("active txtRight").html(e.response.spent)).append($("<td/>").addClass("active").html(e.response.to_date));$("#walletHistory table > tbody").append(i),$("#walletHistory").hasClass("display-none")&&$("#walletHistory").removeClass("display-none")}else t.addClass("s-error").find("div.pas").html(e.response.message);$("#content").prepend(t)})}},countrySelectShowRegionList:function(){void 0!==window.store.number_of_countries&&window.store.number_of_countries>1&&$(function(){$("#AddressForm_fk_country").change(function(){var e=window.store.obj_countries_grouped_by_regions,t=$(this).children("option:selected").attr("value"),i="";$.each(e[t],function(e,t){i+='<option value="'+e+'">'+t+"</option>"}),$("#AddressForm_fk_customer_address_region").html(i)})})},regionSelectShowCitiesList:function(){var e=window.store.choose_province,t=window.store.choose_city,i=window.store.customer_address_region,o=window.store.customer_address_city,a=window.store.citiesList;$("#AddressForm_fk_customer_address_region").prepend('<option value="">- '+e+"</option>"),$("#AddressForm_fk_customer_address_region").val(""),$("#AddressForm_fk_customer_address_region").change(function(e){if($("#AddressForm_fk_customer_address_city").children("option").remove(),""!=$(this).val()){var i=$(this).val();$("#AddressForm_fk_customer_address_city").append('<option value="">- '+t+"</option>").append(account.createOptions(a,i))}}),""!=i&&($("#AddressForm_fk_customer_address_region").val(i),$("#AddressForm_fk_customer_address_city").append('<option value="">- '+t+"</option>").append(account.createOptions(a,i)),""!=o&&$("#AddressForm_fk_customer_address_city").val(o))},createOptions:function(e,i,o){if(e){t="";for(var a in e)e[a].region==i&&(t+='<option value="'+e[a].id+'"'+(o==e[a].id?'selected="selected"':"")+">"+e[a].name+"</option>");return t}},returnOrder:function(){$("#return-form").bind("submit",function(){$(this).find("input,textarea").attr("readonly",!0),$(".return-actions button").bind("click",function(){return!1})}),$(".return-item").bind("change",function(){var e=$(this).closest("tr"),t=$(this).val();e.next().hasClass("return-reason")?e.next().remove():$.ajax("/customer/order/ajaxReturnReason",{method:"GET",data:{item_id:t},success:function(t){e.after(t)}})})},initAbandonedFormTracking:function(){var e=$("#RegistrationForm_email");if(1===e.length){Zalora.AbandonedFormTracking.watchField(e);e.closest("form").submit(function(){Zalora.AbandonedFormTracking.unWatchField(e)})}},tracking:function(){if(void 0!==window.store.country_iso&&"undefined"!=typeof ga){var e=window.store.country_iso;$(".fbLoginButton a, .fbCreatePageLoginButton a").click(function(){ga("send","event",e+"_Customer_Accounts","Connect","Facebook")}),$(".ui-login").click(function(){ga("send","event",e+"_Customer_Accounts","Login","Zalora")}),$(".ui-register").click(function(){ga("send","event",e+"_Customer_Accounts","Register","Zalora")})}},checkSubcategorie:function(e){$("#categorie_id_"+e).attr("checked")?$(".subCategorie-"+e).attr("checked",!0):$(".subCategorie-"+e).attr("checked",!1)},checkCategorie:function(e,t,i){if($("#subCategorie_"+e).attr("checked")){i=JSON.parse(i);for(x in i)if(!$("#subCategorie_"+i[x]).attr("checked"))return;$("#categorie_id_"+t).attr("checked",!0)}else $("#categorie_id_"+t).attr("checked",!1)},addNewsletterFrequencyEvent:function(){if(void 0!=window.store.categorieIds){categorieIds=window.store.categorieIds;var e=0;for(e=0;e<categorieIds.length;++e)categorieId=categorieIds[e],$("#categorie_id_"+categorieId).change(function(){if($("#NewsletterForm_nl_frequency_cat_"+categorieId+"_0").attr("disabled")){$("#NewsletterForm_nl_frequency_cat_'.categorieId.' :input").each(function(e){$("#NewsletterForm_nl_frequency_cat_"+categorieId+"_"+e).removeAttr("disabled")});var e=!1;$("#NewsletterForm_nl_frequency_cat_'.categorieId.' :input").each(function(t){$("#NewsletterForm_nl_frequency_cat_"+categorieId+"_"+t).attr("checked")&&(e=!0)}),e||$("#NewsletterForm_nl_frequency_cat_"+categorieId+"_0").attr("checked",!0)}else $("#NewsletterForm_nl_frequency_cat_'.categorieId.' :input").each(function(e){$("#NewsletterForm_nl_frequency_cat_"+categorieId+"_"+e).attr("disabled",!0)})})}},initLinks:function(){$(".js-inviteList").on("click",function(e){$(".js-inviteList > span").toggleClass("display-none"),$(".b-account__inviteList").toggle()}),$(".js-walletList").on("click",function(e){$(".js-walletList > span").toggleClass("display-none"),$(".b-account__walletList").toggle()}),$(".js-bapList").on("click",function(e){e.preventDefault();$.ajax({type:"POST",url:$(this).attr("href")}).done(function(e){$.fancybox(".js-bapContainer",{autoDimensions:!1,width:"auto",height:"auto",transitionIn:"none",transitionOut:"none",type:"inline",afterLoad:function(){$(".js-bapContainer").html(e)}})})}),$("a",".js-bapContainer").live("click",function(e){if(e.preventDefault(),"faq-link"==$(this).attr("class"))return void window.open($(this).attr("href"));$.ajax({type:"POST",url:$(this).attr("href")}).done(function(e){$(".js-bapContainer").html(e)})})},updateForm:function(e){e&&(e.indexOf("success")>-1?location.reload():("edit"==this.action?($(".address-"+this.addressId).html(e),this.addressForm=$(".address-"+this.addressId+" form")):($(".new-address").html(e),this.addressForm=$(".new-address form")),this.setData()))},setData:function(){this.placeholderAddressThirdLevelText=window.store.choose_address_third_level},initAddressLinks:function(){var e=this;$(".js-shipping-option").on("click",function(){var e=$(this).attr("id");$(location).attr("href","/customer/address/makedefaultshipping/?address_id="+e)}),$(".js-address-edit").live("click",function(t){t.preventDefault(),$(".js-address-cancel").trigger("click");var i,o=$(this).attr("id").split("-"),a=o[1],n=e;e.addressId=a,e["addressData"+a]=$(".address-"+a).html(),i=$.ajax({type:"POST",url:"/customer/address/edit/?ajax=true&address_id="+a}),i.done(function(e){$(".address-"+a).html(e),n.addressForm=$(".address-"+a+" form"),n.action="edit",account.setData()})}),$(document).on("click",".js-address-cancel",function(){var t=$(this).attr("id").split("-"),i=t[1];""!=i?$(".address-"+i).html(e["addressData"+i]):e.removeNewAddressForm()}),$(".js-save-address").live("click",function(t){t.preventDefault(),$.ajax({type:"POST",url:"/customer/address/"+e.action+"/?ajax=true&address_id="+e.addressId,data:e.addressForm.serialize(),success:function(t){e.updateForm(t)},error:function(){e.updateForm(!1)}})}),$(".js-address-new").on("click",function(t){t.preventDefault(),$(".js-address-cancel").trigger("click"),e.loadNewAddressForm()})},loadNewAddressForm:function(){var e=this;$.ajax({type:"POST",url:"/customer/address/create/?ajax=true"}).done(function(t){$(".new-address").addClass("ui-borderTop ptm pbm"),$(".new-address").html(t),e.addressForm=$(".new-address form"),e.action="create",account.setData(),e.countrySelectShowRegionList()})},removeNewAddressForm:function(){$(".new-address").removeClass("ui-borderTop ptm pbm"),$(".new-address").html("")},loadThirdAddressLevel:function(e,t,i){if($(t).html(""),""==e||null==e||""==t||null==t)return!1;var o="/checkout/finish/getaddressthirdleveloptions/?cityId="+e,a=this.placeholderAddressThirdLevelText;$.getJSON(o).done(function(e){var o=Object.keys(e);if(o.length>0){var n='<option value="">'+a+"</option>";for(var s in o)n+='<option value="'+o[s]+'">'+e[o[s]]+"</option>";$(t).html(n),i=1==o.length?o[0]:i,$(t).val(i)}})},initSlider:function(){Zalora.CreditCard.initSlider(this)},initOrderCancellation:function(){void 0!==Zalora.Account.OrderCancellation&&Zalora.Account.OrderCancellation.init()},loadSubscription:function(e){Zalora.ajaxAdapter.call(this.urlGetSubscription,{subscription_id:e},"",this.loadSubscriptionCallback)},loadSubscriptionCallback:function(e){void 0!==e.response.card&&(card=e.response.card,cardIdSelector="#"+card.id,$("."+card.id+"-cc-loading_box").remove(),$("."+card.id+"-delete-btn").show(),$(cardIdSelector+"-number").html(card.number),$(cardIdSelector+"-expiry").html(card.expiry),$(cardIdSelector+"-cc_holder").html(card.cc_holder),$(cardIdSelector+"-icon-type").addClass("icon_"+card.type),$(cardIdSelector).removeClass("js-load-cc"))}};jQuery(function(){account.init()});var OptionList=function(e,t){var i=this;this.selectionLimit=5,this.elements=[],this.choice=[];this.checkLimit=function(){this.choice.length>=this.selectionLimit?this.disableRemaining():this.enableAll()},this.disableRemaining=function(){for(var e in this.elements)this.elements[e].checked||(this.elements[e].disabled=!0)},this.enableAll=function(){for(var e in this.elements)this.elements[e].disabled&&(this.elements[e].disabled=!1)},function(e,t){void 0!==t&&(i.selectionLimit=t);for(var o=$(e),a=0;a<o.length;a++)i.elements.push(o[a]),$(o[a]).change(function(){if(this.checked)i.choice.push(this);else{var e=[];for(a in i.choice)i.choice[a]!=this&&e.push(i.choice[a]);i.choice=e}i.checkLimit()}),o[a].checked&&i.choice.push(o[a]);i.checkLimit()}(e,t)};!function(e){e.fn.jCarouselLite=function(t){return t=e.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:!1,auto:null,speed:200,easing:null,vertical:!1,circular:!0,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},t||{}),this.each(function(){var a=!1,n=t.vertical?"top":"left",s=t.vertical?"height":"width",r=e(this),l=e("ul",r),c=e("li",l),d=c.size(),h=t.visible;t.circular&&(l.prepend(c.slice(d-h-1+1).clone()).append(c.slice(0,h).clone()),t.start+=h);var u=e("li",l),p=u.size(),f=t.start;r.css("visibility","visible"),u.css({overflow:"hidden",float:t.vertical?"none":"left"}),l.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"}),r.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var m=t.vertical?o(u):i(u),g=m*p,v=m*h;u.css({width:u.width(),height:u.height()}),l.css(s,g+"px").css(n,-f*m),r.css(s,v+"px"),t.btnPrev&&e(t.btnPrev).click(function(){return y(f-t.scroll)}),t.btnNext&&e(t.btnNext).click(function(){return y(f+t.scroll)}),t.btnGo&&e.each(t.btnGo,function(i,o){e(o).click(function(){return y(t.circular?t.visible+i:i)})}),t.mouseWheel&&r.mousewheel&&r.mousewheel(function(e,i){return y(i>0?f-t.scroll:f+t.scroll)}),t.auto&&setInterval(function(){y(f+t.scroll)},t.auto+t.speed);function w(){return u.slice(f).slice(0,h)}function y(i){if(!a){if(t.beforeStart&&t.beforeStart.call(this,w()),t.circular)i<=t.start-h-1?(l.css(n,-(p-2*h)*m+"px"),f=i==t.start-h-1?p-2*h-1:p-2*h-t.scroll):i>=p-h+1?(l.css(n,-h*m+"px"),f=i==p-h+1?h+1:h+t.scroll):f=i;else{if(i<0||i>p-h)return;f=i}a=!0,l.animate("left"==n?{left:-f*m}:{top:-f*m},t.speed,t.easing,function(){t.afterEnd&&t.afterEnd.call(this,w()),a=!1}),t.circular||(e(t.btnPrev+","+t.btnNext).removeClass("disabled"),e(f-t.scroll<0&&t.btnPrev||f+t.scroll>p-h&&t.btnNext||[]).addClass("disabled"))}return!1}})};function t(t,i){return parseInt(e.css(t[0],i))||0}function i(i){return e(i).outerWidth()+t(i,"marginLeft")+t(i,"marginRight")}function o(i){return e(i).outerHeight()+t(i,"marginTop")+t(i,"marginBottom")}}(jQuery);var Zalora=Zalora||{};Zalora.ajaxAdapter={trigger:function(e,t,i,o,a,n){var s=this,r="#"+t;$(document).on(e,r,function(e){e.preventDefault();var t=$(r).serialize();s.call(i,t,o,a,"")})},call:function(e,t,i,o,a,n){$.ajax({type:"POST",dataType:"json",url:e,cache:!1,context:a,data:t,beforeSend:function(){$(i).attr("disabled",!0),void 0!==i&&Zalora.ajaxAdapter.startSpinner(i),void 0!==n&&""!==n&&Zalora.ajaxAdapter.startOverlay(n)},success:o,complete:function(){$(i).removeAttr("disabled",!1),void 0!==i&&Zalora.ajaxAdapter.stopSpinner(i),void 0!==n&&""!==n&&Zalora.ajaxAdapter.stopOverlay(n)}})},error:function(e){checkoutProcess.hideModal(),void 0!==e.requestFailed&"400"===e.requestFailed?checkoutProcess.showMessageBox({text:"Session expired. Please refresh your page."}):checkoutProcess.showMessageBox({text:"Error ocurred. Please refresh your page."})},startSpinner:function(e){$(e).addClass("js-loading").html("<span class='js-ajaxLoading'></span>")},stopSpinner:function(e){$(e).removeClass("js-loading").html($(e).attr("title"))},startOverlay:function(e){$(e).addClass("loading").before("<div class='js-overlay'></div>");var t=$(e).height()/4;$(e+"_msgBox").css("top",t).show(),$("body").animate({scrollTop:$(e).offset().top-100})},stopOverlay:function(e){$(e).removeClass("loading"),$(".js-overlay").remove(),$(e+"_msgBox").hide()}};var Zalora=Zalora||{};Zalora.FormHelper={init:function(){this.sync()},sync:function(){$(".js-reset-value").on("click",function(){$(this).parent().children().removeAttr("value"),$(this).remove()}),this.syncTooltip(),this.syncMasks()},syncTooltip:function(){var e=this,t=$("input");t.focus(function(){void 0!==$(this).attr("data-tooltip")&&e.triggerTooltip($(this),$(this).attr("data-tooltip"),"grey")}),t.blur(function(){""!==$(this).val()&&e.closeTooltip($(this))})},syncMasks:function(){var e,t;$.each($("[data-mask]"),function(i,o){(e=$(o).attr("data-mask"))&&$(o).unmask().mask(e,{placeholder:(t=$(o).attr("data-placeholder"))?t:"",completed:function(){clearTimeout($(o).data("TO"));var e=setTimeout(function(){$(o).change()},500);$(o).data("TO",e)}})}),$(".js-mask-birthday").focus(function(){"//"===$(this).val()&&$(this).val("")})},triggerTooltip:function(e,t,i){this.closeTooltip(e);var o,a=e.attr("data-position");void 0===a&&(a="right"),void 0===i&&(i=""),e.parent().append('<div class="tooltip__msg '+i+" "+a+'">'+t+"</div>");var n=e.parent().find(".tooltip__msg");if(n.hide(),"right"!==a&&"left"!==a||(o=(n.height()-e.parent().height())/-2-10,n.css("top",o).show(),"right"===a?n.animate({right:"+=10px"},10):n.animate({left:"+=10px"},10)),"top"===a)o=n.height()+e.height()+15,n.css("top",-o).show();else if("bottom"===a){n.css({width:"auto"});var s=(e.parent().width()-n.outerWidth())/2;n.css({left:s,right:"auto"}).show()}},closeTooltip:function(e){e.parent().find(".tooltip__msg").remove()},triggerError:function(e,t){e.addClass("error"),this.triggerTooltip(e,t,e.attr("data-theme"))},closeError:function(e){e.removeClass("error"),this.closeTooltip(e)},registerHandleBarsHelper:function(){Handlebars.registerHelper("ifCond",function(e,t,i,o){switch(t){case"==":case"===":return e===i?o.fn(this):o.inverse(this);case"!==":return e!==i?o.fn(this):o.inverse(this);case"<":return e<i?o.fn(this):o.inverse(this);case"<=":return e<=i?o.fn(this):o.inverse(this);case">":return e>i?o.fn(this):o.inverse(this);case">=":return e>=i?o.fn(this):o.inverse(this);case"&&":return e&&i?o.fn(this):o.inverse(this);case"||":return e||i?o.fn(this):o.inverse(this);default:return o.inverse(this)}}),Handlebars.registerHelper("for",function(e,t){var i,o="";for(i=1;i<=e;i++)o+=t.fn(i);return o})}};var Zalora=Zalora||{};Zalora.CreditCard={initSlider:function(e){var t=$(".cc-list"),i=$(".cc__list"),o=[];if(t.length>=2){var a=Zalora.CreditCard;$.each(t,function(e,t){var i="."+$(t).attr("id");o.push(i)}),$(".js-cc-slider").jCarouselLite({btnNext:".bx-next",btnPrev:".bx-prev",afterEnd:function(t){var i=$(t).attr("id");$(t).hasClass("js-load-cc")?e.loadSubscription(i):$("#"+i).find(".cc__selection").attr("checked",!0),$(".cc_external_control-itm").removeClass("active"),$("."+i).parent().addClass("active"),a.setCcPaymentType(i)},visible:1,circular:!1,btnGo:o});var n=$(".cc-list:first-child").attr("id");$("#"+n).find(".cc__selection").attr("checked",!0),$("."+n).parent().addClass("active"),a.setCcPaymentType(n)}else if(1==i.length){var s=i.children("input:radio[name='cc_id']").attr("data-payment-type");$(".js-cc_payment_type").val(s)}},setCcPaymentType:function(e){var t=$("#"+e+" #cc__list_"+e).attr("data-payment-type");$(".js-cc_payment_type").val(t)}},account.initVn=function(){account.setData()},account.setData=function(){if($("#dropDownData").length>0){var e=$.parseJSON($("#dropDownData").html());this.citiesList=e.citiesList,this.region=e.customer_address_region,this.city=e.customer_address_city,this.addressThirdLevel=e.customer_address_third_level,this.placeholderAddressThirdLevelText=window.store.choose_address_third_level,this.placeholderOtherWardText=window.store.other_ward,this.registerEventsForAddressForm()}},account.registerEventsForAddressForm=function(){var e=this.citiesList,t=this.region,i=this.city,o=this.addressThirdLevel;$("#AddressForm_fk_customer_address_region").prepend('<option value=""> - </option>'),$("#AddressForm_fk_customer_address_region").val(""),$("#AddressForm_fk_customer_address_region").change(function(t){if($("#AddressForm_fk_customer_address_city").children("option").remove(),""!=$(this).val()){var i=$(this).val();$("#AddressForm_fk_customer_address_city").append('<option value=""> - </option>').append(account.createOptions(e,i))}account.cityChanged()}),$("#AddressForm_fk_customer_address_city").change(function(){account.cityChanged()}),""!=t&&($("#AddressForm_fk_customer_address_region").val(t),$("#AddressForm_fk_customer_address_city").append('<option value=""> - </option>').append(account.createOptions(e,t,i)),""!=o&&account.cityChanged(o))},account.cityChanged=function(e){void 0===e&&(e=0);var t=$("#AddressForm_fk_customer_address_city :selected").val();account.loadThirdAddressLevel(t,"#AddressForm_fk_customer_address_third_level",e)},account.loadThirdAddressLevel=function(e,t,i){if($(t).html(""),""==e||null==e||""==t||null==t)return!1;var o=this.placeholderAddressThirdLevelText,a=this.placeholderOtherWardText,n="/checkout/finish/getaddressthirdleveloptions/?cityId="+e;$.getJSON(n).done(function(e){var n=Object.keys(e);if(n.length>0){var s='<option value="">- '+o+"</option>";s+='<option value="0">- '+a+"</option>";for(var r in n)s+='<option value="'+n[r]+'">'+e[n[r]]+"</option>";$(t).html(s),i=1==n.length?n[0]:i,$(t).val(i)}})},account.createOptionsWithSelectedText=function(e,i,o){if(e){t="";for(var a in e)e[a].region==i&&(t+='<option value="'+e[a].id+'"'+(o==e[a].name?'selected="selected"':"")+">"+e[a].name+"</option>");return t}},jQuery(function(){account.initVn()});