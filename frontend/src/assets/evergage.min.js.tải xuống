window.evergageBeforeSiteConfigExecution = function() {
    try {
var oldAnonymousCookieName = Evergage.getCookieName("id").replace(".zaloravietnam.", ".zalora.");
var oldAnonymousCookieValue = ajq.cookie(oldAnonymousCookieName);
if (oldAnonymousCookieValue != null && typeof oldAnonymousCookieValue === "string") {
    var oldAnonymousId = oldAnonymousCookieValue.split(".")[0];
    if (oldAnonymousId != null && typeof oldAnonymousId === "string" && oldAnonymousId.length === 16) {
        Evergage.setAnonymousId(oldAnonymousId);
        ajq.removeCookie(oldAnonymousCookieName);
    }
}

ajq.fn.addBack = function( selector ) {
	return this.add( selector === null ? this.prevObject : this.prevObject.filter(selector));
}
if (window.location.hostname.indexOf("staging") !== -1) {
    Evergage.haltAllLoadingAndTracking();
    Evergage.removeBeaconAndListenersFromPage();
    return false;
}
//Email Newsletter Tracking
Evergage.safeClick('form.custom-form button', function() {
    var email = ajq('form.custom-form input[name="newsletter[email]"]').val();
    Evergage.setUserField("NewsletterEmail", email);
    Evergage.trackAction("NewsletterSubmit");
});
Evergage.safeSubmit('#footer form.newsletter-signup', function() {
    var email = ajq('#footer form.newsletter-signup input[name="newsletter[email]"]').val();
    Evergage.setUserField("NewsletterEmail", email);
    Evergage.trackAction("NewsletterSubmit");
});
Evergage.safeSubmit('div.b-stickyNewsletter form.newsletter-signup', function() {
    var email = ajq('div.b-stickyNewsletter form.newsletter-signup input[name="newsletter[email]"]').val();
    Evergage.setUserField("NewsletterEmail", email);
    Evergage.trackAction("NewsletterSubmit");
});
Evergage.safeSubmit('div#nllosu_newsletter_form form.newsletter-signup', function() {
    var email = ajq('div#nllosu_newsletter_form form.newsletter-signup input[name="newsletter[email]"]').val();
    Evergage.setUserField("NewsletterEmail", email);
    Evergage.trackAction("NewsletterSubmit");
});
//Get subscribed_to_nl cookie value
if (ajq.cookie('subscribed_to_nl') !== undefined) {
    Evergage.setUserField('subscribed_to_nl', 'true', 'page');
    Evergage.trackAction('getNewsletterCookie');
}

if (window.store && window.store.customer_email) {
    Evergage.setUserId(store.customer_email);
    Evergage.setCustomField("userEmail", store.customer_email);
}

if (ajq("#shoppingBagBlock > div > div.plm.prm.ptm.txtRight > span:nth-child(2)").first().text()) {
    Evergage.setCustomField("cartValueSubtotal", Evergage.util.getCurrencyValue(ajq("#shoppingBagBlock > div > div.plm.prm.ptm.txtRight > span:nth-child(2)").first().text().replace(".", "&").replace(",",".").replace("&",",")), Evergage.Scope.Request);
}

ajq(window).one("blur", function() {
    var div = ajq("<div></div>").css({position: "absolute", height: 1, width: 1, left: -99999, overflow: "hidden"}).addClass("eg-WindowBlurTrigger");
    ajq("body").append(div);
});

Evergage.meta = (function() {
    'use strict';

    var CURRENCY = "VND";
    var DEFAULT_LANG = "vi";
    var lang;

    return {
        validateAndTrimItem: function(item, noId) {

            if (typeof item !== "object") return false;

            for (var k in item) {
                if ((item.hasOwnProperty(k)) && (typeof item[k] == "string")) {
                    item[k] = ajq.trim(item[k]);
                    if (item[k] === "") {
                        Evergage.sendException(new Error("Empty string for item attribute: " + k), "Site-wide JavaScript");
                        item[k] = null;
                    }
                }
                if (k == "url" || k == "imageUrl") {
                    item[k] = Evergage.util.qualifyUrl(item[k]);
                }
            }

            if (typeof item._id == "number") {
                item._id = item._id.toString();
            }

            if (!item._id && !noId) {
                Evergage.sendException(new Error("Invalid item id."), "Site-wide JavaScript");
                return false;
            }

            if (item.type == Evergage.ItemType.Tag) {
                if (!(item.tagType == "Brand" ||
                      item.tagType == "Gender" ||
                      item.tagType == "ItemClass" ||
                      item.tagType == "Style" ||
                      item.tagType == "Author" ||
                      item.tagType == "Keyword" ||
                      item.tagType == "ContentClass")) {
                    Evergage.sendException(new Error("Invalid tag type."), "Site-wide JavaScript");
                    return false;
                }
            } else if (!(item.type == Evergage.ItemType.Product ||
                         item.type == Evergage.ItemType.Category ||
                         item.type == Evergage.ItemType.Article ||
                         item.type == Evergage.ItemType.Blog)) {
                Evergage.sendException(new Error("Invalid item type"), "Site-wide JavaScript");
                return false;
            }

            var isValid = true;

            if (item.tags) {
                for (var i = 0; i < item.tags.length; i++) {
                    isValid = isValid && Evergage.meta.validateAndTrimItem(item.tags[i]);
                }
            }

            if (item.categories) {
                for (var j = 0; j < item.categories.length; j++) {
                    isValid = isValid && Evergage.meta.validateAndTrimItem(item.categories[j]);
                }
            }

            return isValid;

        },

        validateLineItem: function(lineItem) {
            return Evergage.meta.validateAndTrimItem(lineItem.item) && lineItem.quantity > 0;
        },

        validateOrder: function(order) {
            var isValid = true;
            if (order.lineItems) {
                for (var i = 0; i < order.lineItems.length; i++) {
                    isValid = isValid && Evergage.meta.validateLineItem(order.lineItems[i]);
                }
            }

            if (typeof order.orderId == "string") {
                order.orderId = ajq.trim(order.orderId);
                if (order.orderId === "") {
                    Evergage.sendException(new Error("Empty string for order Id"), "Site-wide JavaScript");
                    order.orderId = null;
                }
            }

            return isValid;
        },

        detectProduct: function(isLastTimeThrough) {

            var product = {
                type:       Evergage.ItemType.Product,
                _id:        dataLayer[0].Product_SKU,
                price:      Evergage.util.getCurrencyValue(dataLayer[0].Product_Price),
                currency:   CURRENCY,
                isProduct:  true,
                inventoryCount: 1
            };
            
            var alternateIdMatch = window.location.pathname.match(/-([\d]{5,7})\.html$/);
            if (alternateIdMatch) {
                product.alternateId = alternateIdMatch[1];
            }

            if (ajq(".price-box__old-price").length === 1) {
                product.listPrice = Evergage.util.getCurrencyValue(ajq(".price-box__old-price").first().text().replace(".", "&").replace(",",".").replace("&",","));
            } else {
                product.listPrice = product.price;
            }

            if (lang == DEFAULT_LANG) {
                product.name = dataLayer[0].Product_Name;
                product.url = Evergage.util.getThisPageCanonicalUrl();
                product.imageUrl = ajq('img[itemprop=image]').attr('src');

                var description = Evergage.util.getItemProp('description');
                if (description) {
                    product.description = description;
                }

                var categoryPath = ajq(".b-breadcrumbs a").last().attr("href");
                if (categoryPath) {
                    var category = {
                        type:   Evergage.ItemType.Category,
                        _id:    categoryPath.slice(1, -1).replace(/\//g, "|").toLowerCase()
                    };
                    if (category._id) {
                        product.categories = [category];
                    }
                }

                var brandName = Evergage.util.getItemProp('brand');
                if (!brandName) {
                    brandName = ajq.trim(ajq(".paper .full .h3 a").text());
                }

                if (brandName) {
                    product.tags = product.tags || [];
                    product.tags.push({
                        type:       Evergage.ItemType.Tag,
                        tagType:    "Brand",
                        _id:        brandName,
                        name:       brandName
                    });
                }

                if (dataLayer[0].Gender_Category && typeof dataLayer[0].Gender_Category == "string") {
                    product.tags = product.tags || [];
                    product.tags.push({
                        type:       Evergage.ItemType.Tag,
                        tagType:    "Gender",
                        _id:        dataLayer[0].Gender_Category,
                        name:       dataLayer[0].Gender_Category
                    });
                }

                if (dataLayer[0].Color_Family && typeof dataLayer[0].Color_Family == "string") {
                    product.tags = product.tags || [];
                    var colors = dataLayer[0].Color_Family.split(",");
                    for (var i = 0; i < colors.length; i++) {
                        if (colors[i]) {
                            product.tags.push({
                                type:       Evergage.ItemType.Tag,
                                tagType:    "Style",
                                _id:        colors[i],
                                name:       colors[i]
                            });
                        }
                    }
                }
                if (dataLayer[0].Product_SupplierType && typeof dataLayer[0].Product_SupplierType == "string") {
                    product.tags = product.tags || [];
                    product.tags.push({
                        type:       Evergage.ItemType.Tag,
                        tagType:    "ItemClass",
                        _id:        "Supplier_" + dataLayer[0].Product_SupplierType,
                        name:       "Supplier: " + dataLayer[0].Product_SupplierType
                    });
                }

                if (dataLayer[0].Catalog_Type && typeof dataLayer[0].Catalog_Type == "string") {
                    product.tags = product.tags || [];
                    product.tags.push({
                        type:       Evergage.ItemType.Tag,
                        tagType:    "ItemClass",
                        _id:        "Catalog_" + dataLayer[0].Catalog_Type,
                        name:       "Catalog: " + dataLayer[0].Catalog_Type
                    });
                }
            }

            return product;
        },

        detectCategory: function() {

            var categoryPath = Evergage.util.getPathnameFromLocation(window.location);
            if (!categoryPath) {
                return null;
            }
            var category = {
                type:   Evergage.ItemType.Category,
                _id:    categoryPath.slice(1,-1).replace(/\//g, "|").toLowerCase()
            };
            if (lang == DEFAULT_LANG) {
                category.url = Evergage.util.getThisPageCanonicalUrl();
                category.name = ajq("#breadcrumb > li").last().text();
            }
            return category;

        },

        buildOrder: function() {

            var order = {
                orderId:            dataLayer[0].OrderNr,
                lineItems:          [],
                totalValue:         Evergage.util.getCurrencyValue(dataLayer[0].Revenue),
                totalValueCurrency: CURRENCY
            };

            var cart = dataLayer[0].transactionProducts;
            if (typeof(cart) == "string") {
                cart = JSON.parse(cart);
            }
            for (var i = 0; i < cart.length; i++) {

                var item = {
                    type:       Evergage.ItemType.Product,
                    _id:        cart[i].sku.split("-")[0],
                    price:      cart[i].price,
                    currency:   CURRENCY,
                    isProduct:  true
                };

                var quantity = cart[i].quantity;

                order.lineItems.push({item: item, quantity: quantity});
            }

            return order;
        },

        handlePage: function(isLastTimeThrough) {

            lang = ajq("html").attr("lang") || dataLayer[0].Site_Language;
            if (lang) {
                Evergage.setCustomField("lang", lang, Evergage.Scope.Request);
            }
            var cartSize = ajq.trim(ajq('#shopping-bag-qty').text()) || Evergage.util.extractFirstGroup(/\"cartCount\"\:(\d+)/, ajq.trim(ajq("script:contains('cartCount')").text()));
            if (cartSize) {
                Evergage.setUserField('CartSize', cartSize);
            } else if (ajq('#shopping-bag-qty').length === 1) {
                Evergage.setUserField('CartSize', 0);
            }

            if (dataLayer[0].Page_Type == "product") {

                var product = Evergage.meta.detectProduct(isLastTimeThrough);

            // Exclude all products used for internal warehouse orders from the catalog
                if (product.price && product.price === 1) return;

                if (Evergage.meta.validateAndTrimItem(product)) {
                    Evergage.viewItem(product);

                    Evergage.safeClick('#AddToCart', function() {
                        if (ajq('#selectedSku').val() !== '') {

                            var sku = {
                                id:         ajq('#selectedSku').val()
                            };
                            var lineItem = {
                                item:       product,
                                quantity:   1,
                                sku:        sku
                            };
                            if (Evergage.meta.validateLineItem(lineItem)) {
                                Evergage.setCustomField("LastAddToCartID", product._id, Evergage.Scope.Request);
                                var cartValueSubtotal = Evergage.util.getCurrencyValue(ajq("#shoppingBagBlock > div > div.plm.prm.ptm.txtRight > span:nth-child(2)").first().text().replace(".", "&").replace(",",".").replace("&",","));
                                if (typeof(cartValueSubtotal) == "number") {
                                    cartValueSubtotal = cartValueSubtotal + product.price;
                                    Evergage.setCustomField("cartValueSubtotal", cartValueSubtotal, Evergage.Scope.Request);
                                }
                                cartSize = +cartSize;
                                cartSize++;
                                Evergage.setUserField('CartSize', cartSize);
                                Evergage.addToCart(lineItem);
                            }
                        }

                    });

                    Evergage.safeClick(".js-productInfoTab li,.prd-moreImagesList li", function() {
                        Evergage.viewItemDetail(product);
                    });
                }

            } else if (dataLayer[0].Page_Type == "subcat" || dataLayer[0].Page_Type == "cat") {

                var category = Evergage.meta.detectCategory();

                if (Evergage.meta.validateAndTrimItem(category)) {
                    Evergage.viewCategory(category);
                }

            } else if (dataLayer[0].Page_Type == "success") {

                var order = Evergage.meta.buildOrder();
                if (Evergage.meta.validateOrder(order)) {
                    cartSize = 0;
                    Evergage.setUserField('CartSize', cartSize);
                    Evergage.meta.dataLayerToAttribute("Promotion_Code");
                    Evergage.purchase(order);
                }
                if (dataLayer[0].Payment_Type && typeof dataLayer[0].Payment_Type == "string") {
                    Evergage.trackAction("Payment_Type_" + dataLayer[0].Payment_Type);
                }

            }

            if (dataLayer[0].Page_Type == "brand") {
                Evergage.trackAction("View Brand");
            }

            if (dataLayer[0].Page_Type == "404error") {
                var alternateIdMatch = window.location.pathname.match(/-([\d]{5,7})\.html$/);
                if (alternateIdMatch) {
                    var outOfStockProduct = {
                        type: "p",
                        alternateId: alternateIdMatch[1]
                    };
                    Evergage.trackAction("View Item Out Of Stock", { ".item": evergageJSON.stringify(outOfStockProduct) });
                } else {
                    Evergage.trackAction("404 Error");
                }
            }
        },

        setDataLayerToAttributes: function() {
            Evergage.meta.dataLayerToAttribute("Gender_User");
            Evergage.meta.dataLayerToAttribute("Year_of_Birth");
            Evergage.meta.dataLayerToAttribute("Customer_Type");
            Evergage.meta.dataLayerToAttribute("Visitor_ID", "GA_ID");
        },

        dataLayerToAttribute: function(dataLayerId, attributeId) {
            attributeId = attributeId || "DL_" + dataLayerId;
            if (dataLayer[0][dataLayerId] && typeof dataLayer[0][dataLayerId] == "string") {
                Evergage.setCustomField(attributeId, dataLayer[0][dataLayerId], Evergage.Scope.Request);
            }
        }
    };

})();

Evergage.sendPageLoadEventWhenTrue(function(isLastTimeThrough) {
    if (typeof(dataLayer) !== "undefined") {
        if (typeof(dataLayer[0]) !== "undefined" && dataLayer[0].Page_type != "product") {
            Evergage.meta.setDataLayerToAttributes();
            Evergage.meta.handlePage(false);
            return true;
        } else if (typeof(dataLayer[0]) !== "undefined" && dataLayer[0].Page_type == "product") {
            if (ajq("#product-option-stock-number").hasClass("low-stock") || ajq("#product-option-stock-number").hasClass("high-stock") || isLastTimeThrough) {
                Evergage.meta.setDataLayerToAttributes();
                Evergage.meta.handlePage(isLastTimeThrough);
                return true;
            } else {
                return false;
            }
        } else {
        return false;
    }
    } else {
        return false;
    }
}, 500);


/******************** BEGIN GOOGLE ANALYTICS TRACKING *************************/
function enableGoogleAnalyticsTracking() {
    // Make this true if the site requires GA create
    var siteRequiresGACreate = false;
    // Use this tracking ID when creating the GA object
    var trackingId = "";

    if (window.evergageLoadedAlready !== true) {
        var googleAnalyticsEventFunctions = [];
        var googleAnalyticsListenerTimeout = -1;
        var googleAnalyticsTimeoutCounter = 0;
        var googleAnalyticsObjectCreated = false;

        Evergage.addExperienceListener(function(experienceId, statType, message) {
            if (message.campaignState === "Disabled") {
                return;
            }
            var experienceLabel = message.campaignName + " [" + (message.userGroup === "Control" ? "Control" : message.experienceName) + "]";
            var dimensionValue = experienceLabel;
            var evergageGAObject = {
                hitType: "event",
                eventCategory: "Evergage",
                eventLabel: experienceLabel
            };
            if (statType === "i") {
                evergageGAObject.eventAction = "Evergage Impression";
                evergageGAObject.nonInteraction = 1;
            }
            if (statType === "c") {
                evergageGAObject.eventAction = "Evergage Click";
            }
            if (statType === "d") {
                evergageGAObject.eventAction = "Evergage Dismissal";
            }
            var dimensionName = "";
            var colorScheme, deviceType;
            // For now we are using campaign names, as they *must* match exactly and stay the same
            // If we decide to use message.campaignId, change the following if/else statements

            if ((/^Entrance Email Capture \|( \w\w \|)? (Mobile|Tablet|Desktop)/).test(message.campaignName)) {

                colorScheme = Evergage.util.extractFirstGroup(/ ([^\|]+)$/, message.experienceName);
                deviceType = Evergage.util.extractFirstGroup(/(Mobile|Tablet|Desktop)/, message.campaignName);

                evergageGAObject.eventLabel = buildEventLabel(["Entrance Email Capture 2 Step", colorScheme], message.campaignName);
                if (statType === "c") {
                    evergageGAObject.eventAction = "Evergage Submission";
                }

            } else if ((/^Exit Email Capture HAS SEEN ENTRY \|( \w\w \|)? Desktop/).test(message.campaignName)) {

                evergageGAObject.eventLabel = buildEventLabel("Exit HAS SEEN ENTRY Email Capture 1 Step White", message.campaignName);
                if (statType === "c") {
                    evergageGAObject.eventAction = "Evergage Submission";
                }

            } else if ((/^Exit Email Capture NOT SEEN ENTRY \|( \w\w \|)? Desktop/).test(message.campaignName)) {

                evergageGAObject.eventLabel = buildEventLabel("Exit NOT SEEN ENTRY Email Capture 1 Step White", message.campaignName);
                if (statType === "c") {
                    evergageGAObject.eventAction = "Evergage Submission";
                }

            } else if ((/^Voucher Reminder Nanobar \|( \w\w \|)? Desktop/).test(message.campaignName)) {

                colorScheme = message.experienceName;

                evergageGAObject.eventLabel = buildEventLabel(["Voucher Reminder Nanobar", colorScheme], message.campaignName);

            } else if ((/^Entrance App Download \|( \w\w \|)? Mobile$/).test(message.campaignName)) {

                evergageGAObject.eventLabel = buildEventLabel("Entrance App Download", message.campaignName);
                if (statType === "d") {
                    evergageGAObject.eventAction = "Evergage Opt Out";
                }

            } else if ((/^OOS Restock Alert \|/).test(message.campaignName)) {

                var isNonSubscriber = (/Non Subscriber/).test(message.experienceName);

                dimensionName =  isNonSubscriber ? "dimension62" : "dimension63";
                dimensionValue = "OOS " + message.experienceName + (message.userGroup === "Control" ? " Control" : "");

                evergageGAObject.eventLabel = buildEventLabel(dimensionValue, message.campaignName);
                if (statType === "c") {
                    evergageGAObject.eventAction = "Evergage Submission";
                }

            } else if ((/^SMS App Download \|( \w\w \|)? Desktop/).test(message.campaignName)) {

                evergageGAObject.eventLabel = buildEventLabel(["SMS App Download", (message.userGroup === "Control" ? "Control" : message.experienceName)], message.campaignName);

            } else if ((/^Outlet Email Capture \|( \w\w \|)? Desktop$/).test(message.campaignName)) {

                dimensionName = "dimension60";
                dimensionValue = "Outlet Email Capture" + (message.userGroup === "Control" ? " Control" : "");

                evergageGAObject.eventLabel = buildEventLabel(["Outlet Email Capture", (message.userGroup === "Control" ? "Control" : message.experienceName)], message.campaignName);

                if (statType === "c") {
                    evergageGAObject.eventAction = "Evergage Submission";
                }

            } else if ((/^EOSS Finale Price Label/).test(message.campaignName)) {

                dimensionName = "dimension59";
                dimensionValue = message.campaignName + (message.userGroup === "Control" ? " Control" : "");

            } else if ((/^Cart Abandonment Popup \| VC (Non-)?Qualifiers \|( \w\w \|)? Desktop/).test(message.campaignName)) {

                dimensionName = message.campaignName.indexOf("Non-Qualifiers") >= 0 ? "dimension20" : "dimension59";
                dimensionValue = "Cart Abandonment Popup" + (message.userGroup === "Control" ? "Control" : "");
                evergageGAObject.eventLabel = buildEventLabel(["Cart Abandonment Popup", (message.userGroup === "Control" ? "Control" : message.experienceName)], message.campaignName);

            }

            if (dimensionName !== "") {
                evergageGAObject[dimensionName] = dimensionValue;
                trackGoogleAnalyticsEvent(function() {
                    // To make this GA integration go live, just uncomment this line (and optionally the console logging line)
                    ga("send", evergageGAObject);
                    if (evergageLog.shouldLog("ERROR")) console.log("Evergage GA Event", evergageGAObject);

                    // This shouldn't be necessary, as the dimension attribute gets sent with the ga("send", evergageGAObject) event
                    // but if we need to, just uncomment the 3 lines below
                    // if (dimensionName !== "") {
                    //     ga("set", dimensionName, dimensionValue);
                    // }
                });
            } else {
                trackGoogleAnalyticsEvent(function() {
                    ga("send", evergageGAObject);
                });
            }

        });

        function buildEventLabel(eventLabelComponents, campaignName) {
            var eventLabel;
            if (ajq.isArray(eventLabelComponents)) {
                eventLabel = eventLabelComponents.join(" ");
            } else {
                eventLabel = eventLabelComponents;
            }
            var language = Evergage.util.extractFirstGroup(/\| (\w\w)(?:\s\|.+|$)/, campaignName);
            if (language) {
                return eventLabel + " " + language;
            } else {
                return eventLabel;
            }
        }

        function trackGoogleAnalyticsEvent(eventFunction) {
            if (typeof window.ga !== "function" || typeof window.ga.getAll !== "function") {
                googleAnalyticsEventFunctions.push(eventFunction);
                if (googleAnalyticsListenerTimeout === -1) {
                    googleAnalyticsListenerTimeout = Evergage.safeTimeout(searchForGAOnPage, 200);
                }
            } else {
                createGAIfNeeded();
                ga(eventFunction);
            }
        }

        function searchForGAOnPage() {
            if (typeof window.ga === "function" && typeof window.ga.getAll === "function") {
                createGAIfNeeded();
                sendStoredGAEvents();
            } else {
                googleAnalyticsTimeoutCounter++;
                if (googleAnalyticsTimeoutCounter < 25) {
                    googleAnalyticsListenerTimeout = Evergage.safeTimeout(searchForGAOnPage, 200);
                }
            }
        }

        function createGAIfNeeded() {
            if (siteRequiresGACreate !== false && googleAnalyticsObjectCreated === true) {
                return;
            }

            var GAs = ga.getAll();
            for (var i = 0; i < GAs.length; i++) {
                var existingTrackingId = GAs[i].b.data.values[":trackingId"];
                if (existingTrackingId === trackingId) {
                    ga("create", trackingId);
                    googleAnalyticsObjectCreated = true;
                    break;
                }
            }
        }

        function sendStoredGAEvents() {
            for (var i = 0; i < googleAnalyticsEventFunctions.length; i++) {
                trackGoogleAnalyticsEvent(googleAnalyticsEventFunctions[i]);
            }
        }

        window.evergageLoadedAlready = true;
    }
}

// if (window.location.href.indexOf("enableGoogleAnalyticsTracking=true") !== -1) {
    // ajq.jStorage.set("evergage|" + Evergage.getAccount() + "|" + Evergage.getDataset() + "|googleAnalyticsTest", true, { TTL: 1800000 });
// }
// if (ajq.jStorage.get("evergage|" + Evergage.getAccount() + "|" + Evergage.getDataset() + "|googleAnalyticsTest") === true) {
    enableGoogleAnalyticsTracking();
// }

/******************** END GOOGLE ANALYTICS TRACKING *************************/
    } catch (e) {
        if (typeof window.Evergage === "object" && typeof window.Evergage.getVersion === "function" && window.Evergage.getVersion() >= 5) {
            Evergage.sendException(e, "siteWideJavascript");
        }
    }
};

window.evergageSiteConfig = {"_id":44,"account":"zaloravietnam","alwaysIgnoreDomainName":false,"beaconConfig":{"corsAllowedOrigins":["*"],"defaultCurrency":null,"defaultLocale":null,"disableQtipWindowScroll":false,"doNotStoreCookiesRequireProvidedAnonId":false,"doNotTrackPingRequestsForActions":false,"enableCorsRestrictedOrigins":false,"enableMessageRotation":false,"enableRememberMeUserIds":false,"hideContentSections":true,"hideContentSectionsMillis":2500,"hidePagesForRedirect":false,"hidePagesForRedirectMillis":1000,"lastModified":1496909549304,"preventSensitiveDataCapture":false,"rememberMeUserIdsMillis":63072000000,"sendErrorEvents":false,"showPoweredBy":false,"siteConfigExecBeforePageReady":false,"trackAnonymousVisitors":true,"trackContextualRelatedItems":false,"trackSubdomainAsCompany":false,"trackUnknownPagesByTitle":false,"treatHashChangeAsPageLoad":false},"dataset":"vn_web_live","deployedTimeRanges":[],"domainsTracked":["zalora.vn"],"globalFields":[],"globalForms":[{"formFields":[{"created":1437501705480,"expression":"","id":"IALRt","location":null,"match":"[name='newsletter[email]']","name":"NewsletterEmail","numeric":false,"sendOncePerPage":false,"updated":1437501705480}],"id":null,"match":"footer#footer form.newsletter-signup","name":"NewsletterSignup"},{"formFields":[{"created":1437501799522,"expression":"","id":"jM683","location":null,"match":"[name='newsletter[email]']","name":"NewsletterEmail","numeric":false,"sendOncePerPage":false,"updated":1437501799522}],"id":null,"match":"#nllosu_newsletter_form>form","name":"NewsletterSubmit"},{"formFields":[{"created":1441721952714,"expression":"","id":"LEO7I","location":null,"match":"[name='couponcode']","name":"couponCode","numeric":false,"sendOncePerPage":false,"updated":1441721952714}],"id":null,"match":"#checkout-form-container>form","name":"couponCode"}],"globalPageActions":[{"id":"9RcCU","match":".login__button","name":"Login"},{"id":"adpaF","match":".register__btnSubmit","name":"Register"},{"id":"g1VvE","match":".js-shoppingBag .js-goCheckout","name":"MiniCart - Click Checkout"},{"id":"CE5Ja","match":".js-shoppingBag .js-viewCart","name":"MiniCart - Click View Cart"}],"googleAnalyticsIntegrationConfig":{"actionEventOptions":{"actionFormat":null,"categoryFormat":null,"enabled":false,"exclusionActionNames":null,"inclusionActionNames":null,"labelFormat":null,"pageActionFormat":null,"pageLoadActionFormat":null,"trackingLevel":null},"campaignEventOptions":{"categoryFormat":"Evergage","enabled":true,"labelFormat":"${campaignName} [${experienceName}]","statTypeClickthroughFormat":"Evergage Click","statTypeDismissalFormat":"Evergage Dismissal","statTypeImpressionFormat":"Evergage Impression","testingModeEventsEnabled":false,"trackingLevel":"chosenCampaigns"},"createTrackingObject":false,"enabled":true,"prependCommandsWithTrackerName":false,"trackerName":null,"trackingId":null},"hideContentSectionsList":["#eg-dsk-pd-women-skinny-full"],"hidePageBeforeRedirectList":[],"id":"44","integratorVersion":"51.49","modificationTime":1498655497948,"pages":[{"action":"View Order","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/customer\\/order\\/view\\/\\?order_id=.+$"},{"action":"Create Account","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/customer\\/account\\/create\\/.*$"},{"action":"My Account - My Wishlists","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/customer\\/wishlist.*$"},{"action":"Shopping Cart","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/cart\\/.*$"},{"action":"My Account - Orders and Tracking","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/customer\\/order\\/index\\/(\\?.*)?"},{"action":"My Account","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/customer\\/account\\/(index\\/)?(\\?.*)?$"},{"action":"Viewed Category - Women","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^(\\/outlet)?\\/women\\/(.+(\\/)?(\\?.*)?)?$"},{"action":"Viewed Category - Men","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^(\\/outlet)?\\/men\\/(.+(\\/)?(\\?.*)?)?$"},{"action":"Search Results","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/(catalog\\/)+\\?q=.*$"},{"action":"Account Login Page","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":"^Create new customer account.*$","urlMatchesFound":[],"urlRegex":"^\\/customer\\/account\\/login\\/.*$"},{"action":"Outlet - Search Results","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/(outlet\\/)+\\?q=.*$"},{"action":"Outlet - Home","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/outlet\\/(\\?[^q=].*)?$"},{"action":"View Outlet - All Products","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/outlet\\/all\\-products\\/.*$"},{"action":"View Sale Items","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/special\\-price\\/.*$"},{"action":"Shipping and Returns","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/shipping\\/.*$"},{"action":"Terms of Use","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/terms\\-of\\-use.*$"},{"action":"Checkout","archived":false,"domainMatchRequired":false,"domainsMatched":[],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":"","matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":true,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":null,"urlMatchesFound":[],"urlRegex":"^\\/checkout\\/.*$"},{"action":"homepage","archived":false,"domainMatchRequired":false,"domainsMatched":["zalora.vn"],"fields":[],"forms":[],"id":null,"ignoreCaseForRegexMatch":false,"ignoreDomainName":false,"label":null,"matchType":"url","pageActions":[],"pageInstances":[],"regexCustom":false,"startTrackingDate":null,"titleMatchesFound":[],"titleRegex":"^Trang mua sắm thời trang online nam nữ \\| ZALORA Việt Nam$","urlMatchesFound":[],"urlRegex":"^\\/$"}],"server":"","siteConfigExecBeforePageReady":false,"trackAccounts":false,"trackAnonymousUsers":true,"trackSeparately":false,"trackSubdomainAsCompany":false,"trackUnknownPages":false,"treatHashChangeAsPageLoad":false,"twoWayEnabled":true};
window.evergageSiteWideStyles = "/*\n * Copyright (C) 2010-2014 Evergage, Inc.\n * All rights reserved.\n */\n\n\n/* Fluid class for determining actual width in IE */\n#qtip-rcontainer .evergage-tooltip{\n    display: block !important;\n    visibility: hidden !important;\n    position: static !important;\n    float: left !important;\n}\n\n/* Core qTip styles */\n.evergage-tooltip, .evergage-qtip{\n    position: fixed;\n    left: -28000px;\n    top: -28000px;\n    display: none;\n}\n\n.evergage-tooltip.evergage-unsafe-tooltip {\n    display: block;\n    left: inherit;\n    top: inherit;\n}\n\n.evergage-tooltip.evergageMessageInVisualEditorTestMode {\n    position: absolute;\n    pointer-events: auto;\n}\n\n.evergage-tooltip > .evergage-tooltip-content-unsafe-tooltip {\n    margin: 0px !important;\n    border: none !important;\n    outline: 0px !important;\n    padding: 0px !important;\n}\n\n.evergage-tooltip.evergage-jgrowl.evergage-tooltip-bar {\n    max-width: 100% !important;\n    width: 100% !important;\n    border-radius: 0px !important;\n    -o-border-radius: 0px !important;\n    -moz-border-radius: 0px !important;\n    -webkit-border-radius: 0px !important;\n    -ms-border-radius: 0px !important;\n}\n\n.evergage-tooltip-invisible {\n    display: none !important;\n    visibility: hidden !important;\n    width: 1px !important;\n    height: 1px !important;\n}\n\n.evergage-tooltip-page {\n    position: relative;\n    left: 0;\n    top: 0;\n    z-index: inherit !important;\n    display: inline-block;\n}\n\n.evergage-tooltip-page-replace {\n    max-width: 100% !important;\n    width: 100% !important;\n    height: 100% !important;\n}\n\n.evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-notdone, .evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-done {\n    text-transform: inherit;\n    display: list-item;\n    width: inherit;\n    line-height: inherit;\n    text-align: left;\n    margin-bottom: 10px;\n    list-style-position: inside;\n}\n\n.evergage-tooltip li.evergage-task-done, .evergage-tooltip li.evergage-task-notdone {\n    margin-bottom: 10px;\n}\n\n.evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-done, .evergage-tooltip li.evergage-task-done {\n    text-decoration: line-through;\n}\n\n.evergage-tooltip.evergage-nonBlocking.evergage-tooltip-hover {\n    opacity: 0.2 !important;\n}\n\n.evergage-tooltip .evergage-tooltip-content{\n    position: relative;\n    padding: 5px 9px;\n    overflow: hidden;\n\n    text-align: left;\n    word-wrap: break-word;\n}\n\n.evergage-tooltip .evergage-tooltip-titlebar{\n    position: relative;\n    min-height: 14px;\n    padding: 5px 35px 5px 10px;\n    overflow: hidden;\n\n    border-width: 0 0 1px;\n    font-weight: bold;\n}\n\n.evergage-tooltip-titlebar + .evergage-tooltip-content{ border-top-width: 0 !important; }\n\n/* Default close button class */\n.evergage-tooltip-titlebar .evergage-tooltip-close {\n    position: absolute;\n    right: 4px;\n    top: 50%;\n    margin-top: -9px;\n    font-weight: bold;\n\n    cursor: pointer;\n    outline: medium none;\n\n    border: none;\n    background: transparent;\n    /*border-width: 1px;*/\n    /*border-style: solid;*/\n}\n\n.emptyTitle > .evergage-tooltip-titlebar  {\n    height: 0;\n    float: right;\n    z-index: 2147483647;\n}\n\n* html .evergage-tooltip .evergage-tooltip-titlebar .evergage-tooltip-close { top: 16px; } /* IE fix */\n\n.evergage-tooltip-titlebar .evergage-ui-icon-close,\n.evergage-tooltip-icon .evergage-ui-icon-close {\n    display: block;\n    text-indent: -1000em;\n    direction: ltr;\n}\n\n.evergage-tooltip-icon, .evergage-tooltip-icon .evergage-ui-icon-close {\n    -moz-border-radius: 3px;\n    -webkit-border-radius: 3px;\n    border-radius: 3px;\n    text-decoration: none;\n}\n\n.evergage-tooltip-icon .evergage-ui-icon-close{\n    width: 18px;\n    height: 14px;\n\n    text-align: center;\n    text-indent: 0;\n    font: normal bold 14px/14px sans-serif;\n\n    color: inherit;\n    background: transparent none no-repeat -100em -100em;\n}\n\na.evergage-tooltip-close:hover {\n    text-decoration: none;\n}\n\n.evergage-ui-icon-close:hover {\n    font-size: 22px;\n}\n\n\n/* Applied to 'focused' tooltips e.g. most recently displayed/interacted with */\n.evergage-tooltip-focus {}\n\n/* Applied on hover of tooltips i.e. added/removed on mouseenter/mouseleave respectively */\n.evergage-tooltip-hover {}\n\n/* Default tooltip style */\n.evergage-tooltip-default {\n    /*border-width: 2px;\n    border-style: solid;\n    border-color: #F1D031;\n\n    background-color: #FFFFA3;\n    color: #555;*/\n}\n\n.evergage-tooltip-default .evergage-tooltip-titlebar {\n    background-color: transparent;\n}\n\n.evergage-tooltip-default .evergage-tooltip-icon {\n    /*border-color: #CCC;*/\n    /*background: #F1F1F1;*/\n    /*color: #777;*/\n}\n\n/* Add shadows to your tooltips in: FF3+, Chrome 2+, Opera 10.6+, IE9+, Safari 2+ */\n.evergage-tooltip-shadow{\n    -webkit-box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    -moz-box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n}\n\n/* Add rounded corners to your tooltips in: FF3+, Chrome 2+, Opera 10.6+, IE9+, Safari 2+ */\n.evergage-tooltip-rounded,\n.evergage-tooltip-tipsy,\n.evergage-tooltip-bootstrap{\n    -moz-border-radius: 5px;\n    -webkit-border-radius: 5px;\n    border-radius: 5px;\n}\n\n\n\n/* IE9 fix - removes all filters */\n.evergage-tooltip:not(.ie9haxors) div.evergage-tooltip-content,\n.evergage-tooltip:not(.ie9haxors) div.evergage-tooltip-titlebar{\n    filter: none;\n    -ms-filter: none;\n}\n\n\n/* Tips plugin */\n.evergage-tooltip .evergage-tooltip-tip{\n    margin: 0 auto;\n    overflow: hidden;\n    z-index: 10;\n}\n\n.evergage-tooltip .evergage-tooltip-tip,\n.evergage-tooltip .evergage-tooltip-tip .evergage-qtip-vml{\n    position: absolute;\n\n    line-height: 0.1px !important;\n    font-size: 0.1px !important;\n    color: #123456;\n\n    background: transparent;\n    border: 0 dashed transparent;\n}\n\n.evergage-tooltip .evergage-tooltip-tip canvas{ top: 0; left: 0; }\n\n.evergage-tooltip .evergage-tooltip-tip .evergage-qtip-vml{\n    behavior: url(#default#VML);\n    display: inline-block;\n    visibility: visible;\n}\n\n/* Modal plugin */\n#evergage-qtip-overlay{\n    position: fixed;\n    left: -10000em;\n    top: -10000em;\n}\n\n/* Applied to modals with show.modal.blur set to true */\n#evergage-qtip-overlay.blurs{ cursor: pointer; }\n\n/* Change opacity of overlay here */\n#evergage-qtip-overlay div{\n    position: absolute;\n    left: 0; top: 0;\n    width: 100%; height: 100%;\n\n    background-color: black;\n\n    opacity: 0.7;\n    filter:alpha(opacity=70);\n    -ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)\\\";\n}\n\n.evergage.poweredByEvergage > a {\n    opacity: 0.2;\n    transition: opacity 0.3s ease-in-out;\n    -webkit-transition: opacity 0.3s ease-in-out;\n    -moz-transition: opacity 0.3s ease-in-out;\n    position: absolute;\n    right: 4px;\n    bottom: 2px;\n}\n\n.evergage.poweredByEvergage > a:hover {\n    opacity: 1;\n}\n\n\n/*# sourceURL=evergageStyles.css*/";
if("object"===typeof window.Evergage&&null!=window.Evergage&&"function"===typeof window.Evergage.getVersion&&"number"===typeof window.Evergage.getVersion())"object"===typeof window.evergageLog&&null!=window.evergageLog&&"function"===typeof window.evergageLog.shouldLog&&(window.evergageLog.shouldLog("WARN")&&console.log("Evergage: Aborting beacon load as the Evergage beacon was already found on this page."),"function"===typeof window.Evergage.sendException&&1>100*Math.random()&&window.Evergage.sendException(Error("Beacon Already Loaded"),
"beaconAlreadyLoaded"));else if(!/msie [2-8]/i.test(navigator.userAgent)){window.evergageBeaconParseTimeStart=(new Date).getTime();window.evergageJSON="object"===typeof window.JSON&&"function"===typeof window.JSON.stringify&&"function"===typeof window.JSON.parse?window.JSON:null;var evergageLog=function(){function a(b){return"object"===typeof window.console&&"function"===typeof window.console.log&&null!=l(b)&&l(b)<=G}function c(){window.console&&"undefined"===typeof window.console.time&&(console.time=
function(b,a){if(b){var c=(new Date).getTime();console.timeCounters||(console.timeCounters={});var l="KEY"+b.toString();if(a||!console.timeCounters[l])console.timeCounters[l]=c}},console.timeEnd=function(b){var a=(new Date).getTime();if(!console.timeCounters)return 0;var c="KEY"+b.toString(),l=console.timeCounters[c];if(l){var B=a-l;console.info(b+": "+B+"ms");delete console.timeCounters[c]}return B})}function l(b){if("string"!==typeof b)return null;b=b.toUpperCase();return"NONE"==b?0:"ERROR"==b?
1:"WARN"==b?2:"INFO"==b?3:"DEBUG"==b?4:"TRACE"==b?5:null}function B(b){if("string"!==typeof b)return null;b=b.toUpperCase();return"NONE"==b?0:"BASIC"==b?1:"MODERATE"==b?2:"RIGOROUS"==b?3:null}var G=1,n=0,b=[],v={};v.shouldLog=a;v.shouldTestPerf=function(b){return"object"===typeof window.console&&"function"===typeof window.console.time&&"function"===typeof window.console.timeEnd&&null!=B(b)&&B(b)<=n};v.setLoggingLevel=function(b){b=l(b);"number"===typeof b&&(G=b);return b};v.setPerformanceTestLevel=
function(b){b=B(b);"number"===typeof b&&(n=b);c();return b};v.flushStoredMessages=function(){for(var c=0;c<b.length;c++)a(b[c].messageLevel)&&console.log(b[c].message);b=[]};v.storeLogMessageUntilLogSettingsAreParsed=function(a,c){b.push({messageLevel:a,message:c})};return v}();window.evergageLog=evergageLog;var ajq;window.evergageLoad=function(){window.ajq=ajq;(function(a){var c,l;if("undefined"!==typeof a&&"undefined"===typeof a.browser){c=navigator.userAgent;c=c.toLowerCase();l=/(chrome)[ \/]([\w.]+)/.exec(c)||
/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||0>c.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[];c=l[1]||"";l=l[2]||"0";var b={};c&&(b[c]=!0,b.version=l);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);a.browser=b}})(ajq);(function(a,c,n){(function(b){ajq&&!ajq.fn.qtip&&b(ajq)})(function(b){function v(a){var k=function(b){return null===b||"object"!==typeof b},c=function(a){return!b.isFunction(a)&&(!a&&!a.attr||1>a.length||
"object"===typeof a&&!a.jquery)};if(!a||"object"!==typeof a)return!1;k(a.metadata)&&(a.metadata={type:a.metadata});if("content"in a){if(k(a.content)||a.content.jquery)a.content={text:a.content};c(a.content.text||!1)&&(a.content.text=!1);"title"in a.content&&(k(a.content.title)&&(a.content.title={text:a.content.title}),c(a.content.title.text||!1)&&(a.content.title.text=!1))}"position"in a&&k(a.position)&&(a.position={my:a.position,at:a.position});"show"in a&&k(a.show)&&(a.show=a.show.jquery?{target:a.show}:
{event:a.show});"hide"in a&&k(a.hide)&&(a.hide=a.hide.jquery?{target:a.hide}:{event:a.hide});"style"in a&&k(a.style)&&(a.style={classes:a.style});b.each(q,function(){this.sanitize&&this.sanitize(a)});return a}function f(C,k,A,f){function h(b){var a=0,e,c=k;for(b=b.split(".");c=c[b[a++]];)a<b.length&&(e=c);return[e||k,b.pop()]}function m(a,e,k){a=b.Event("tooltip"+a);a.originalEvent=(k?b.extend({},k):null)||X.event||null;z.trigger(a,[r].concat(e||[]));return!a.isDefaultPrevented()}function T(){var b=
k.style.widget;z.toggleClass("ui-helper-reset ui-widget",b).toggleClass("evergage-tooltip-default",k.style.def&&!b);N.content&&N.content.toggleClass("ui-widget-content",b);N.titlebar&&N.titlebar.toggleClass("ui-widget-header",b);N.button&&N.button.toggleClass("evergage-tooltip-icon",!b)}function y(b){N.title&&(N.titlebar.remove(),N.titlebar=N.title=N.button=null,!1!==b&&r.reposition())}function e(){var a=k.content.title.button,e="string"===typeof a?a:"Close tooltip";N.button&&N.button.remove();N.button=
a.jquery?a:b("\x3cdiv /\x3e",{"class":"evergage-tooltip-close "+(k.style.widget?"":"evergage-tooltip-icon"),title:e,"aria-label":e,href:"Javascript:void(false);"}).prepend(b("\x3cspan /\x3e",{"class":"evergage-ui-icon-close",html:"\x26times;"}));N.button.appendTo(N.titlebar).attr("role","button").click(function(b){z.hasClass("ui-state-disabled")||k&&k.bundle&&k.bundle.previewMode||r.hide(b);return!1});r.redraw()}function u(){var a=H+"-title";N.titlebar&&y();N.titlebar=b("\x3cdiv /\x3e",{"class":"evergage-tooltip-titlebar "+
(k.style.widget?"ui-widget-header":"")}).append(N.title=b("\x3cdiv /\x3e",{id:a,"class":"evergage-tooltip-title","aria-atomic":!0})).insertBefore(N.content);k.content.title.button?e():r.rendered&&r.redraw()}function R(){N.poweredByEvergage&&N.poweredByEvergage.remove();N.poweredByEvergage=b("\x3cdiv\x3e\x3c/div\x3e",{"class":"evergage poweredByEvergage"});var a=b("\x3ca\x3e\x3c/a\x3e",{href:"http://www.evergage.com?poweredByEvergage",target:"_blank",title:"Powered by Evergage"});b("\x3cimg /\x3e",
{src:""}).appendTo(a);a.appendTo(N.poweredByEvergage);N.poweredByEvergage.insertAfter(N.content);r.rendered&&r.redraw()}function aa(a,e){var k=N.title;if(!r.rendered||!a)return!1;b.isFunction(a)&&(a=a.call(C,X.event,r));if(!1===a||!a&&""!==a)return y(!1);a.jquery&&0<a.length?k.empty().append(a.css({display:"block"})):k.html(a);r.redraw();!1!==e&&r.rendered&&0<z[0].offsetWidth&&r.reposition(X.event)}function ja(a,e){function k(a){function C(k){k&&(delete A[k.src],clearTimeout(r.timers.img[k.src]),
b(k).unbind(W));b.isEmptyObject(A)&&(r.redraw(),!1!==e&&r.reposition(X.event),a())}var u,A={};if(0===(u=c.find("img[src]:not([height]):not([width])")).length)return C();u.each(function(a,e){if(A[e.src]===n){var k=0;(function bc(){if(e.height||e.width||3<k)return C(e);k+=1;r.timers.img[e.src]=setTimeout(bc,700)})();b(e).bind("error"+W+" load"+W,function(){C(this)});A[e.src]=e}})}var c=N.content;if(!r.rendered||!a)return!1;b.isFunction(a)&&(a=a.call(C,X.event,r)||"");a.jquery&&0<a.length?c.empty().append(a.css({display:"block"})):
c.html(a);0>r.rendered?z.queue("fx",k):(I=0,k(b.noop));return r}function F(){function e(a){try{if(z.hasClass("ui-state-disabled"))return!1;clearTimeout(r.timers.show);clearTimeout(r.timers.hide);var b=function(){r.toggle(!0,a)};0<k.show.delay?r.timers.show=setTimeout(b,k.show.delay):b()}catch(c){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(c,"messageShow")}}function u(a){try{if(z.hasClass("ui-state-disabled")||U||I)return!1;var e=b(a.relatedTarget||a.target),c=e.closest("div.evergage-qtip.evergage-tooltip")[0]===
z[0],C=e[0]===h.show[0];clearTimeout(r.timers.show);clearTimeout(r.timers.hide);if("mouse"===f.target&&c||k.hide.fixed&&/mouse(out|leave|move)/.test(a.type)&&(c||C))try{a.preventDefault(),a.stopImmediatePropagation()}catch(A){}else 0<k.hide.delay?r.timers.hide=setTimeout(function(){r.hide(a)},k.hide.delay):r.hide(a)}catch(A){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(A,"messageHide")}}function y(a){try{if(z.hasClass("ui-state-disabled"))return!1;clearTimeout(r.timers.inactive);
r.timers.inactive=setTimeout(function(){r.hide(a)},k.hide.inactive)}catch(b){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(b,"messageInactiveTimer")}}function R(a){try{r.rendered&&0<z[0].offsetWidth&&r.reposition(a)}catch(b){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(b,"messageReposition")}}var f=k.position,h={show:k.show.target,hide:k.hide.target,viewport:b(f.viewport),document:b(c),body:b(c.body),window:b(a)},g=b.trim(""+k.show.event).split(" "),
m=b.trim(""+k.hide.event).split(" "),P=b.browser.msie&&6===parseInt(b.browser.version,10);z.bind("mouseenter"+W+" mouseleave"+W,function(a){var b="mouseenter"===a.type;b&&r.focus(a);z.toggleClass("evergage-tooltip-hover",b)});/mouse(out|leave)/i.test(k.hide.event)&&"window"===k.hide.leave&&h.window.bind("mouseout"+W+" blur"+W,function(a){try{/select|option/.test(a.target.nodeName)||a.relatedTarget||r.hide(a)}catch(b){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(b,"messageMouseLeave")}});
k.hide.fixed?(h.hide=h.hide.add(z),z.bind("mouseover"+W,function(){z.hasClass("ui-state-disabled")||clearTimeout(r.timers.hide)})):/mouse(over|enter)/i.test(k.show.event)&&h.hide.bind("mouseleave"+W,function(a){try{clearTimeout(r.timers.show)}catch(b){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(b,"messageMouseEnter")}});-1<(""+k.hide.event).indexOf("unfocus")&&f.container.closest("html").bind("mousedown"+W+" touchstart"+W,function(a){try{var e=b(a.target);r.rendered&&
z.hasClass("ui-state-disabled");var k=0<e.parents("div.evergage-qtip.evergage-tooltip").filter(z[0]).length;e[0]===C[0]||e[0]===z[0]||k||C.has(e[0]).length||e.attr("disabled")||r.hide(a)}catch(c){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(c,"messageUnfocusHide")}});"number"===typeof k.hide.inactive&&(h.show.bind("qtip-"+A+"-inactive",y),b.each(Q.inactiveEvents,function(a,b){h.hide.add(N.tooltip).bind(b+W+"-inactive",y)}));b.each(m,function(a,k){var c=b.inArray(k,g),
C=b(h.hide);-1<c&&C.add(h.show).length===C.length||"unfocus"===k?(h.show.bind(k+W,function(a){try{0<z[0].offsetWidth?u(a):e(a)}catch(b){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(b,"messageToggle")}}),delete g[c]):h.hide.bind(k+W,u)});b.each(g,function(a,b){h.show.bind(b+W,e)});"number"===typeof k.hide.distance&&h.show.add(z).bind("mousemove"+W,function(a){var b=X.origin||{},e=k.hide.distance,c=Math.abs;(c(a.pageX-b.pageX)>=e||c(a.pageY-b.pageY)>=e)&&r.hide(a)});"mouse"===
f.target&&(h.show.bind("mousemove"+W,function(a){try{x={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}catch(b){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(b,"messageMouseMove")}}),f.adjust.mouse&&(k.hide.event&&(z.bind("mouseleave"+W,function(a){(a.relatedTarget||a.target)!==h.show[0]&&r.hide(a)}),N.target.bind("mouseenter"+W+" mouseleave"+W,function(a){try{X.onTarget="mouseenter"===a.type}catch(b){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(b,
"messageMouseEnterLeave")}})),h.document.bind("mousemove"+W,function(a){try{r.rendered&&X.onTarget&&!z.hasClass("ui-state-disabled")&&0<z[0].offsetWidth&&r.reposition(a||x)}catch(b){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(b,"messageMouseMoveEvents")}})));(f.adjust.resize||h.viewport.length)&&(b.event.special.resize?h.viewport:h.window).bind("resize"+W,R);for(var m=b(k.position.target).parents().andSelf(),n=0;n<m.length;n++)b(m[n]).bind("scroll"+W,R);(h.viewport.length||
P&&"fixed"===z.css("position"))&&h.viewport.bind("scroll"+W,R)}function J(){for(var e=[k.show.target[0],k.hide.target[0],r.rendered&&N.tooltip[0],k.position.container[0],k.position.viewport[0],k.position.container.closest("html")[0],a,c],C=b(k.position.target).parents().andSelf(),u=0;u<C.length;u++)e.push(C[u]);r.rendered?b([]).pushStack(b.grep(e,function(a){return"object"===typeof a})).unbind(W):k.show.target.unbind(W+"-create")}var r=this,H="evergage-tooltip-"+A,U=0,I=0,z=b(),W=".evergage-qtip-"+
A,N,X;r.id=A;r.rendered=!1;r.destroyed=!1;r.elements=N={target:C};r.timers={img:{}};r.options=k;r.checks={};r.plugins={};r.cache=X={event:{},target:b(),disabled:!1,attr:f,onTarget:!1,lastClass:""};r.checks.builtin={"^id$":function(a,e,k){a=!0===k?Q.nextid:k;e="evergage-tooltip-"+a;!1!==a&&0<a.length&&!b("#"+e).length&&(z[0].id=e,N.content[0].id=e+"-content",N.title[0].id=e+"-title")},"^content.text$":function(a,b,e){ja(e)},"^content.fullcontents$":function(a,b,e){ja(e)},"^content.title.text$":function(a,
b,e){if(!e)return y();!N.title&&e&&u();aa(e)},"^content.title.button$":function(a,b,k){a=N.button;b=N.title;r.rendered&&(k?(b||u(),e()):a.remove())},"^position.(my|at)$":function(a,b,e){"string"===typeof e&&(a[b]=new q.Corner(e))},"^position.container$":function(a,b,e){if(r.rendered)if((a=r.options?r.options.bundle:null)&&"page"==a.target.renderType)switch(a.target.inlineInsertionLocation){case "NextSibling":z.insertAfter(e);break;case "PreviousSibling":z.insertBefore(e);break;case "FirstChild":z.prependTo(e);
break;default:z.appendTo(e)}else z.appendTo(e)},"^show.ready$":function(){r.rendered?r.toggle(!0):r.render(1)},"^style.classes$":function(a,b,e){z.attr("class","evergage-tooltip evergage-qtip "+e)},"^style.widget|content.title":T,"^events.(render|show|move|hide|focus|blur|destroy)$":function(a,e,k){z[(b.isFunction(k)?"":"un")+"bind"]("tooltip"+e,k)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var a=k.position;z.attr("tracking","mouse"===a.target&&
a.adjust.mouse);J();F()}};k&&k.bundle&&!k.bundle.legacy?(delete r.checks.builtin["^content.text$"],delete r.checks.builtin["^content.title.text$"]):delete r.checks.builtin["^content.fullcontents$"];b.extend(r,{render:function(e){if(r.rendered)return r;var c=k.content.text,h=k.content.title.text,y=k.position,f=-1!=this.options.style.classes.indexOf("evergage-unsafe-tooltip");b.attr(C[0],"aria-describedby",H);var g=k.bundle,n=g.invisible?"evergage-tooltip-invisible":"",P="";g&&null!=g.existingStyles&&
(P+=g.existingStyles);if(g&&!g.legacy&&null!=g.topLevelDivStyle)if(P+=g.topLevelDivStyle,"page"!==C.renderType||!0!==C.inlineRespectMessageSize)k.style.width=null,k.style.height=null;else if("page"===C.renderType&&!0===C.inlineRespectMessageSize){var v=b("\x3cdiv style\x3d'"+g.topLevelDivStyle+"'\x3e\x3c/div\x3e"),J=v.css("width");J&&-1<J.indexOf("px")&&(k.style.width=J);(v=v.css("height"))&&-1<v.indexOf("px")&&(k.style.height=v)}P+="visibility: hidden;box-sizing: border-box;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;display: block;";
g&&!0===g.invisible&&(P+="width: 1px !important; height: 1px !important; display: none !important; visibility: hidden !important; pointer-events: none !important; opacity: 0 !important;");z=N.tooltip=b("\x3cdiv/\x3e",{id:H,"class":"evergage-tooltip evergage-qtip evergage-tooltip-default "+k.style.classes+" evergage-tooltip-pos-"+k.position.my.abbrev()+" "+n,tracking:"mouse"===y.target&&y.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":!1,"aria-describedby":H+"-content","aria-hidden":!0,
style:P}).toggleClass("ui-state-disabled",X.disabled).data("qtip",r);if(k.position.container&&0<k.position.container.length&&k.position.replaceContainer)b(k.position.container[0]).replaceWith(z);else if(g&&"page"==g.target.renderType&&!0!==g.target.replaceExistingContent)switch(g.target.inlineInsertionLocation){case "NextSibling":z.insertAfter(k.position.container);break;case "PreviousSibling":z.insertBefore(k.position.container);break;case "FirstChild":z.prependTo(k.position.container);break;default:z.appendTo(k.position.container)}else z.appendTo(k.position.container);
null!=k.content.fullContents?(y=ajq(ajq.trim(k.content.fullContents)),!g.previewMode&&g.formElementData&&g.formElementData.messageHasForm&&(n=ajq("\x3cform/\x3e",{}),g.formElementData.formSubmitAction&&n.attr("evergage-action",g.formElementData.formSubmitAction),g.formElementData.hideMessageOnSubmit||n.attr("evergage-nocloseonsubmit","evergage-nocloseonsubmit"),g.formElementData.dismissMessageOnSubmit||n.attr("evergage-nodismissonsubmit","evergage-nodismissonsubmit"),y=n.append(y)),z.append(y),N.content=
z):z.append(N.content=b("\x3cdiv /\x3e",{"class":f?"evergage-tooltip-content-unsafe-tooltip":"evergage-tooltip-content",id:H+"-content","aria-atomic":!0}));f&&(f=b(this.elements.tooltip).outerWidth()-b(this.elements.tooltip).width(),g=b(this.elements.tooltip).outerHeight()-b(this.elements.tooltip).height(),y=this.options.content.text,null!=y&&0<y.length&&"iframe"==y.get(0).tagName.toLowerCase()&&"string"===typeof y.get(0).src&&(y.get(0).src+="\x26_extraWidth\x3d"+f+"\x26_extraHeight\x3d"+g));r.rendered=
-1;U=I=1;h&&null==k.content.fullContents&&(u(),b.isFunction(h)||aa(h,!1));b.isFunction(c)||null!=k.content.fullContents||ja(c,!1);r.rendered=!0;k.style.poweredBy&&R();T();b.each(k.events,function(a,e){b.isFunction(e)&&z.bind("toggle"===a?"tooltipshow tooltiphide":"tooltip"+a,e)});b.each(q,function(){"render"===this.initialize&&this(r)});F();z.queue("fx",function(c){m("render");U=I=0;r.redraw();if(k.show.ready||e)r.toggle(!0,X.event,!1),setTimeout(function(){z.css("display","block");l.getDisabledQtipWindowScroll()||
b(a).scroll()},1E3),l&&"object"===typeof l&&"function"===typeof l.setMessageAsDisplayedForReshowPersonalizationSections&&l.setMessageAsDisplayedForReshowPersonalizationSections(A),k.bundle&&"function"===typeof k.bundle.showCallback&&k.bundle.showCallback(r);c()});return r},get:function(a){switch(a.toLowerCase()){case "dimensions":a={height:z.outerHeight(!1),width:z.outerWidth(!1)};break;case "offset":a=q.offset(z,k.position.container);break;default:a=h(a.toLowerCase()),a=a[0][a[1]],a=a.precedance?
a.string():a}return a},set:function(a,e){var c=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,C=/^content\.(title|attr)|style/i,u=!1,y=!1,A=r.checks,g;"string"===typeof a?(g=a,a={},a[g]=e):a=b.extend(!0,{},a);b.each(a,function(e,k){var A=h(e.toLowerCase()),r;r=A[0][A[1]];A[0][A[1]]="object"===typeof k&&k.nodeType?b(k):k;a[e]=[A[0],A[1],k,r];u=c.test(e)||u;y=C.test(e)||y});v(k);U=I=1;b.each(a,function(a,b){var e,k,c;for(e in A)for(k in A[e])if(c=(new RegExp(k,"i")).exec(a))b.push(c),
A[e][k].apply(r,b)});U=I=0;r.rendered&&0<z[0].offsetWidth&&(u&&r.reposition("mouse"===k.position.target?null:X.event),y&&r.redraw());return r},toggle:function(a,e,C){function u(){a?(b.browser.msie&&z[0].style.removeAttribute("filter"),z.css("overflow",""),"string"===typeof g.autofocus&&b(g.autofocus,z).focus(),g.target.trigger("qtip-"+A+"-inactive")):z.css({display:"",visibility:"",opacity:"",left:"",top:""});m(a?"visible":"hidden")}if(e){if(/over|enter/.test(e.type)&&/out|leave/.test(X.event.type)&&
k.show.target.add(e.target).length===k.show.target.length&&z.has(e.relatedTarget).length)return r;X.event=b.extend({},e)}if(!r.rendered)return a?r.render(1):r;var y=a?"show":"hide",g=k[y],h=k.position,f=k.content,R=0<z[0].offsetWidth&&"visible"==z.css("visibility"),N=a||1===g.target.length,P=!e||2>g.target.length||X.target[0]===e.target;(typeof a).search("boolean|number")&&(a=!R);if(!z.is(":animated")&&R===a&&P||!m(y,[90]))return r;b.attr(z[0],"aria-hidden",!a);a?(X.origin=b.extend({},x),r.focus(e),
b.isFunction(f.text)&&ja(f.text,!1),b.isFunction(f.title.text)&&aa(f.title.text,!1),!E&&"mouse"===h.target&&h.adjust.mouse&&(b(c).bind("mousemove.qtip",function(a){try{x={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}catch(b){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(b,"pageMouseMove")}}),E=!0),r.reposition(e,C),z.css({visibility:"visible"}),g.solo&&b("div.evergage-qtip.evergage-tooltip",g.solo).not(z).qtip("hide",b.Event("tooltipsolo"))):(clearTimeout(r.timers.show),
delete X.origin,E&&!b('div.evergage-qtip.evergage-tooltip[tracking\x3d"true"]:visible',g.solo).not(z).length&&(b(c).unbind("mousemove.qtip"),E=!1),r.blur(e));!1===g.effect||!1===N?(z[y](),u.call(z)):b.isFunction(g.effect)?(z.stop(1,1),g.effect.call(z,r),z.queue("fx",function(a){u();a()})):z.fadeTo(90,a?1:0,u);a&&g.target.trigger("qtip-"+A+"-inactive");return r},show:function(a){return r.toggle(!0,a)},hide:function(a){return r.toggle(!1,a)},focus:function(a){if(!r.rendered)return r;var e=b("div.evergage-qtip.evergage-tooltip"),
k=parseInt(z[0].style.zIndex,10),c=Q.zindex+e.length;a=b.extend({},a);z.hasClass("evergage-tooltip-focus")||z.hasClass("evergage-tooltip-invisible")||!m("focus",[c],a)||(k!==c&&(e.each(function(){this.style.zIndex>k&&--this.style.zIndex}),e.filter(".evergage-tooltip-focus").qtip("blur",a)),z.addClass("evergage-tooltip-focus")[0].style.zIndex=c);return r},blur:function(a){z.removeClass("evergage-tooltip-focus");m("blur",[z.css("zIndex")],a);return r},reposition:function(e,C){if(!r.rendered||U)return r;
var u=k?k.bundle:null;u&&u.target&&u.target.target&&k.position&&k.position.target&&k.position.target.selector===u.target.target&&(k.position.target=ajq(u.target.target));U=1;var u=k.position.target,g=k.position,A=g.my,y=g.at,h=g.adjust,f=h.method.split(" "),R=z.outerWidth(!1),l=z.outerHeight(!1),P=0,n=0,v="fixed"===z.css("position"),I=g.viewport,F={left:0,top:0},J=g.container,ja=0<z[0].offsetWidth,aa,E;if(b.isArray(u)&&2===u.length)y={x:"left",y:"top"},F={left:u[0],top:u[1]};else if("mouse"===u&&
(e&&e.pageX||X.event.pageX))y={x:"left",y:"top"},e=(!e||"resize"!==e.type&&"scroll"!==e.type?e&&e.pageX&&"mousemove"===e.type?e:!x||!x.pageX||!h.mouse&&e&&e.pageX?!h.mouse&&X.origin&&X.origin.pageX&&k.show.distance?X.origin:e:{pageX:x.pageX,pageY:x.pageY}:X.event)||e||X.event||x||{},F={top:e.pageY,left:e.pageX};else{"event"===u&&e&&e.target&&"scroll"!==e.type&&"resize"!==e.type?X.target=b(e.target):"event"!==u&&(X.target=b(u.jquery?u:N.target));u=X.target;u=b(u).eq(0);if(0===u.length)return r;u[0]===
c||u[0]===a?(P="number"===typeof a.innerWidth&&"number"===typeof u.width()&&a.innerWidth!==u.width()&&a.innerWidth+20>=u.width()?u.width():"number"===typeof a.innerWidth?a.innerWidth:u.width(),n="number"===typeof a.innerHeight&&"number"===typeof u.height()&&a.innerHeight!==u.height()&&a.innerHeight+20>=u.height()?u.height():"number"===typeof a.innerHeight?a.innerHeight:u.height(),u[0]===a&&(F={top:(I||u).scrollTop(),left:(I||u).scrollLeft()})):q.imagemap&&u.is("area")?aa=q.imagemap(r,u,y,q.viewport?
f:!1):q.svg&&"string"===typeof u[0].xmlbase?aa=q.svg(r,u,y,q.viewport?f:!1):(P=u.outerWidth(!1),n=u.outerHeight(!1),F=q.offset(u,J));aa&&(P=aa.width,n=aa.height,E=aa.offset,F=aa.position);if(q.iOS||!q.iOS&&v)aa=b(a),F.left-=aa.scrollLeft(),F.top-=aa.scrollTop();F.left+="right"===y.x?P:"center"===y.x?P/2:0;F.top+="bottom"===y.y?n:"center"===y.y?n/2:0}F.left+=h.x+("right"===A.x?-R:"center"===A.x?-R/2:0);F.top+=h.y+("bottom"===A.y?-l:"center"===A.y?-l/2:0);q.viewport?(F.adjusted=q.viewport(r,F,g,P,n,
R,l),E&&F.adjusted.left&&(F.left+=E.left),E&&F.adjusted.top&&(F.top+=E.top)):F.adjusted={left:0,top:0};if(!m("move",[F,I.elem||I],e))return r;delete F.adjusted;!1===C||!ja||isNaN(F.left)||isNaN(F.top)||"mouse"===u||!b.isFunction(g.effect)?z.css(F):b.isFunction(g.effect)&&(g.effect.call(z,r,b.extend({},F)),z.queue(function(a){b(this).css({opacity:""});b.browser.msie&&this.style.removeAttribute("filter");a()}));U=0;return r},redraw:function(){if(1>r.rendered||I)return r;var a=k.style,e=k.position.container,
b,c,u;I=1;m("redraw");a.height&&"1px"!=a.height&&(b=z[0].style.cssText,ajq.trim(b).lastIndexOf(";")+1!=ajq.trim(b).length&&(b+="; "),b+=" max-height: "+a.height+" !important;",b+=" height: "+a.height+" !important;",z[0].style.cssText=b);if(a.width&&"1px"!=a.width)b=z[0].style.cssText,ajq.trim(b).lastIndexOf(";")+1!=ajq.trim(b).length&&(b+="; "),b+=" max-width: "+a.width+" !important;",b+=" width: "+a.width+" !important;",z[0].style.cssText=b;else if(!0!==k.position.replaceContainer){if("-28000px"==
z.css("top"))return r;b=z.outerWidth();var C=k.bundle;if(parseInt(z.css("width"))>=parseInt(e.css("width")))if(C&&"page"==C.target.renderType&&!0!==C.target.replaceExistingContent)switch(C.target.inlineInsertionLocation){case "NextSibling":z.insertAfter(e);break;case "PreviousSibling":z.insertBefore(e);break;case "FirstChild":z.prependTo(e);break;default:z.appendTo(e)}else z.appendTo(e);else if(c=z.css("max-width")||"",u=z.css("min-width")||"",a=-1<(c+u).indexOf("%")?e.width()/100:0,c=(-1<c.indexOf("%")?
a:1)*parseInt(c,10)||b,u=(-1<u.indexOf("%")?a:1)*parseInt(u,10)||0,b=c+u?Math.min(Math.max(b,u),c):b,C&&"page"==C.target.renderType&&!0!==C.target.replaceExistingContent)switch(k.bundle.target.inlineInsertionLocation){case "NextSibling":z.css("width",Math.round(b)).insertAfter(e);break;case "PreviousSibling":z.css("width",Math.round(b)).insertBefore(e);break;case "FirstChild":z.css("width",Math.round(b)).prependTo(e);break;default:z.css("width",Math.round(b)).appendTo(e)}else z.css("width",Math.round(b)).appendTo(e)}m("redrawn");
I=0;return r},disable:function(a){"boolean"!==typeof a&&(a=!(z.hasClass("ui-state-disabled")||X.disabled));r.rendered?(z.toggleClass("ui-state-disabled",a),b.attr(z[0],"aria-disabled",a)):X.disabled=!!a;return r},enable:function(){return r.disable(!1)},destroy:function(){var a=C[0],e=b.attr(a,"oldtitle"),c=C.data("qtip");m("destroy");r.destroyed=!0;r.rendered&&(z.stop(1,0).remove(),b.each(r.plugins,function(){this.destroy&&this.destroy()}));clearTimeout(r.timers.show);clearTimeout(r.timers.hide);
J();c&&r!==c||(b.removeData(a,"qtip"),k.suppress&&e&&(b.attr(a,"title",e),C.removeAttr("oldtitle")),C.removeAttr("aria-describedby"));C.unbind(".qtip-"+A);delete g[r.id];return C}})}function h(a,k){var g,h,l,m,n,y=b(this),e=b(c.body),u=this===c?e:y;h=y.metadata?y.metadata(k.metadata):null;m="html5"===k.metadata.type&&h?h[k.metadata.name]:null;var R=y.data(k.metadata.name||"qtipopts");try{R="string"===typeof R?b.parseJSON(R):R}catch(B){}m=b.extend(!0,{},Q.defaults,k,"object"===typeof R?v(R):null,v(m||
h));h=m.position;m.id=a;if("boolean"===typeof m.content.text)if(l=y.attr(m.content.attr),!1!==m.content.attr&&l)m.content.text=l;else return!1;h.container.length||(h.container=e);!1===h.target&&(h.target=u);!1===m.show.target&&(m.show.target=u);!0===m.show.solo&&(m.show.solo=h.container.closest("body"));!1===m.hide.target&&(m.hide.target=u);!0===m.position.viewport&&(m.position.viewport=h.container);h.container=h.container.eq(0);h.at=new q.Corner(h.at);h.my=new q.Corner(h.my);if(b.data(this,"qtip"))if(m.overwrite)y.qtip("destroy");
else if(!1===m.overwrite)return!1;m.suppress&&(n=b.attr(this,"title"))&&b(this).removeAttr("title").attr("oldtitle",n).attr("title","");g=new f(y,m,a,!!l);b.data(this,"qtip",g);y.bind("remove.qtip-"+a+" removeqtip.qtip-"+a,function(){g.destroy()});return g}function m(a){var k=this,c=a.elements.tooltip,g=a.options.content.ajax,h=Q.defaults.content.ajax,f=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,m=!0,y=!1,e;a.checks.ajax={"^content.ajax":function(a,e,b){"ajax"===e&&(g=b);"once"===e?k.init():
g&&g.url?k.load():c.unbind(".qtip-ajax")}};b.extend(k,{init:function(){if(g&&g.url)c.unbind(".qtip-ajax")[g.once?"one":"bind"]("tooltipshow.qtip-ajax",k.load);return k},load:function(c){function A(){var e;a.destroyed||(m=!1,B&&(y=!0,a.show(c.originalEvent)),(e=h.complete||g.complete)&&b.isFunction(e)&&e.apply(g.context||a,arguments))}function l(e,k,c){var u;a.destroyed||(r&&"string"===typeof e&&(e=b("\x3cdiv/\x3e").append(e.replace(f,"")).find(r)),(u=h.success||g.success)&&b.isFunction(u)?u.call(g.context||
a,e,k,c):a.set("content.text",e))}function n(e,b,k){a.destroyed||0===e.status||a.set("content.text",b+": "+k)}if(y)y=!1;else{var F=g.url.lastIndexOf(" "),v=g.url,r,B=!g.loading&&m;if(B)try{c.preventDefault()}catch(q){}else if(c&&c.isDefaultPrevented())return k;e&&e.abort&&e.abort();-1<F&&(r=v.substr(F),v=v.substr(0,F));e=b.ajax(b.extend({error:h.error||n,context:a},g,{url:v,success:l,complete:A}))}},destroy:function(){e&&e.abort&&e.abort();a.destroyed=!0}});k.init()}function U(a,b,c){var g=Math.ceil(b/
2),h=Math.ceil(c/2);b={bottomright:[[0,0],[b,c],[b,0]],bottomleft:[[0,0],[b,0],[0,c]],topright:[[0,c],[b,0],[b,c]],topleft:[[0,0],[0,c],[b,c]],topcenter:[[0,c],[g,0],[b,c]],bottomcenter:[[0,0],[b,0],[g,c]],rightcenter:[[0,0],[b,h],[0,c]],leftcenter:[[b,0],[b,c],[0,h]]};b.lefttop=b.bottomright;b.righttop=b.bottomleft;b.leftbottom=b.topright;b.rightbottom=b.topleft;return b[a.string()]}function H(a,c){var g,h;function f(a){var b=r.is(":visible");r.show();a();r.toggle(b)}function m(b,e,c,k){if(J.tip){b=
B.corner.clone();k=c.adjusted;var u=a.options.position.adjust.method.split(" "),g=u[0],u=u[1]||u[0],h=!1,f=!1,r=0,l=0,A,R={};!0!==B.corner.fixed&&("shift"===g&&"x"===b.precedance&&k.left&&"center"!==b.y?b.precedance="x"===b.precedance?"y":"x":"shift"!==g&&k.left&&(b.x="center"===b.x?0<k.left?"left":"right":"left"===b.x?"right":"left"),"shift"===u&&"y"===b.precedance&&k.top&&"center"!==b.x?b.precedance="y"===b.precedance?"x":"y":"shift"!==u&&k.top&&(b.y="center"===b.y?0<k.top?"top":"bottom":"top"===
b.y?"bottom":"top"),b.string()===E.corner.string()||E.top===k.top&&E.left===k.left||B.update(b,!1));A=B.position(b,k);f=y(b,b.x);h=y(b,b.y);e=e.options.bundle;if(e.legacy)A[b.x]+=f,A[b.y]+=h;else{var z=A.right?"right":"left";0>A[z]&&(f=e.previewMode?A[z]-f:-(J.tip.width()+parseFloat(J.tip.css("padding-"+z))),J.tip.css(z,f));f=A.bottom?"bottom":"top";0>A[f]&&(e=e.previewMode?A[f]-h:-(J.tip.height()+parseFloat(J.tip.css("padding-"+f))),J.tip.css(f,e))}A.right!==n&&(A.left=-A.right);A.bottom!==n&&(A.top=
-A.bottom);A.user=Math.max(0,F.offset);if(h="shift"===g&&!!k.left)"center"===b.x?R["margin-left"]=r=A["margin-left"]-k.left:(e=A.right!==n?[k.left,-A.left]:[-k.left,A.left],(r=Math.max(e[0],e[1]))>e[0]&&(c.left-=k.left,h=!1),R[A.right!==n?"right":"left"]=r);if(f="shift"===u&&!!k.top)"center"===b.y?R["margin-top"]=l=A["margin-top"]-k.top:(e=A.bottom!==n?[k.top,-A.top]:[-k.top,A.top],(l=Math.max(e[0],e[1]))>e[0]&&(c.top-=k.top,f=!1),R[A.bottom!==n?"bottom":"top"]=l);J.tip.css(R).toggle(!(r&&l||"center"===
b.x&&l||"center"===b.y&&r));c.left-=A.left.charAt?A.user:"shift"!==g||f||!h&&!f?A.left:0;c.top-=A.top.charAt?A.user:"shift"!==u||h||!h&&!f?A.top:0;E.left=k.left;E.top=k.top;E.corner=b.clone()}}function l(){var b=F.corner,e=a.options.position,c=e.at,e=e.my.string?e.my.string():e.my;if(!1===b||!1===e&&!1===c)return!1;!0===b?B.corner=new q.Corner(e):b.string||(B.corner=new q.Corner(b),B.corner.fixed=!0);E.corner=new q.Corner(B.corner.string());return"centercenter"!==B.corner.string()}function y(a,b,
e){b=b?b:a[a.precedance];var c=J.titlebar&&"top"===a.y?J.titlebar:r,k="border-"+b+"-width",u;f(function(){u=(e?parseInt(e.css(k),10):parseInt(J.content.css(k),10)||parseInt(c.css(k),10)||parseInt(r.css(k),10))||0});return u}function e(a){var e=J.titlebar&&"top"===a.y?J.titlebar:J.content,c=b.browser.mozilla?"-moz-":b.browser.webkit?"-webkit-":"",k="border-radius-"+a.y+a.x,u="border-"+a.y+"-"+a.x+"-radius",g=function(a){return parseInt(e.css(a),10)||parseInt(r.css(a),10)},h;f(function(){h=g(u)||g(c+
u)||g(c+k)||g(k)||0});return h}function u(a){function e(a,b,c){b=a.css(b)||"transparent";return c&&b===a.css(c)?!1:k.test(b)?!1:b}var c=J.tip.css("cssText","");a=a||B.corner;var k=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,u="border-"+a[a.precedance]+"-color",C=J.titlebar,y=C&&("top"===a.y||"center"===a.y&&c.position().top+x.height/2+F.offset<C.outerHeight(!0))?C:J.content;f(function(){g=e(c,"background-color")||e(y,"background-color")||e(J.content,"background-color")||e(r,"background-color")||
c.css("background-color");h=e(c,u,"color")||e(y,u,"color")||e(J.content,u,"color")||e(r,u,"color")||r.css(u);b("*",c).add(c).css("cssText","background-color:transparent !important;border:0 !important;")})}function R(a){var b="y"===a.precedance,e=x[b?"width":"height"],c=x[b?"height":"width"],k=-1<a.string().indexOf("center"),u=e*(k?.5:1),g=Math.pow;a=Math.round;var h=Math.sqrt(g(u,2)+g(c,2)),u=[I/u*h,I/c*h];u[2]=Math.sqrt(g(u[0],2)-g(I,2));u[3]=Math.sqrt(g(u[1],2)-g(I,2));k=(h+u[2]+u[3]+(k?0:u[0]))/
h;e=[a(k*c),a(k*e)];return{height:e[b?0:1],width:e[b?1:0]}}function v(a,b,e){return"\x3cqvml:"+a+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"evergage-qtip-vml" '+(b||"")+' style\x3d"behavior: url(#default#VML); '+(e||"")+'" /\x3e'}var B=this,F=a.options.style.tip,J=a.elements,r=J.tooltip,E={top:0,left:0},x={width:F.width,height:F.height};h=g=void 0;var I=F.border||0,z=!!(b("\x3ccanvas /\x3e")[0]||{}).getContext,G;B.corner=null;B.mimic=null;B.border=I;B.offset=F.offset;B.size=x;a.checks.tip=
{"^position.my|style.tip.(corner|mimic|border)$":function(){B.init()||B.destroy();a.reposition()},"^style.tip.(height|width)$":function(){x={width:F.width,height:F.height};B.create();B.update();a.reposition()},"^content.title.text|style.(classes|widget)$":function(){J.tip&&J.tip.length&&B.update()}};b.extend(B,{init:function(){var a=l()&&(z||b.browser.msie);a&&(B.create(),B.update(),r.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",m),z||r.bind("tooltipredraw tooltipredrawn",function(a){"tooltipredraw"===
a.type?(G=J.tip.html(),J.tip.html("")):J.tip.html(G)}));return a},create:function(){var a=x.width,e=x.height;J.tip&&J.tip.remove();J.tip=b("\x3cdiv /\x3e",{"class":"evergage-tooltip-tip"}).css({width:a,height:e}).prependTo(r);z?b("\x3ccanvas /\x3e").appendTo(J.tip)[0].getContext("2d").save():(a=v("shape",'coordorigin\x3d"0,0"',"position:absolute;"),J.tip.html(a+a),b("*",J.tip).bind("click mousedown",function(a){a.stopPropagation()}))},update:function(a,e){var c=J.tip,k=c.children(),C=x.width,f=x.height,
m=F.mimic,l=Math.round,n,G;a||(a=E.corner||B.corner);!1===m?m=a:(m=new q.Corner(m),m.precedance=a.precedance,"inherit"===m.x?m.x=a.x:"inherit"===m.y?m.y=a.y:m.x===m.y&&(m[a.precedance]=a[a.precedance]));"x"===a.precedance?(x.width=F.height,x.height=F.width):(x.width=F.width,x.height=F.height);J.tip.css({width:C=x.width,height:f=x.height});u(a);"transparent"!==h?(I=y(a,null),0===F.border&&0<I&&(g=h),B.border=I=!0!==F.border?F.border:I):B.border=I=0;n=U(m,C,f);B.size=G=R(a);c.css(G);c="y"===a.precedance?
[l("left"===m.x?I:"right"===m.x?G.width-C-I:(G.width-C)/2),l("top"===m.y?G.height-f:0)]:[l("left"===m.x?G.width-C:0),l("top"===m.y?I:"bottom"===m.y?G.height-f-I:(G.height-f)/2)];z?(k.attr(G),k=k[0].getContext("2d"),k.restore(),k.save(),k.clearRect(0,0,3E3,3E3),k.fillStyle=g,k.strokeStyle=h,k.lineWidth=2*I,k.lineJoin="miter",k.miterLimit=100,k.translate(c[0],c[1]),k.beginPath(),k.moveTo(n[0][0],n[0][1]),k.lineTo(n[1][0],n[1][1]),k.lineTo(n[2][0],n[2][1]),k.closePath(),I&&("border-box"===r.css("background-clip")&&
(k.strokeStyle=g,k.stroke()),k.strokeStyle=h,k.stroke()),k.fill()):(n="m"+n[0][0]+","+n[0][1]+" l"+n[1][0]+","+n[1][1]+" "+n[2][0]+","+n[2][1]+" xe",c[2]=I&&/^(r|b)/i.test(a.string())?8===parseFloat(b.browser.version,10)?2:1:0,k.css({coordsize:C+I+" "+(f+I),antialias:""+(-1<m.string().indexOf("center")),left:c[0],top:c[1],width:C+I,height:f+I}).each(function(a){var e=b(this);e[e.prop?"prop":"attr"]({coordsize:C+I+" "+(f+I),path:n,fillcolor:g,filled:!!a,stroked:!a}).toggle(!(!I&&!a));a||""!==e.html()||
e.html(v("stroke",'weight\x3d"'+2*I+'px" color\x3d"'+h+'" miterlimit\x3d"1000" joinstyle\x3d"miter"'))}));!1!==e&&B.position(a)},position:function(a){var c=J.tip,k={},u=Math.max(0,F.offset),g,h,C;if(!1===F.corner||!c)return!1;a=a||B.corner;g=a.precedance;h=R(a);C=[a.x,a.y];"x"===g&&C.reverse();b.each(C,function(b,c){var C,f,A;"center"===c?(C="y"===g?"left":"top",k[C]="50%",k["margin-"+C]=-Math.round(h["y"===g?"width":"height"]/2)+u):(C=y(a,c),f=y(a,c,J.content),A=e(a),k[c]=b?f:u+(A>C?A:-C))});k[a[g]]-=
h["x"===g?"width":"height"];c.css({top:"",bottom:"",left:"",right:"",margin:""}).css(k);return k},destroy:function(){J.tip&&J.tip.remove();J.tip=!1;r.unbind(".qtip-tip")}});B.init()}function T(g){function k(){E=b(R,y).not("[disabled]").map(function(){return"function"===typeof this.focus?this:null})}function h(a){1>E.length&&a.length?a.not("body").blur():E.first().focus()}function f(a){try{var e=b(a.target),c=e.closest(".evergage-qtip");(1>c.length?0:parseInt(c[0].style.zIndex,10)>parseInt(y[0].style.zIndex,
10))||b(a.target).closest("div.evergage-qtip.evergage-tooltip")[0]===y[0]||h(e)}catch(k){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(k,"messageFocus")}}var m=this,n=g.options.show.modal,v=g.elements,y=v.tooltip,e=".qtipmodal"+g.id,u=b(c.body),R=q.modal.focusable.join(","),E={},x;g.checks.modal={"^show.modal.(on|blur)$":function(){m.init();v.overlay.toggle(y.is(":visible"))},"^content.text$":function(){k()}};b.extend(m,{init:function(){if(!n.on)return m;x=m.create();y.attr("is-modal-qtip",
!0).css("z-index",q.modal.zindex+b("div.evergage-qtip.evergage-tooltip[is-modal-qtip]").length).unbind(".qtipmodal").unbind(e).bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(a,e,c){e=a.originalEvent;if(a.target===y[0])if(e&&"tooltiphide"===a.type&&/mouse(leave|enter)/.test(e.type)&&b(e.relatedTarget).closest(x[0]).length)try{a.preventDefault()}catch(k){}else if(!e||e&&!e.solo)m[a.type.replace("tooltip","")](a,c)}).bind("tooltipfocus.qtipmodal",function(a){if(!a.isDefaultPrevented()&&
a.target===y[0]){var e=b("div.evergage-qtip.evergage-tooltip").filter("[is-modal-qtip]"),c=q.modal.zindex+e.length,k=parseInt(y[0].style.zIndex,10);x[0].style.zIndex=c-2;e.each(function(){this.style.zIndex>k&&--this.style.zIndex});e.end().filter(".evergage-tooltip-focus").qtip("blur",a.originalEvent);y.addClass("evergage-tooltip-focus")[0].style.zIndex=c;try{a.preventDefault()}catch(u){}}}).bind("tooltiphide.qtipmodal",function(a){a.target===y[0]&&b("[is-modal-qtip]").filter(":visible").not(y).last().qtip("focus",
a)});n.escape&&b(c).unbind(e).bind("keydown"+e,function(a){try{27===a.keyCode&&y.hasClass("evergage-tooltip-focus")&&(g.hide(a),g.destroy(a))}catch(e){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(e,"messageEscapeKey")}});n.blur&&v.overlay.unbind(e).bind("click"+e,function(a){try{y.hasClass("evergage-tooltip-focus")&&(g.hide(a),g.destroy(a))}catch(e){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(e,"messageBlur")}});k();return m},create:function(){function e(){try{x.css({height:b(a).height(),
width:b(a).width()})}catch(c){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(c,"pageResize")}}var c=b("#evergage-qtip-overlay");if(c.length)return v.overlay=c.insertAfter(b("div.evergage-qtip.evergage-tooltip").last());x=v.overlay=b("\x3cdiv /\x3e",{id:"evergage-qtip-overlay",html:"\x3cdiv\x3e\x3c/div\x3e",mousedown:function(){return!1}}).hide().insertAfter(b("div.evergage-qtip.evergage-tooltip").last());b(a).unbind(".qtipmodal").bind("resize.qtipmodal",e);e();return x},
toggle:function(a,c,k){if(a&&a.isDefaultPrevented())return m;a=n.effect;var g=c?"show":"hide",C=x.is(":visible"),l=b("[is-modal-qtip]").filter(":visible").not(y);x||(x=m.create());if(x.is(":animated")&&C===c||!c&&l.length)return m;c?(x.css({left:0,top:0}),x.toggleClass("blurs",n.blur),!1!==n.stealfocus&&(u.bind("focusin"+e,f),h(b("body :focus")))):u.unbind("focusin"+e);x.stop(!0,!1);if(b.isFunction(a))a.call(x,c);else if(!1===a)x[g]();else x.fadeTo(parseInt(k,10)||90,c?1:0,function(){c||b(this).hide()});
c||x.queue(function(a){x.css({left:"",top:""});a()});return m},show:function(a,e){return m.toggle(a,!0,e)},hide:function(a,e){return m.toggle(a,!1,e)},destroy:function(){var a=x;a&&((a=1>b("[is-modal-qtip]").not(y).length)?(v.overlay.remove(),b(c).unbind(".qtipmodal")):v.overlay.unbind(".qtipmodal"+g.id),u.undelegate("*","focusin"+e));return y.removeAttr("is-modal-qtip").unbind(".qtipmodal")}});m.init()}function ba(a){var c=this,g=a.elements,h=g.tooltip,f=".bgiframe-"+a.id;b.extend(c,{init:function(){g.bgiframe=
b('\x3ciframe class\x3d"evergage-tooltip-bgiframe" frameborder\x3d"0" tabindex\x3d"-1" src\x3d"javascript:\'\';"  style\x3d"display:block; position:absolute; z-index:-1; filter:alpha(opacity\x3d0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d0)";"\x3e\x3c/iframe\x3e');g.bgiframe.appendTo(h);h.bind("tooltipmove"+f,c.adjust)},adjust:function(){var b=a.get("dimensions"),c=a.plugins.tip,k=g.tip,e;e=parseInt(h.css("border-left-width"),10)||0;e={left:-e,top:-e};c&&k&&(c="x"===c.corner.precedance?
["width","left"]:["height","top"],e[c[1]]-=k[c[0]]());g.bgiframe.css(e).css(b)},destroy:function(){g.bgiframe.remove();h.unbind(f)}});c.init()}var Q,q,x,g={},E;Q=b.fn.qtip=function(a,c,g){var h=(""+a).toLowerCase(),f=null,m=b.makeArray(arguments).slice(1),l=m[m.length-1],y=this[0]?b.data(this[0],"qtip"):null;if(!arguments.length&&y||"api"===h)return y;if("string"===typeof a)return this.each(function(){var a=b.data(this,"qtip");if(!a)return!0;l&&l.timeStamp&&(a.cache.event=l);if("option"!==h&&"options"!==
h||!c)a[h]&&a[h].apply(a[h],m);else if(b.isPlainObject(c)||g!==n)a.set(c,g);else return f=a.get(c),!1}),null!==f?f:this;if("object"===typeof a||!arguments.length)return y=v(b.extend(!0,{},a)),Q.bind.call(this,y,l)};Q.bind=function(a,c){return this.each(function(f){function m(a){try{var c=function(){e.render("object"===typeof a||B.show.ready);v.show.add(v.hide).unbind(y)};if(e.cache.disabled)return!1;e.cache.event=b.extend({},a);e.cache.target=a?b(a.target):[n];0<B.show.delay?(clearTimeout(e.timers.show),
e.timers.show=setTimeout(c,B.show.delay),E.show!==E.hide&&v.hide.bind(E.hide,function(){try{clearTimeout(e.timers.show)}catch(a){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(a,"messageHideClearTimeout")}})):c()}catch(k){e.hide(),e.destroy(),"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(k,"messageDisplay")}}var B,v,E,y,e;f=b.isArray(a.id)?a.id[f]:a.id;f=!f||!1===f||1>f.length||g[f]?Q.nextid++:f;y=".qtip-"+f+"-create";e=h.call(this,f,a);if(!1===
e)return!0;B=e.options;b.each(q,function(){"initialize"===this.initialize&&this(e)});v={show:B.show.target,hide:B.hide.target};E={show:b.trim(""+B.show.event).replace(/ /g,y+" ")+y,hide:b.trim(""+B.hide.event).replace(/ /g,y+" ")+y};/mouse(over|enter)/i.test(E.show)&&!/mouse(out|leave)/i.test(E.hide)&&(E.hide+=" mouseleave"+y);v.show.bind("mousemove"+y,function(a){try{x={pageX:a.pageX,pageY:a.pageY,type:"mousemove"},e.cache.onTarget=!0}catch(b){"object"===typeof l&&"function"===typeof l.sendException&&
l.sendException(b,"targetMouseMove")}});v.show.bind(E.show,m);(B.show.ready||B.prerender)&&m(c)})};q=Q.plugins={Corner:function(a){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase();this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();a=a.charAt(0);this.precedance="t"===a||"b"===a?"y":"x";this.string=function(){return"y"===this.precedance?this.y+this.x:this.x+this.y};this.abbrev=
function(){var a=this.x.substr(0,1),b=this.y.substr(0,1);return a===b?a:"y"===this.precedance?b+a:a+b};this.invertx=function(a){this.x="left"===this.x?"right":"right"===this.x?"left":a||this.x};this.inverty=function(a){this.y="top"===this.y?"bottom":"bottom"===this.y?"top":a||this.y};this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(a,c){var g=a.offset(),h=a.closest("body")[0],
f=c,m,l,y;if(f){do"static"!==f.css("position")&&(l=f.position(),f.is("body")&&(l.top+=parseInt(f.css("top"),10)||0),g.left-=l.left+(parseInt(f.css("borderLeftWidth"),10)||0)+(parseInt(f.css("marginLeft"),10)||0),g.top-=l.top+(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0),m||"hidden"===(y=f.css("overflow"))||"visible"===y||(m=f));while((f=b(f[0].offsetParent)).length);m&&m[0]!==h&&(h=m,g.left+=1*h.scrollLeft(),g.top+=1*h.scrollTop())}return g},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||
[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1,fn:{attr:function(a,c){if(this.length){var g=this[0],h=b.data(g,"qtip");if("title"===a&&h&&"object"===typeof h&&h.options.suppress){if(2>arguments.length)return b.attr(g,"oldtitle");h&&"title"===h.options.content.attr&&h.cache.attr&&h.set("content.text",c);return this.attr("oldtitle",c)}}return b.fn.attr_replacedByqTip.apply(this,arguments)},clone:function(a){b([]);var c=b.fn.clone_replacedByqTip.apply(this,arguments);a||
c.filter("[oldtitle]").attr("title",function(){return b.attr(this,"oldtitle")}).removeAttr("oldtitle");return c}}};b.each(q.fn,function(a,c){if(!c||b.fn[a+"_replacedByqTip"])return!0;var g=b.fn[a+"_replacedByqTip"]=b.fn[a];b.fn[a]=function(){return c.apply(this,arguments)||g.apply(this,arguments)}});b.ui||(b.cleanData_replacedByqTip=b.cleanData,b.cleanData=function(a){for(var c=0,g;(g=a[c])!==n;c++)try{b(g).triggerHandler("removeqtip")}catch(h){}b.cleanData_replacedByqTip(a)});Q.version="@VERSION";
Q.nextid=0;Q.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");Q.zindex=15E3;Q.defaults={prerender:!1,id:!1,overwrite:!0,suppress:!0,content:{text:!0,attr:"title",title:{text:!1,button:!1}},position:{my:"top left",at:"bottom right",target:!1,container:!1,viewport:!1,adjust:{x:0,y:0,mouse:!0,resize:!0,method:"flip flip"},effect:function(a,c,g){b(this).css(c)}},show:{target:!1,event:"mouseenter",effect:!0,delay:90,solo:!1,ready:!1,autofocus:!1},hide:{target:!1,
event:"mouseleave",effect:!0,delay:0,fixed:!1,inactive:!1,leave:"window",distance:!1},style:{classes:"",widget:!1,width:!1,height:!1,def:!0},events:{render:null,move:null,show:null,hide:null,toggle:null,visible:null,hidden:null,focus:null,blur:null,destroy:null}};q.svg=function(a,k,g,h){a=b(c);var f=k[0];k={width:0,height:0,position:{top:1E10,left:1E10}};for(var m;!f.getBBox;)f=f.parentNode;if(f.getBBox&&f.parentNode){g=f.getBBox();h=f.getScreenCTM();f=f.farthestViewportElement||f;if(!f.createSVGPoint)return k;
f=f.createSVGPoint();f.x=g.x;f.y=g.y;m=f.matrixTransform(h);k.position.left=m.x;k.position.top=m.y;f.x+=g.width;f.y+=g.height;m=f.matrixTransform(h);k.width=m.x-k.position.left;k.height=m.y-k.position.top;k.position.left+=a.scrollLeft();k.position.top+=a.scrollTop()}return k};q.ajax=function(a){var b=a.plugins.ajax;return"object"===typeof b?b:a.plugins.ajax=new m(a)};q.ajax.initialize="render";q.ajax.sanitize=function(a){var b=a.content;b&&"ajax"in b&&(b=b.ajax,"object"!==typeof b&&(b=a.content.ajax=
{url:b}),"boolean"!==typeof b.once&&b.once&&(b.once=!!b.once))};b.extend(!0,Q.defaults,{content:{ajax:{loading:!0,once:!0}}});q.tip=function(a){var b=a.plugins.tip;return"object"===typeof b?b:a.plugins.tip=new H(a)};q.tip.initialize="render";q.tip.sanitize=function(a){var b=a.style;b&&"tip"in b&&(b=a.style.tip,"object"!==typeof b&&(a.style.tip={corner:b}),/string|boolean/i.test(typeof b.corner)||(b.corner=!0),"number"!==typeof b.width&&delete b.width,"number"!==typeof b.height&&delete b.height,"number"!==
typeof b.border&&!0!==b.border&&delete b.border,"number"!==typeof b.offset&&delete b.offset)};b.extend(!0,Q.defaults,{style:{tip:{corner:!0,mimic:!1,width:6,height:6,border:!0,offset:0}}});q.modal=function(a){var b=a.plugins.modal;return"object"===typeof b?b:a.plugins.modal=new T(a)};q.modal.initialize="render";q.modal.sanitize=function(a){a.show&&("object"!==typeof a.show.modal?a.show.modal={on:!!a.show.modal}:"undefined"===typeof a.show.modal.on&&(a.show.modal.on=!0))};q.modal.zindex=1000402;q.modal.focusable=
"a[href] area[href] input select textarea button iframe object embed [tabindex] [contenteditable]".split(" ");b.extend(!0,Q.defaults,{show:{modal:{on:!1,effect:!0,blur:!0,stealfocus:!0,escape:!0}}});q.viewport=function(b,k,g,h,f,m,l){function y(a,b,e,c,g,u,h,f,m){var y=k[g],l=R[a],B=n[a],v="shift"===e,z=-q.offset[g]+r.offset[g]+r["scroll"+g],A=l===g?m:l===u?-m:-m/2,C=I&&I.size?I.size[h]||0:0,x=I&&I.corner&&I.corner.precedance===a&&!v?C:0,E=z-y+x;m=y+m-r[h]-z+x;f=A-(R.precedance===a||l===R[b]?B===
g?f:B===u?-f:-f/2:0)-("center"===B?f/2:0);v?(x=I&&I.corner&&I.corner.precedance===b?C:0,f=(l===g?1:-1)*A-x,k[g]+=0<E?E:0<m?-m:0,k[g]=Math.max(-q.offset[g]+r.offset[g]+(x&&"center"===I.corner[a]?I.offset:0),y-f,Math.min(Math.max(-q.offset[g]+r.offset[g]+r[h],y+f),k[g]))):(c*="flipinvert"===e?2:0,0<E&&(l!==g||0<m)?(k[g]-=f+c,U["invert"+a](g)):0<m&&(l!==u||0<E)&&(k[g]-=("center"===l?-f:f)+c,U["invert"+a](u)),k[g]<z&&-k[g]>m&&(k[g]=y,U=R.clone()));return k[g]-y}var e=g.target,u=b.elements.tooltip,R=g.my,
n=g.at,v=g.adjust,x=v.method.split(" "),E=x[0],x=x[1]||x[0],r=g.viewport,q=g.container,H=b.cache,I=b.plugins.tip,z={left:0,top:0},U,T;if(!r.jquery||e[0]===a||e[0]===c.body||"none"===v.method)return z;e="fixed"===u.css("position");r={elem:r,height:r[(r[0]===a?"h":"outerH")+"eight"](),width:r[(r[0]===a?"w":"outerW")+"idth"](),scrollleft:e?0:r.scrollLeft(),scrolltop:e?0:r.scrollTop(),offset:r.offset()||{left:0,top:0}};g.viewport[0]!==a&&(r.height+=g.viewport.offset().top,r.width+=g.viewport.offset().left);
q={elem:q,scrollLeft:q.scrollLeft(),scrollTop:q.scrollTop(),offset:q.offset()||{left:0,top:0}};if("shift"!==E||"shift"!==x)U=R.clone();z={left:"none"!==E?y("x","y",E,v.x,"left","right","width",h,m):0,top:"none"!==x?y("y","x",x,v.y,"top","bottom","height",f,l):0};U&&H.lastClass!==(T="evergage-tooltip-pos-"+U.abbrev())&&u.removeClass(b.cache.lastClass).addClass(b.cache.lastClass=T);return z};q.imagemap=function(a,c,g,f){function h(a,b,e){for(var c=0,g=1,k=1,f=0,u=0,m=a.width,n=a.height;0<m&&0<n&&0<
g&&0<k;)for(m=Math.floor(m/2),n=Math.floor(n/2),g="left"===e.x?m:"right"===e.x?a.width-m:g+Math.floor(m/2),k="top"===e.y?n:"bottom"===e.y?a.height-n:k+Math.floor(n/2),c=b.length;c--&&!(2>b.length);)f=b[c][0]-a.position.left,u=b[c][1]-a.position.top,("left"===e.x&&f>=g||"right"===e.x&&f<=g||"center"===e.x&&(f<g||f>a.width-g)||"top"===e.y&&u>=k||"bottom"===e.y&&u<=k||"center"===e.y&&(u<k||u>a.height-k))&&b.splice(c,1);return{left:b[0][0],top:b[0][1]}}c.jquery||(c=b(c));a=a.cache.areas={};var m=(c[0].shape||
c.attr("shape")).toLowerCase(),l=c[0].coords||c.attr("coords"),y=l.split(","),e=[];c=b('img[usemap\x3d"#'+c.parent("map").attr("name")+'"]');var u=c.offset(),n={width:0,height:0,position:{top:1E10,right:0,bottom:0,left:1E10}},B=0,v=0;u.left+=Math.ceil((c.outerWidth()-c.width())/2);u.top+=Math.ceil((c.outerHeight()-c.height())/2);if("poly"===m)for(B=y.length;B--;)v=[parseInt(y[--B],10),parseInt(y[B+1],10)],v[0]>n.position.right&&(n.position.right=v[0]),v[0]<n.position.left&&(n.position.left=v[0]),
v[1]>n.position.bottom&&(n.position.bottom=v[1]),v[1]<n.position.top&&(n.position.top=v[1]),e.push(v);else for(B=-1;B++<y.length;)e.push(parseInt(y[B],10));switch(m){case "rect":n={width:Math.abs(e[2]-e[0]),height:Math.abs(e[3]-e[1]),position:{left:Math.min(e[0],e[2]),top:Math.min(e[1],e[3])}};break;case "circle":n={width:e[2]+2,height:e[2]+2,position:{left:e[0],top:e[1]}};break;case "poly":n.width=Math.abs(n.position.right-n.position.left),n.height=Math.abs(n.position.bottom-n.position.top),"c"===
g.abbrev()?n.position={left:n.position.left+n.width/2,top:n.position.top+n.height/2}:(a[g+l]||(n.position=h(n,e.slice(),g),!f||"flip"!==f[0]&&"flip"!==f[1]||(n.offset=h(n,e.slice(),{x:"left"===g.x?"right":"right"===g.x?"left":"center",y:"top"===g.y?"bottom":"bottom"===g.y?"top":"center"}),n.offset.left-=n.position.left,n.offset.top-=n.position.top),a[g+l]=n),n=a[g+l]),n.width=n.height=0}n.position.left+=u.left;n.position.top+=u.top;return n};q.bgiframe=function(a){var c=b.browser,g=a.plugins.bgiframe;
return 1>b("select, object").length||!c.msie||"6"!==(""+c.version).charAt(0)?!1:"object"===typeof g?g:a.plugins.bgiframe=new ba(a)};q.bgiframe.initialize="render"})})(window,document);(function(a){function c(a,b,f){f=f||0;for(var k=a.length;f<k;f++)if(a[f]===b)return f;return-1}function n(b,c,f){"string"===typeof b&&(b=ajq(b));if(!(c.position.target instanceof a)||c.position.target.length&&c.position.target.is(":visible")){var k={"content.text":c.content.text};f&&f.bundle&&!f.bundle.legacy&&(k={"content.fullContents":c.content.fullContents});
c.content.title&&(k["content.title.text"]=c.content.title.text);c.style&&(k["style.classes"]=c.style.classes+" "+f.style.extraClasses);b.qtip("options",k)}else b.qtip("destroy")}function b(b,c){if(1!=c.options.marginForElementRegistered){var f,k=c.options.position.container.is(a("#apptegicMessageContainerForToolbarEnabledPages"));f=k?c.options.position.container:a("body");c.options.marginForElementRegistered=!0;f.stop(!1,!0);var h={},m="top"==c.options.position.stack?"margin-top":"margin-bottom";
if(k)v("setBodyMarginAndSaveOriginal",m,a(this).outerHeight());else{var n=parseInt(f.css(m)),x=f.get(0);"margin-top"==m&&null==x.originalMarginTop&&(x.originalMarginTop=n);"margin-bottom"==m&&null==x.originalMarginBottom&&(x.originalMarginBottom=n);h[m]=n+a(this).outerHeight()+"px"}var q=this,y=a(q).outerHeight();f.animate(h,function(){a(".evergage-qtip").qtip("reposition");if(y!=a(q).outerHeight())if(k)v("setBodyMargin",m,a(q).outerHeight());else{var b=parseInt(f.css(m));f.css(m,b+(a(q).outerHeight()-
y))}k||l.findAndMovePageTopOrBottomElements(c.options.position.stack,a(q).outerHeight())})}}function v(b,c,f){var k=a("#sendDataToEvergageVisualEditorDiv");0<k.size()&&(b={actionType:"infobarMarginRequest",eventDetails:{requestType:b,cssAttr:c,marginToSet:f}},c=document.createEvent("CustomEvent"),c.initCustomEvent("dataToEvergageVisualEditor",!0,!0,b),k.get(0).dispatchEvent(c))}function f(b,c){if(0!=c.options.marginForElementRegistered){var f,k=c.options.position.container.is(a("#apptegicMessageContainerForToolbarEnabledPages"));
f=k?c.options.position.container:a("body");c.options.marginForElementRegistered=!1;c.options.position.container.stop(!1,!0);var h={},m="top"==c.options.position.stack?"margin-top":"margin-bottom";if(k)v("unsetBodyMarginAndRestoreOriginal",m,a(this).outerHeight());else{var n=parseInt(f.css(m)),x=f.get(0),q=0;"margin-top"==m&&null!=x.originalMarginTop&&(q=x.originalMarginTop);"margin-bottom"==m&&null!=x.originalMarginBottom&&(q=x.originalMarginBottom);"margin-top"==m&&n-a(this).outerHeight()<q?h[m]=
q+"px":h[m]=n-a(this).outerHeight()+"px"}var y=-a(this).outerHeight();f.animate(h,function(){a(".evergage-qtip").qtip("reposition");k||l.findAndMovePageTopOrBottomElements(c.options.position.stack,y)})}}function h(b){b=a(".evergage-qtip.evergage-jgrowl.evergage-"+b+":visible");b.outerWidth();b.outerHeight();var c=b.eq(0).qtip("option","position.adjust.y"),f=0;b.each(function(b){var g=a(this).data("qtip"),h="down"==g.options.position.next;b?(h?g.set("position.my","top left"):g.set("position.my","bottom left"),
g.set("position.target",[a(this).offset().left,f])):(g.set("position.target",a(window)),g.set("position.my",g.options.originalPosition.my),g.set("position.at",g.options.originalPosition.at),g.set("position.adjust.x",g.options.originalPosition.adjust.x));b?f=h?f+(a(this).outerHeight()+Math.abs(c)):f-(a(this).outerHeight()+Math.abs(c)):(f=g.cache.finalPos.top,h&&(f+=a(this).outerHeight()));a(this)})}function m(b){try{var c=a(this).data("qtip");if(null==c)return!1;var f=c.options;if(f.show&&!0===f.show.persistent)return!0;
if(f.show&&f.show.lifespan){var k=parseInt(f.show.lifespan);clearTimeout(c.timer);b&&"mouseover"===b.type||(c.timer=setTimeout(c.hide,k))}return!0}catch(h){"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(h,"messageTimerSetup")}}if("undefined"!==typeof a){var U=0;a.updateMessage=function(a,b,c){return n(a,b,c)};a.qtipGrowl=function(g){if(g.id&&(g.position.stack||g.position.container||g.position.target)){g.style.extraClasses="";g.content.title&&g.content.title.button&&!g.content.title.text&&
(g.style.extraClasses=" emptyTitle",g.content.title.text=" ");g.style.nonblocking&&(g.style.extraClasses+=" evergage-nonBlocking");var h="#evergage-tooltip-"+g.id;if(a(h).length){var m=a(h).qtip("api").options,k;if(k=(k=g.position.stack!=m.position.stack)||g.position.target&&g.position.target!=m.position.target)a(h).qtip("hide"),a(h).qtip("destroy"),a(h).attr("id","old"+U++);else{n(a(h),g,m);return}}if(g.position.target||g.position.container){var v;try{v=g.position.target?a(g.position.target):a(g.position.container),
g.position&&!0===g.position.replaceContainer&&(v=a(g.bundle.target.target))}catch(x){v=null,"object"===typeof l&&"function"===typeof l.sendException&&l.sendException(x,"determineMessageTarget")}m=g.bundle&&g.bundle.target&&!0===g.bundle.target.replaceExistingContent&&"page"===g.bundle.target.renderType;if(!0!==g.position.ignoreTargetVisibilityCheck&&(!v||0===v.length||v.is(":hidden")&&!m)){v&&v.length&&v.is(":hidden");a(h).length&&a(h).qtip("destroy");return}}if(g.position.stack){g=a.extend(!0,{},
a.qtipGrowl.baseDefaults,a.qtipGrowl.growlDefaults,a.qtipGrowl.stacks[g.position.stack],g);v=".evergage-qtip.evergage-jgrowl.evergage-"+g.position.stack;g&&g.bundle&&!0===g.bundle.previewMode&&(v=".evergage-preview-message"+v);var q;a(v).length&&a(v+":visible").length&&(q=a(v+":visible:last"));g.style.extraClasses+=" evergage-jgrowl evergage-"+g.position.stack;g.position.my||(g.position.my="top right");g.position.at||(g.position.at=g.position.my);-1!=c(g.position.at.split(" "),"left")&&(g.position.adjust.x=
a.qtipGrowl.windowSpace);-1!=c(g.position.at.split(" "),"right")&&(g.position.adjust.x=-a.qtipGrowl.windowSpace);-1!=c(g.position.at.split(" "),"top")&&(g.position.adjust.y=a.qtipGrowl.windowSpace);-1!=c(g.position.at.split(" "),"bottom")&&(g.position.adjust.y=-a.qtipGrowl.windowSpace);g.originalPosition=g.position;q&&0<q.length&&(v="center","left"==g.position.at.split(" ")[0]?v="left":"right"==g.position.at.split(" ")[0]&&(v="right"),g.position="down"==g.position.next?a.extend({},g.position,{at:"bottom "+
v,my:"top "+v,adjust:{y:10,x:0},target:q}):a.extend({},g.position,{at:"top "+v,my:"bottom "+v,adjust:{y:-10,x:0},target:q}));if("top"==g.position.stack||"bottom"==g.position.stack)g.position.adjust.x=0,g.position.adjust.y=0,g.style.extraClasses+=" evergage-tooltip-bar",g.style.pushBar=!0,g.barVisible=b,g.barHidden=f}else if(g.position.target)q=g,q.style.extraClasses="evergage-tooltip-callout",g=a.extend(!0,{},a.qtipGrowl.baseDefaults,q);else if(g.position.container)q=a.extend(!0,{},a.qtipGrowl.baseDefaults,
a.qtipGrowl.inPageDefaults,g),q.style.extraClasses+=" evergage-tooltip-page",g=q.position&&!0===q.position.replaceContainer,(v=q.bundle)&&!0===v.target.replaceExistingContent&&!0!==v.isPreviewModeContainerReplacement&&!0!==v.isPreviewModeInlineRespectMessageSize&&!0!==v.target.inlineRespectMessageSize&&!g&&(q.style.extraClasses+=" evergage-tooltip-page-replace"),g=q;else return;g.style.classes+=" "+g.style.extraClasses;q=g.target&&g.target.jquery?g.position.target:a(document.body);q.qtip(g);a(h);
q.removeData("qtip")}};a.qtipUpdateGrowls=function(a){h(a)};var H,T=/^on/,ba=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,Q=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,q=/^(scroll|resize|(un)?load|abort|error)$/,x=function(b,c){var f;b=b.toLowerCase();document.createEvent&&this.dispatchEvent?(b=b.replace(T,""),b.match(ba)?(a(this).offset(),f=document.createEvent("MouseEvents"),f.initMouseEvent(b,c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,
c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)):b.match(Q)?(f=document.createEvent("UIEvents"),f.initUIEvent(b,c.bubbles,c.cancelable,c.view,c.detail)):b.match(q)&&(f=document.createEvent("HTMLEvents"),f.initEvent(b,c.bubbles,c.cancelable)),f&&this.dispatchEvent(f)):(b.match(T)||(b="on"+b),f=document.createEventObject(c),this.fireEvent(b,f))};a(document).delegate(".evergage-qtip.evergage-jgrowl.evergage-nonBlocking","mouseover mousemove mousedown mouseup click dblclick",
function(b,c){try{b.stopPropagation();b.preventDefault();c=c||b.type;var f=a(this);f.css("display","none");var k=document.elementFromPoint(b.clientX,b.clientY);f.css("display","block");var h=a(k),m=h.css("cursor");f.css("cursor","auto"!=m?m:"default");H&&H.get(0)==k||(H&&(x.call(H.get(0),"mouseleave",b.originalEvent),x.call(H.get(0),"mouseout",b.originalEvent)),x.call(k,"mouseenter",b.originalEvent),x.call(k,"mouseover",b.originalEvent));x.call(k,c,b.originalEvent);H=h}catch(n){"object"===typeof l&&
"function"===typeof l.sendException&&l.sendException(n,"messageNonBlockingSetup")}});a(document).delegate(".evergage-qtip.evergage-jgrowl","mouseover mouseout",m);a.qtipGrowl.windowSpace=15;a.qtipGrowl.stacks={topleft:{position:{my:"left top",next:"down"}},middleleft:{position:{my:"left center",next:"down"}},bottomleft:{position:{my:"left bottom",next:"up"}},topright:{position:{my:"right top",next:"down"}},middleright:{position:{my:"right center",next:"down"}},bottomright:{position:{my:"right bottom",
next:"up"}},topcenter:{position:{my:"top center",next:"down"}},middlecenter:{position:{my:"center",next:"down"}},bottomcenter:{position:{my:"bottom center",next:"up"}},top:{position:{my:"top center",next:"down"},style:{width:"100%"}},bottom:{position:{my:"bottom center",next:"up"},style:{width:"100%"}}};a.qtipGrowl.growlDefaults={content:{title:{text:"hi",button:!0}},position:{target:a(window),adjust:{method:"shift"},effect:function(b,c){a(this).css(c);b.cache.finalPos=c}},show:{event:!1,ready:!0,
delay:0,persistent:!1},hide:{event:!1,effect:function(b){a(this).stop(0,1).fadeOut(400).queue(function(){b.hide();h(b.options.position.stack)})}},style:{tip:!1}};a.qtipGrowl.inPageDefaults={position:{target:["auto","auto"]},style:{tip:!1,width:"auto"}};a.qtipGrowl.baseDefaults={prerender:!0,show:{delay:0,event:!1,ready:!0},events:{},position:{viewport:a(window)},hide:{event:!1}}}})(ajq);(function(a){a(ajq)})(function(a){function c(a){return a}function n(a){try{return decodeURIComponent(a.replace(l,
" "))}catch(b){}}function b(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return f.json?evergageJSON.parse(a):a}catch(b){}}if("undefined"!==typeof a){var l=/\+/g,f=function(h,l,v){if(void 0!==l){v=a.extend({},f.defaults,v);if("number"===typeof v.expires){var T=v.expires,ba=v.expires=new Date;ba.setDate(ba.getDate()+T)}l=f.json?evergageJSON.stringify(l):String(l);return document.cookie=[f.raw?h:encodeURIComponent(h),"\x3d",f.raw?l:encodeURIComponent(l),v.expires?
"; expires\x3d"+v.expires.toUTCString():"",v.path?"; path\x3d"+v.path:"",v.domain?"; domain\x3d"+v.domain:"",v.secure?"; secure":""].join("")}l=f.raw?c:n;v=document.cookie.split("; ");for(var T=h?void 0:{},ba=0,Q=v.length;ba<Q;ba++){var q=v[ba].split("\x3d"),x=l(q.shift()),q=l(q.join("\x3d"));if(h&&h===x){T=b(q);break}h||(T[x]=b(q))}return T};f.defaults={};var h=function(b,c){return void 0!==a.cookie(b)?(a.cookie(b,"",a.extend({},c,{expires:-1})),!0):!1};if("undefined"===typeof a.cookie||"undefined"===
typeof a.removeCookie)a.cookie=f,a.removeCookie=h}});(function(a){function c(){var a=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),a=!0,window.localStorage.removeItem("_tmptest")}catch(f){}if(a)try{window.localStorage&&(x=window.localStorage,E="localStorage",A=x.evergage_update)}catch(f){}else if("globalStorage"in window)try{window.globalStorage&&(x=window.globalStorage[window.location.hostname],E="globalStorage",A=x.evergage_update)}catch(f){}h();T();"localStorage"==
E||"globalStorage"==E?"addEventListener"in window?window.addEventListener("storage",b,!1):document.attachEvent("onstorage",b):"userDataBehavior"==E&&setInterval(b,1E3);ba();"addEventListener"in window&&window.addEventListener("pageshow",function(a){a.persisted&&b()},!1)}function n(){var a="{}";if("userDataBehavior"==E){null.load("evergage");try{a=null.getAttribute("evergage")}catch(b){}try{A=null.getAttribute("evergage_update")}catch(b){}x.evergage=a}h();T();ba()}function b(){var a;clearTimeout(k);
k=setTimeout(function(){if("localStorage"==E||"globalStorage"==E)a=x.evergage_update;else if("userDataBehavior"==E){null.load("evergage");try{a=null.getAttribute("evergage_update")}catch(b){}}if(a&&a!=A){A=a;var c=Q.parse(Q.stringify(q.__jstorage_meta.CRC32)),f;n();f=Q.parse(Q.stringify(q.__jstorage_meta.CRC32));var h,g=[],k=[];for(h in c)c.hasOwnProperty(h)&&(f[h]?c[h]!=f[h]&&"2."==String(c[h]).substr(0,2)&&g.push(h):k.push(h));for(h in f)f.hasOwnProperty(h)&&(c[h]||g.push(h));l(g,"updated");l(k,
"deleted")}},25)}function l(a,b){a=[].concat(a||[]);if("flushed"==b){a=[];for(var c in C)C.hasOwnProperty(c)&&a.push(c);b="deleted"}c=0;for(var f=a.length;c<f;c++)if(C[a[c]])for(var h=0,g=C[a[c]].length;h<g;h++)C[a[c]][h](a[c],b)}function f(){var a=(+new Date).toString();"localStorage"==E||"globalStorage"==E?U()||(x.evergage_update=a):"userDataBehavior"==E&&(null.setAttribute("evergage_update",a),null.save("evergage"));b()}function h(){if(x.evergage)try{q=Q.parse(String(x.evergage))}catch(a){x.evergage=
"{}"}else x.evergage="{}";g=x.evergage?String(x.evergage).length:0;q.__jstorage_meta||(q.__jstorage_meta={});q.__jstorage_meta.CRC32||(q.__jstorage_meta.CRC32={})}function m(){if(q.__jstorage_meta.PubSub){for(var a=+new Date-2E3,b=0,c=q.__jstorage_meta.PubSub.length;b<c;b++)if(q.__jstorage_meta.PubSub[b][0]<=a){q.__jstorage_meta.PubSub.splice(b,q.__jstorage_meta.PubSub.length-b);break}q.__jstorage_meta.PubSub.length||delete q.__jstorage_meta.PubSub}try{U()?(delete x.evergage,delete x.evergage_update):
(x.evergage=Q.stringify(q),g=x.evergage?String(x.evergage).length:0)}catch(f){}}function U(){if(null==q)return!0;for(var a in q)if(q.hasOwnProperty(a)&&"__jstorage_meta"!=a)return!1;return!0}function H(a){if(!a||"string"!=typeof a&&"number"!=typeof a)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==a)throw new TypeError("Reserved key name");return!0}function T(){var a,b,c,h,g=Infinity,k=!1,n=[];clearTimeout(ya);if(q.__jstorage_meta&&"object"==typeof q.__jstorage_meta.TTL){a=
+new Date;c=q.__jstorage_meta.TTL;h=q.__jstorage_meta.CRC32;for(b in c)c.hasOwnProperty(b)&&(c[b]<=a?(delete c[b],delete h[b],delete q[b],k=!0,n.push(b)):c[b]<g&&(g=c[b]));Infinity!=g&&(ya=setTimeout(T,g-a));k&&(m(),f(),l(n,"deleted"))}}function ba(){var a;if(q.__jstorage_meta.PubSub){var b,c=sa;for(a=q.__jstorage_meta.PubSub.length-1;0<=a;a--)if(b=q.__jstorage_meta.PubSub[a],b[0]>sa){var c=b[0],f=b[1];b=b[2];if(P[f])for(var h=0,g=P[f].length;h<g;h++)P[f][h](f,Q.parse(Q.stringify(b)))}sa=c}}if("undefined"!==
typeof a){var Q=window.evergageJSON;if(!Q.parse||!Q.stringify)throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var q={__jstorage_meta:{CRC32:{}}},x={evergage:"{}"},g=0,E=!1,C={},k=!1,A=0,P={},sa=+new Date,ya,za={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(c){}}return!1},
decode:function(a){var b="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);return b};if(!b)return!1;a=b.call("DOMParser"in window&&new DOMParser||window,a,"text/xml");return this.isXML(a)?a:!1}},y={version:"0.4.1",set:function(a,b,c){H(a);c=c||{};if("undefined"==typeof b)return this.deleteKey(a),b;if(za.isXML(b))b={_is_xml:!0,xml:za.encode(b)};else{if("function"==typeof b)return;b&&"object"==
typeof b&&(b=Q.parse(Q.stringify(b)))}q[a]=b;for(var f=q.__jstorage_meta.CRC32,h=Q.stringify(b),g=h.length,k=2538058380^g,m=0,n;4<=g;)n=h.charCodeAt(m)&255|(h.charCodeAt(++m)&255)<<8|(h.charCodeAt(++m)&255)<<16|(h.charCodeAt(++m)&255)<<24,n=1540483477*(n&65535)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>24,n=1540483477*(n&65535)+((1540483477*(n>>>16)&65535)<<16),k=1540483477*(k&65535)+((1540483477*(k>>>16)&65535)<<16)^n,g-=4,++m;switch(g){case 3:k^=(h.charCodeAt(m+2)&255)<<16;case 2:k^=(h.charCodeAt(m+
1)&255)<<8;case 1:k^=h.charCodeAt(m)&255,k=1540483477*(k&65535)+((1540483477*(k>>>16)&65535)<<16)}k^=k>>>13;k=1540483477*(k&65535)+((1540483477*(k>>>16)&65535)<<16);f[a]="2."+((k^k>>>15)>>>0);this.setTTL(a,c.TTL||0);l(a,"updated");return b},get:function(a,b){H(a);return a in q?q[a]&&"object"==typeof q[a]&&q[a]._is_xml?za.decode(q[a].xml):q[a]:"undefined"==typeof b?null:b},deleteKey:function(a){H(a);return a in q?(delete q[a],"object"==typeof q.__jstorage_meta.TTL&&a in q.__jstorage_meta.TTL&&delete q.__jstorage_meta.TTL[a],
delete q.__jstorage_meta.CRC32[a],m(),f(),l(a,"deleted"),!0):!1},setTTL:function(a,b){var c=+new Date;H(a);b=Number(b)||0;return a in q?(q.__jstorage_meta.TTL||(q.__jstorage_meta.TTL={}),0<b?q.__jstorage_meta.TTL[a]=c+b:delete q.__jstorage_meta.TTL[a],m(),T(),f(),!0):!1},getTTL:function(a){var b=+new Date;H(a);return a in q&&q.__jstorage_meta.TTL&&q.__jstorage_meta.TTL[a]?(a=q.__jstorage_meta.TTL[a]-b)||0:0},flush:function(){q={__jstorage_meta:{CRC32:{}}};m();f();l(null,"flushed");return!0},storageObj:function(){function a(){}
a.prototype=q;return new a},index:function(){var a=[],b;for(b in q)q.hasOwnProperty(b)&&"__jstorage_meta"!=b&&a.push(b);return a},storageSize:function(){return g},currentBackend:function(){return E},storageAvailable:function(){return!!E},listenKeyChange:function(a,b){H(a);C[a]||(C[a]=[]);C[a].push(b)},stopListening:function(a,b){H(a);if(C[a])if(b)for(var c=C[a].length-1;0<=c;c--)C[a][c]==b&&C[a].splice(c,1);else delete C[a]},subscribe:function(a,b){a=(a||"").toString();if(!a)throw new TypeError("Channel not defined");
P[a]||(P[a]=[]);P[a].push(b)},publish:function(a,b){a=(a||"").toString();if(!a)throw new TypeError("Channel not defined");q.__jstorage_meta||(q.__jstorage_meta={});q.__jstorage_meta.PubSub||(q.__jstorage_meta.PubSub=[]);q.__jstorage_meta.PubSub.unshift([+new Date,a,b]);m();f()},reInit:function(){n()}};"undefined"===typeof a.jStorage&&(a.jStorage=y,c())}})(ajq);if("undefined"!==typeof ajq){window.evergageDisableAjqPsuedoDefinitions||(ajq.expr[":"].containsExact=ajq.expr.createPseudo(function(a){return function(c){return ajq.trim(ajq(c).text())===
a}}),ajq.expr[":"].textMatch=ajq.expr.createPseudo(function(a){return function(c){return ajq.trim(c.textContent)===a}}),ajq.expr[":"].hasOnlyTextChild=ajq.expr.createPseudo(function(a){return function(a){return 1===a.childNodes.length&&3===a.childNodes[0].nodeType}}));ajq.log=evergageLog;var a=window._aaq||[],c=window._aaqi||[];window._aaq=a;window._aaqi=c}var l=function(){function c(){if(w.useSiteConfig&&!sa(D)){Dd();if(w.hideContentSections&&ajq.isArray(w.hideContentSectionsList)&&P(w.hideContentSectionsMillis)&&
0<w.hideContentSectionsMillis){var d=w.hideContentSectionsList;d.push(w.hideContentSectionsMillis);l.hideSections.apply(null,d)}w.hidePagesForRedirect&&ajq.isArray(w.hidePageBeforeRedirectList)&&P(w.hidePagesForRedirectMillis)&&0<w.hidePagesForRedirectMillis&&(d=w.hidePageBeforeRedirectList,d.push(w.hidePagesForRedirectMillis),l.hidePages.apply(null,d))}}function G(d,t){try{if(!0===Ed){var a=new CustomEvent("sendToEvergageSideBarTools",{detail:{eventType:d,eventData:t}});document.dispatchEvent(a)}}catch(b){K(b,
d+"_ForDevTools")}}function n(d){try{if(yf.test(window.evergageTestUserAgent||window.navigator.userAgent))Ia(),a=[];else if(Bc())Ia(),a=[];else if(null===Sa&&(Sa=ajq.jStorage.storageAvailable()?!1:!0),"object"!==typeof evergageJSON||"function"!==typeof evergageJSON.stringify||"function"!==typeof evergageJSON.parse)Ia(),a=[];else if(0<ajq("html[evergageVisualEditorLoading]").length)Ia(),a=[];else{!0===d&&(ib=!0,Dc=Ta=cc=M.hasBeenFired=!1,Ua=jb=Aa=null,Jb=ha=la=-1);Ec=[];Fc=[];Gc();c();if(ba()){"object"===
typeof window.localStorage&&null!=window.localStorage&&"true"===window.localStorage.isEvergageToolsSideBarEnabled&&(Ed=!0,G("beaconInitialization",{account:Z,dataset:ma,beaconVersion:10,trackerUrl:na,cdnHost:kb}));Fd();T();dc.isInitialized()||null===w.googleAnalyticsIntegrationConfig||dc.init(w.googleAnalyticsIntegrationConfig);$b();Q();Gd(d);for(var t in M.waitingOn)M.waitingOn.hasOwnProperty(t)&&(M.waitingOn[t]=!1);M.actionName=null;!0===w.siteConfigExecBeforePageReady?Hc():ajq(document).ready(Hc);
ajq(document).ready(b)}Hd=!0}}catch(p){K(p,"init("+d+")")}}function b(){!0!==Xa&&(!0===Ta&&0<Ja.length&&(aa(Ic,function(d,t){var a=t.bundle;clearTimeout(t.timeout);delete Ic[d];Ka(a)}),clearTimeout(La),Ma=!1,Ya()),lb=!0)}function v(){ha=0;var d=(new Date).getTime();if(-1===la||300<=d-la)la=d;Za=setTimeout(function(){f(!0)},w.timeOnPageTimer);ajq(window).unbind("blur.evergage",U);ajq(window).bind("blur.evergage",U);ajq(window).unbind("focus.evergage",H);ajq(window).bind("focus.evergage",H);ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",
m);ajq(document).bind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",m)}function f(d){var t=(new Date).getTime();if(-1!==la){var a=t-la;w.timeOnPageTimer<t-la?h():(ha+=a,$a=setTimeout(h,w.timeOnPageTimer-a))}0<ha&&(ha=Math.min(ha,w.timeOnPageTimer),wf(ha),ha=0);0>ha&&(ha=0);d&&(Za=setTimeout(function(){f(!0)},w.timeOnPageTimer))}function h(){-1!==$a&&(clearTimeout($a),$a=-1);var d=(new Date).getTime(),t=0;-1!==la&&(t=d-la);-1!==Jb&&(d-=Jb,d<t||0===t)&&(t=d);ha+=t;la=-1}function m(d){-1!==
$a&&(clearTimeout($a),$a=-1);d=(new Date).getTime();if(-1===la||300<=d-la)-1!==la&&(ha+=d-Math.max(la,Jb)),la=d}function U(d){h()}function H(d){m()}function T(){if(w.testModeEnabledForPageLoad)Ba=w.testModeEnabledForPageLoad;else if(0<ajq("body.evergageVisualEditorTestMode").length)Ba=!0;else{var d=r(oa("sessionSettings")),t=window.decodeURIComponent(window.location.search.substring(1)),a=window.location.hash.substring(1),b=/^.*evergageTestMessages=([\w,]*).*$/;(Ba=0<=t.indexOf("evergageTestMessages\x3dfalse")||
0<=a.indexOf("evergageTestMessages\x3dfalse")?null:t.match(b)?t.replace(b,"$1"):a.match(b)?a.replace(b,"$1"):d&&d.testMessagesEnabled?d.testMessagesEnabled:!1)?Id():W(oa("sessionSettings"))}}function ba(){if(!Z||!ma)return!1;var d;(d="https:"==window.location.protocol)||("object"===typeof window.localStorage&&null!=window.localStorage&&"true"===window.localStorage.isEvergageToolsSideBarEnabled?(Kb(),d="true"===l.getCustomField("_debug")):d=!1);d=d?"https":"http";na||(na="localtest"===Z?"https://localtest.evergage.com:8443":
d+"://"+Z+".evergage.com");kb||(kb=-1!==na.indexOf("demo3")||-1!==na.indexOf("demo4")||-1!==na.indexOf("localtest")?na:d+"://cdn.evergage.com");return!0}function Q(){Ca=pa(S.session.ids.MessageStats);Ca||(Ca={},ca(S.session.ids.MessageStats,Ca))}function q(){Hd&&n()}function x(d){return E(d)&&null!==d}function g(d){return!x(d)||""===d}function E(d){return"undefined"!==typeof d}function C(d){return"function"===typeof d}function k(d){return"object"===typeof d}function A(d){return"string"===typeof d||
d instanceof String}function P(d){return!isNaN(d-0)&&null!==d}function sa(d){return k(d)&&ajq.isEmptyObject(d)}function ya(d){return(ajq(d).prop("nodeName")||ajq(d).prop("tagName")).toLowerCase()}function za(d,t){return d&&t&&ya(d)===t.toLowerCase()}function y(d){d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(d);for(var t={},a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
b=0;b<a.length;b++)t[a[b]]=d[b]||"";t.queryKey={};t.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(d,a,p){a&&(t.queryKey[a]=p)});return t}function e(d){var t=function(d,t){return d<<t|d>>>32-t},a=function(d){for(var t="",a=7;0<=a;a--)t+=(d>>>4*a&15).toString(16);return t},b=Array(80),c=1732584193,e=4023233417,f=2562383102,h=271733878,k=3285377520,g,m,n,l,y,u;d=unescape(window.encodeURIComponent(d));g=d.length;for(var v=[],q=0;q<g-3;q+=4)m=d.charCodeAt(q)<<24|d.charCodeAt(q+1)<<16|d.charCodeAt(q+
2)<<8|d.charCodeAt(q+3),v.push(m);switch(g%4){case 0:n=2147483648;break;case 1:n=d.charCodeAt(g-1)<<24|8388608;break;case 2:n=d.charCodeAt(g-2)<<24|d.charCodeAt(g-1)<<16|32768;break;case 3:n=d.charCodeAt(g-3)<<24|d.charCodeAt(g-2)<<16|d.charCodeAt(g-1)<<8|128}for(v.push(n);14!=v.length%16;)v.push(0);v.push(g>>>29);v.push(g<<3&4294967295);for(d=0;d<v.length;d+=16){for(q=0;16>q;q++)b[q]=v[d+q];for(q=16;79>=q;q++)b[q]=t(b[q-3]^b[q-8]^b[q-14]^b[q-16],1);g=c;m=e;n=f;l=h;y=k;for(q=0;19>=q;q++)u=t(g,5)+
(m&n|~m&l)+y+b[q]+1518500249&4294967295,y=l,l=n,n=t(m,30),m=g,g=u;for(q=20;39>=q;q++)u=t(g,5)+(m^n^l)+y+b[q]+1859775393&4294967295,y=l,l=n,n=t(m,30),m=g,g=u;for(q=40;59>=q;q++)u=t(g,5)+(m&n|m&l|n&l)+y+b[q]+2400959708&4294967295,y=l,l=n,n=t(m,30),m=g,g=u;for(q=60;79>=q;q++)u=t(g,5)+(m^n^l)+y+b[q]+3395469782&4294967295,y=l,l=n,n=t(m,30),m=g,g=u;c=c+g&4294967295;e=e+m&4294967295;f=f+n&4294967295;h=h+l&4294967295;k=k+y&4294967295}u=a(c)+a(e)+a(f)+a(h)+a(k);return u.toLowerCase()}function u(d,t,a,b){if(d.addEventListener)return d.addEventListener(t,
a,b),!0;if(d.attachEvent)return d.attachEvent("on"+t,a);d["on"+t]=a}function R(){if(0<ha){var d=bc(ha);if(null!=d){var t=S.storedRequests.ids.StoredPingRequest,d={params:d,currentPageUrl:fa()};ca(t,d)}}}function aa(d,t){for(var a in d)d.hasOwnProperty(a)&&"function"!==typeof d[a]&&t(a,d[a])}function ja(){if(!mb&&void 0!==l){mb=!0;for(var d=0;d<Jc.length;d++)Jc[d]();zf()}return!0}function F(d,t){var a=y(d).query,b=new RegExp("(?:^|\x26)"+t+"\x3d([^\x26]*)");return(a=a?b.exec(a):0)?window.decodeURIComponent(a[1]):
""}function J(d,t,a){gb(function(){z(d,t,a)})}function r(d){return gb(function(){return hb(d)})}function gb(d){ajq.cookie.json=!0;try{return d()}finally{ajq.cookie.json=!1}}function hb(d){return I()?ajq.cookie(d):pa(d)}function I(d){if(!0===Lb&&!0!==d)return!0;if(!1===Lb&&!0!==d)return!1;d=N(3E4);return Lb=null===d||null===d.domain||-1===d.domain.indexOf(".")?!1:!0}function z(d,t,a){var b=N(a);I()&&ajq.cookie(d,t,b);b=ajq.cookie(d);b=!0===ajq.cookie.json?evergageJSON.stringify(b)===evergageJSON.stringify(t):
b===t;b||(Lb=!1,ca(d,t,a))}function W(d){if(I()){var t=N();ajq.removeCookie(d,t)}else ajq.jStorage.deleteKey(ka(d))}function N(d){var t={};d&&(t.expires=new Date((new Date).getTime()+d));t.path="/";if(w.cookieDomain)t.domain=w.cookieDomain;else for(t.domain=X(Mb);!Jd(t.domain);)t.domain=t.domain.substring(t.domain.indexOf(".")+1,t.domain.length);!0===Kd&&(t.secure=Kd);return t}function X(d){0===d.indexOf("www.")&&(d=d.substring(4,d.length));return d}function Ac(d){var t=d.length;"."===d.charAt(--t)&&
(d=d.slice(0,t));"*."===d.slice(0,2)&&(d=d.slice(1));return d}function $b(){if(w.doNotTrack){var d=oa("id"),t=oa("ses");W(d);W(t);aa(S.session.ids,function(d,t){ajq.jStorage.deleteKey(ka(t))});return!1}d=!pa(S.session.ids.SessionTicket);uf(d);!0===Sa&&Kb();d?Af():(Kb(),Q(),ab=pa(S.session.ids.UserInfo),null==ab&&(ab={}),tf(S.session));return d}function tf(d){aa(d.ids,function(t,a){ajq.jStorage.setTTL(ka(a),d.timeoutMillis)})}function uf(d){da=Na();var t=Math.round((new Date).getTime()/1E3);d?(da.visitCount++,
da.previousVisitStartTime=da.currentVisitStartTime,da.currentVisitStartTime=t,da.currentVisitDuration=0):(d=da.currentVisitDuration,da.currentVisitDuration=t-da.currentVisitStartTime,da.currentVisitDuration>d&&(da.cumulativeVisitDuration+=da.currentVisitDuration-d));ec(da);ca(S.session.ids.SessionTicket,"*")}function ac(d){return w.discardHashTag?d.replace(/#.*/,""):d}function Fb(d){return Cd(d,3072)}function vf(d){for(var t=0;t<w.hostsAlias.length;t++)if(w.hostsAlias[t]){var a=Ac(w.hostsAlias[t].toLowerCase());
if(d===a)return!0;if("."===a.slice(0,1)){if(d===a.slice(1))return!0;var b=d.length-a.length;if(0<b&&d.slice(b)===a)return!0}}return!1}function Gb(d,t,a,b){if(!w.doNotTrack&&!Bc()){var c=(new Date).getTime();if(ajq.isEmptyObject(D)||D.minimalEventTracking||Kc(d,!0)){if(w.preventSensitiveDataCapture)for(var e=0;e<d.length;e++){var f=d[e],g=f.name;"userId"!=g&&"company"!=g&&".anonId"!=g&&yd(f.value)&&(d.splice(e,1),e--,Lc(f.name))}null!=w.trafficSourceIndex&&L(d,".s",w.trafficSourceIndex);Ld(d,".bv",
10);b?(d={params:d,currentPageUrl:fa()},ca(S.storedRequests.ids.FormSubmitRequests,d)):(Mc&&!a?Bd(d,t):Cc(d,a?"/msreceiver":"/jsreceiver"),Nc=c+w.trackerDelay)}}}function Bc(){return"prerender"===document.visibilityState&&!0!==ajq.browser.safari&&"66f824351809c77d41b28978ce8fb0dcb98fd706"!==e(Z)}function yd(d){if(!d)return!1;d=A(d)?d:d.toString();d=Bf.validateCreditCard(d);return!!(d.card_type&&d.luhn_valid&&d.length_valid)}function Cc(d,t){var a=new Image(1,1);a.onload=function(){};var b=ajq.param(d,
!0);a.src=na+t+"?"+b}function zd(d){L(d,"_ak",Z);L(d,"_ds",ma);for(var t=Ad(),a=0;a<t.length;a++)L(d,t[a].name,t[a].value);return d}function bc(d){Jb=(new Date).getTime();var t=zd([]);if(!Kc(t,!0))return null;var a=null!=ia&&"object"===typeof ia&&(ia.type==fc.Product||ia.type==fc.Blog||ia.type==fc.Article);if(!a&&null==Ua)return null;if(a){if(w.trackContextualRelatedItems){a=nb(ia,["_id","type","tags","categories"]);if(ajq.isArray(a.categories)){for(var b=[],c=0;c<a.categories.length;c++)b[c]=nb(a.categories[c],
["_id","type"]);a.categories=b}if(ajq.isArray(a.tags)){b=[];for(c=0;c<a.tags.length;c++)b[c]=nb(a.tags[c],["_id","type","tagType"]);a.tags=b}}else a=nb(ia,["_id","type"]);L(t,".item",evergageJSON.stringify(a))}null!=Ua&&L(t,"action",Ua);L(t,".top",d);return t}function Ad(){var d=[],t=[];Md(t);for(var a=["userId","_persistedUserId",".anonId","_anon",".aaId"],b=0;b<t.length;b++)-1!==ajq.inArray(t[b].name,a)&&L(d,t[b].name,t[b].value);return d}function wf(d){d=bc(d);null!=d&&(Cc(d,"/pr"),ajq.jStorage.deleteKey(ka(S.storedRequests.ids.StoredPingRequest)))}
function Bd(d,t,a,b){Nd(d);var c=na+"/twreceiver";if(t&&(!0===ajq.browser.mozilla||!0===ajq.browser.safari)){var f={params:d,currentPageUrl:fa(),requestId:e(d).slice(0,4)},g=S.storedRequests.ids.DelayedClick,h=pa(g);E(h)&&x(h)?void 0===h.length&&(h=[h],h[0].id=e(d).slice(0,4),h.push(f)):h=[];h.push(f);ca(g,h)}ajq.ajax({url:c,data:d,dataType:"jsonp",traditional:!0,jsonp:"_callback",success:function(d,t,b){try{Od(d,a||fa()),x(a)&&a!==fa()||!0===Ma||(clearTimeout(La),Ma=!1,Ya())}catch(c){K(c,"handleTwoWayBeaconSuccess"),
x(a)&&a!==fa()||(clearTimeout(La),Ma=!1,Ya())}},error:function(d,t,b){x(a)&&a!==fa()||(clearTimeout(La),Ma=!1,Ya())},complete:function(d,a){if(t||b){var p=S.storedRequests.ids.DelayedClick,c=pa(p);if(E(c)&&x(c))if(void 0===c.length)c.currentPageUrl==fa()&&ajq.jStorage.deleteKey(ka(p));else{for(var e=!1,f=0;f<c.length;f++)c[f].currentPageUrl==fa()&&(c.splice(f,1),f--,e=!0);e&&(0===c.length?ajq.jStorage.deleteKey(ka(p)):ca(S.storedRequests.ids.DelayedClick,c))}}}})}function fa(){return"string"===typeof w.pageUrl&&
""!==w.pageUrl?w.pageUrl:window.location.href}function Hb(){return w.pageTitle||ajq.trim(document.title).replace(/\s{2,}/g," ")}function Cd(d,t){return"string"!==typeof d||d.length<=t?d:d.substring(0,t)}function Ib(d){return Cd(d,1024)}function Pd(){var d=Qd(),t=F(d,"setApptegicLoggingLevel");if(t&&null!=ajq.log.setLoggingLevel(t))return ca(S.permanent.ids.LoggingLevel,t),t;if((t=ajq.cookie(oa("logging")))&&null!=ajq.log.setLoggingLevel(t))return W(oa("logging")),ca(S.permanent.ids.LoggingLevel,t),
t;if((t=F(d,"setEvergageLoggingLevel"))&&null!=ajq.log.setLoggingLevel(t))ca(S.permanent.ids.LoggingLevel,t);else if(t=pa(S.permanent.ids.LoggingLevel),!t||null==ajq.log.setLoggingLevel(t))return null;return t}function Qd(){var d;if(window.location==window.top.location)d=window.location.href;else{try{d=window.top.location.href}catch(t){d=null}d||(d=document.referrer)}return d}function Rd(){var d=F(fa(),"setApptegicPerformanceTestLevel");d&&null!=ajq.log.setPerformanceTestLevel(d)?ca(S.permanent.ids.PerfLoggingLevel,
d):(d=ajq.cookie(oa("performanceTest")))&&null!=ajq.log.setPerformanceTestLevel(d)&&(W(oa("performanceTest")),ca(S.permanent.ids.PerfLoggingLevel,d));if((d=F(fa(),"setEvergagePerformanceTestLevel"))&&null!=ajq.log.setPerformanceTestLevel(d))ca(S.permanent.ids.PerfLoggingLevel,d);else if(d=pa(S.permanent.ids.PerfLoggingLevel),!d||null==ajq.log.setPerformanceTestLevel(d))return null;return d}function ka(d){return"evergage|"+Z+"|"+ma+"|"+d}function pa(d,t){return ajq.jStorage.storageAvailable()?ajq.jStorage.get(ka(d),
t):null}function ca(d,t,a){if(ajq.jStorage.storageAvailable()){var b=ka(d);d=Cf(d);P(a)&&0<a&&(d=a);0<d&&ajq.jStorage.set(b,t,{TTL:d})}}function Cf(d){var t=0;aa(S,function(a,b){aa(b.ids,function(a,p){p==d.slice(0,p.length)&&(t=b.timeoutMillis)})});return t}function K(d,t,a){d=Oc(d,t,a);3<=Sd||(d=zd(d),L(d,"url",Fb(fa())),L(d,"title",Ib(Hb())),Ld(d,".bv",10),!ajq.isEmptyObject(d)&&Pc()&&"string"===typeof na&&(Cc(d,"/er"),Sd++))}function Pc(){try{return null!=w.sendErrorEvents?w.sendErrorEvents:"object"===
typeof window.evergageSiteConfig&&"object"===typeof window.evergageSiteConfig.beaconConfig&&"boolean"===typeof window.evergageSiteConfig.beaconConfig.sendErrorEvents?window.evergageSiteConfig.beaconConfig.sendErrorEvents:!1}catch(d){return!1}}function Oc(d,t,a){a=[];try{L(a,".em",d.message);L(a,".es",t);if(!0===ajq.browser.chrome||!0===ajq.browser.msie){if("string"===typeof d.stack){var b=d.stack.split("\n")[1],c=b.substring(b.indexOf("at ")+3).match(/(.*) \((.*)\:(\d+)\:(\d+)\)/);ajq.isArray(c)&&
(L(a,".ef",c[1]),L(a,".eu",c[2]),L(a,".el",c[3]),L(a,".ec",c[4]))}!0===ajq.browser.chrome?L(a,".vt","chrome"):!0===ajq.browser.msie&&L(a,".vt","ie")}else!0===ajq.browser.safari?(L(a,".ef",d.stack.substring(0,d.stack.indexOf("@"))),L(a,".eu",d.sourceURL),L(a,".el",d.line),L(a,".ec",d.column),L(a,".vt","safari")):!0===ajq.browser.mozilla&&(L(a,".ef",d.stack.substring(0,d.stack.indexOf("@"))),L(a,".eu",d.fileName),L(a,".el",d.lineNumber),L(a,".ec",d.columnNumber),L(a,".vt","firefox"));var e=parseInt(ajq.browser.version);
isNaN(e)||L(a,".vn",e);return a}catch(f){return a}}function oa(d){""===Qc&&Fd();return w.cookieNamePrefix+d+"."+Z+"."+ma+"."+Qc}function Fd(){for(var d=Mb;!Jd(d);)d=d.substring(d.indexOf(".")+1,d.length);Qc=e((w.cookieDomain||[d])+(w.cookiePath||"/")).slice(0,4)}function Jd(d){if(d.indexOf(".")==d.lastIndexOf("."))return!0;var a=d.substring(0,d.lastIndexOf("."));d=d.substring(d.lastIndexOf(".")+1);return!isNaN(parseInt(d))||a.indexOf(".")==a.lastIndexOf(".")&&-1!=ajq.inArray(d.toLowerCase(),Df)?!0:
!1}function Kb(){var d=S.session.ids.CustomFields,a,p=r(oa("userId")),b=pa(d,!1);"object"===typeof p&&(!0===Sa?a=p:("object"!==typeof b&&(b={}),ajq.extend(b,p),ca(d,b),W(oa("userId"))));!0!==Sa&&(a=b);O=a?a:{};d=!1;""===O.userId&&(delete O.userId,d=!0);""===O.company&&(delete O.company,d=!0);d&&Oa()}function Td(){O={};Oa();Da={};ua={}}function Oa(){if(!1!==O)if(O?ajq.each(O,function(d,a){O.hasOwnProperty(d)&&(E(a)&&x(a)||delete O[d])}):O={},Sa){var d={};ajq.each(O,function(a,t){if(O.hasOwnProperty(a)){var b=
"userId _userIdHash _userIdHashSalt _persistedUserId company _accountIdHash _accountIdHashSalt _persistedAccountId".split(" ");"string"===typeof a&&-1!==ajq.inArray(a,b)&&(d[a]=t)}});var a=oa("userId");J(a,d,null)}else ca(S.session.ids.CustomFields,O)}function ec(d){var a=oa("id");z(a,d.uuid+"."+d.initialVisitStartTime+"."+d.visitCount+"."+d.currentVisitStartTime+"."+d.previousVisitStartTime+"."+d.currentVisitDuration+"."+d.cumulativeVisitDuration+"."+d.affinityId,S.visitor.timeoutMillis)}function Na(){var d=
hb(oa("id")),a;if(d)try{a=Ef(d)}catch(p){K(p,"loadVisitorCookie"),a=null}else a=null;a||(d=Math.round((new Date).getTime()/1E3),a={isNew:!0,uuid:Ff(),initialVisitStartTime:d,visitCount:0,currentVisitStartTime:d,previousVisitStartTime:"",currentVisitDuration:0,cumulativeVisitDuration:0,affinityId:""});a.toString=function(){return'Visitor{uuid\x3d"'+this.uuid+'", visitCount\x3d'+this.visitCount+", initialVisitStartTime\x3d"+new Date(1E3*this.initialVisitStartTime)+", previousVisitStartTime\x3d"+new Date(1E3*
this.previousVisitStartTime)+", currentVisitStartTime\x3d"+new Date(1E3*this.currentVisitStartTime)+", currentVisitDuration\x3d"+this.currentVisitDuration+"s, cumulativeVisitDuration\x3d"+this.cumulativeVisitDuration+'s, affinityId\x3d"'+this.affinityId+'"}'};return a}function Ef(d){d=d?d.split("."):[];var a={isNew:!1,uuid:d[0],initialVisitStartTime:Number(d[1]),visitCount:Number(d[2]),currentVisitStartTime:Number(d[3]),previousVisitStartTime:d[4]?Number(d[4]):""};7<=d.length?(a.currentVisitDuration=
Number(d[5]),a.cumulativeVisitDuration=Number(d[6])):(a.currentVisitDuration=0,a.cumulativeVisitDuration=0);a.affinityId=8<=d.length?d[7]:"";return a}function Ff(){var d=(navigator.userAgent||"")+(navigator.platform||"")+evergageJSON.stringify(Gf)+(new Date).getTime()+Math.random();return e(d).slice(0,16)}function Id(){var d=S.sessionSettings,a=oa(d.cookieId);J(a,{testMessagesEnabled:Ba},d.timeoutMillis)}function ob(d,a){var p=[];L(p,"_ak",Z);L(p,"_ds",ma);L(p,"_r",String(Math.random()).slice(2,8));
D.minimalEventTracking||Md(p);Hf(p,d);pb(p,a);return p}function Md(d){w.referrerUrl&&String(w.referrerUrl).length?L(d,"urlref",Fb(ac(w.referrerUrl))):Rc&&String(Rc).length&&L(d,"urlref",Fb(ac(Rc)));pb(d,w.customFields);var a=!1;pb(d,ua);pb(d,Da);for(var p=0;p<d.length;p++)"userId"==d[p].name&&(a=!0);pb(d,O);x(O.userId)?(L(d,"_reqPersistedEntityIds",""),a=!0):O._persistedUserId&&(a=!0);!0===w.trackAnonymous&&(p=Na(),L(d,".anonId",p.uuid),p.affinityId&&L(d,".aaId",p.affinityId),a||L(d,"_anon",!0));
x(gc)&&L(d,".pageLocale",gc)}function ta(d,a,p,b){if(!0===D.minimalEventTracking)d=[],L(d,"action","ira"),0===da.currentVisitDuration?(p={},p[".visit"]=da.visitCount,p[".visitEvent"]="1",d=ob(d,p),Gb(d,!1)):($b(),Sc());else{var c=[];d&&L(c,"action",d);p||b||(L(c,"url",Fb(fa())),L(c,"title",Ib(Hb())));var e;a:if(e=Qd(),(e=F(e,"setEvergageClientIp"))&&l.setClientIp(e))ca(S.permanent.ids.ClientIp,e);else if(e=pa(S.permanent.ids.ClientIp),!e||!l.setClientIp(e)){e=null;break a}e&&L(c,"clientIp",e);$b();
hc();a=ob(c,a);Pc()&&(c=S.session.ids.StoredTWReceiverTiming,e=pa(c),x(e)&&"number"===typeof e&&(L(a,".tt",e),ajq.jStorage.deleteKey(ka(c))));Ba&&L(a,".testMessages",Ba);for(c=0;c<qb.length;c++)try{qb[c](d,a,p,b)}catch(f){K(f,"actionListenerCallback")}dc.handleActionEvent(d,a,p,b);G("actionEvent",{actionName:d,params:a,isClickAction:p,isFormSubmitAction:b});ua={};Gb(a,p,null,b)}}function Sc(d){var a=D.messagingConfig,p=ajq.jStorage.get("isEvergageVisualEditorEnabledForTab");if(a&&a.messages&&!0!==
p){var b=If(d,"action"),c=[];ajq.each(a.messages,function(d,p){var e;if(e=!(1<=Ud(p.id,qa.Dismissal)))if(p.minimumVisitCount&&0<p.minimumVisitCount&&da.visitCount<p.minimumVisitCount||p.maximumVisitCount&&0<p.maximumVisitCount&&da.visitCount>p.maximumVisitCount?e=!1:(e=1E3*da.currentVisitDuration,p.minimumCurrentVisitDurationMillis=p.visitDelayMillis,p.minimumCurrentVisitDurationMillis&&0<p.minimumCurrentVisitDurationMillis&&e<p.minimumCurrentVisitDurationMillis||p.maximumCurrentVisitDurationMillis&&
0<p.maximumCurrentVisitDurationMillis&&e>p.maximumCurrentVisitDurationMillis?e=!1:(e=1E3*da.cumulativeVisitDuration,e=p.minimumCumulativeVisitDurationMillis&&0<p.minimumCumulativeVisitDurationMillis&&e<p.minimumCumulativeVisitDurationMillis||p.maximumCumulativeVisitDurationMillis&&0<p.maximumCumulativeVisitDurationMillis&&e>p.maximumCumulativeVisitDurationMillis?!1:!0)),e){e=fa();if(!p.locationWithinSite||"pagesWithUrl"!==p.locationWithinSite&&"pagesWithoutUrl"!==p.locationWithinSite)e=!0;else if(p.pageUrlFilter&&
e){var f="pagesWithoutUrl"===p.locationWithinSite;e=0<=e.indexOf(p.pageUrlFilter)!==f}else e=!1;e&&Jf(p,b)?(e=p.messageViewLimit,e=1<=e&&Ud(p.id,"byVisit"===p.messageViewLimitType?"v:"+qa.Impression:qa.Impression)>=e?!1:!0,e=e&&Tc(p.visitReferrerCondition)&&Tc(p.visitBrowserCondition)?!0:!1):e=!1}else e=!1;e&&(e=p.target?p.target:p.pageActionTargetId?a.targets[p.pageActionTargetId]:null,e&&(p.targetId=e.id,p.targetName=e.name,p.target=e.target,p.popupLocation=e.popupLocation,p.infobarLocation=e.infobarLocation,
p.replaceExistingContent=e.replaceExistingContent,p.calloutDirection=e.calloutDirection,p.multiMessageDisplayMode=e.multiMessageDisplayMode,p.multiMessageRotateDelayMillis=e.multiMessageRotateDelayMillis,p.isPreviewModeContainerReplacement=e.isPreviewModeContainerReplacement,c.push(p)))});bb=ajq.extend(bb||{},Vd(c));ic?rb&&jc():Wd()}}function Jf(d,a){if(!d.locationWithinSite||"pagesWithActions"!==d.locationWithinSite)return!0;if(!d.pageActions||!a)return!1;var p=null;ajq.each(d.pageActions,function(d,
b){if(b===a)return p=b,!1});return p}function Tc(d){if(!x(d))return!0;var a=ab[d.fieldName];if(!x(a))return!1;var a=a.toLowerCase(),p=!1;ajq.each(d.matchValues,function(b,c){var e=c.toLowerCase();"Equals"==d.matchCondition?a==e&&(p=!0):"ContainsSubstring"==d.matchCondition&&-1!==a.indexOf(e)&&(p=!0)});return p}function L(d,a,p){a&&(E(p)&&x(p)||(p=""),d.push({name:a,value:p}))}function If(d,a){if(d){var p;ajq.each(d,function(d,b){if(b.hasOwnProperty("name")&&b.hasOwnProperty("value")&&b.name==a)return p=
b.value,!1});return p}}function Hf(d,a){a&&ajq.each(a,function(a,t){t.hasOwnProperty("name")&&t.hasOwnProperty("value")&&L(d,t.name,t.value)})}function Ld(d,a,p){if(!g(a)&&E(p)&&x(p)){var b=!1;ajq.each(d,function(d,c){if(c.name===a)return c.value=p,b=!0,!1});b||d.push({name:a,value:p})}}function pb(d,a){a&&ajq.each(a,function(p,b){a.hasOwnProperty(p)&&"_userIdHashSalt"!==p&&"_userIdHash"!==p&&"_accountIdHash"!==p&&"_accountIdHashSalt"!==p&&L(d,p,b)})}function Xd(d){if(d){var a={};ajq.each(d,function(d,
b){b.hasOwnProperty("name")&&b.hasOwnProperty("value")&&(a[b.name]=b.value)});return a}}function Yd(d,a,p){if(!0!==D.minimalEventTracking){var b=[];L(b,a,ac(d));hc();d=ob(b,p);ua={};Gb(d)}}function Zd(d){if(!d.previewMode&&!d.impressionTracked){var a=[];if(!Ea[d.experienceId]){var p=sb(d,qa.Impression);a.push(p);Ea[d.experienceId]=!0}p=Uc(d,qa.Impression);a.push(p);tb(d,a);d.impressionTracked=!0}}function Nb(d,a){if(!d.previewMode){var p=sb(d,qa.Clickthrough,a),b=Uc(d,qa.Clickthrough);tb(d,[p,b])}}
function $d(d){if(!d.previewMode){var a=[];if(!Ea[d.experienceId]){var p=sb(d,qa.Impression);a.push(p);Ea[d.experienceId]=!0;tb(d,a);Ea[d.experienceId]=!0}}}function sb(d,a,p){a=ae(kc.Experience,d.experienceId,a);d.userGroup==Va.Control&&(a[Fa.UserGroup]=Va.Control);p&&(a[Fa.ClickthroughUrl]=p);return a}function Uc(d,a){var p=ae(kc.Message,d.id,a);p[Fa.ExperienceId]=d.experienceId;d.userGroup==Va.Control&&(p[Fa.UserGroup]=Va.Control);d.promotedItemKeys&&(p[Fa.PromotedItemKeys]=d.promotedItemKeys);
return p}function ae(d,a,p){var b={};b[Fa.ComponentType]=d;b[Fa.ComponentId]=a;b[Fa.StatType]=p;return b}function tb(d,a,p){!0===D.minimalEventTracking&&ajq.each(a,function(d,a){if(a.type==kc.Message){var t=be(a.id,a.stat);a.stat==qa.Impression&&be(a.id,"v:"+a.stat);a.stat==qa.Impression&&1==t&&(p=p||{},p[".minit"]="")}});ajq.each(a,function(a,t){if(t.type===kc.Experience){for(var p=0;p<ub.length;p++)try{ub[p](t.id,t.stat,ajq.extend(!0,{},d))}catch(b){K(b,"experienceListenerCallback")}dc.handleCampaignEvent(t.id,
t.stat,ajq.extend(!0,{},d));G("experienceEvent",{id:t.id,statType:t.stat,message:d})}});w.disableCampaignStatTracking||(a=[{name:".cStat",value:evergageJSON.stringify(a)}],a=ob(a,p),Gb(a,!1,!0))}function Ud(d,a){var p=0;if(Ca[d]){var b=Ca[d];b.hasOwnProperty(a)&&(p=b[a])}return p}function be(d,a){var p;Ca[d]?p=Ca[d]:(p={},Ca[d]=p);var b;b=p.hasOwnProperty(a)?p[a]+1:1;p[a]=b;ca(S.session.ids.MessageStats,Ca);return b}function Af(){ajq.each(Ca,function(d,a){ajq.each(a,function(d,b){0===d.indexOf("v:")&&
delete a[d]})})}function Vc(d,a){var p="(^| )(apptegic[_-]"+a;if(d)for(var b=0;b<d.length;b++)p+="|"+d[b];return new RegExp(p+")( |$)")}function ce(d){for(var a,p;(a=d.parentNode)&&"A"!==(p=d.tagName)&&"AREA"!==p;)d=a;if(x(d.href)&&(a=d.hostname||y(d.href).host,p=a.toLowerCase(),a=d.href.replace(a,p),!/^(javascript|vbscript|jscript|mocha|livescript|ecmascript):/i.test(a))){d=d.className;if(vf(p)){p=Vc(w.downloadClasses,"download");var b=Vc(w.linkClasses,"link"),c=new RegExp("\\.("+w.downloadExtensions+
")([?\x26#]|$)","i");d=b.test(d)?"link":p.test(d)||c.test(a)?"download":0}else d="link";d&&Yd(a,d)}}function Wc(d){d=d||window.event;var a=d.which||d.button,p=d.target||d.srcElement;"click"===d.type?p&&ce(p):"mousedown"===d.type?1!==a&&2!==a||!p?lc=mc=null:(lc=a,mc=p):"mouseup"===d.type&&(a===lc&&p===mc&&ce(p),lc=mc=null)}function de(d,a){a?(u(d,"mouseup",Wc,!1),u(d,"mousedown",Wc,!1)):u(d,"click",Wc,!1)}function ee(d){if(!fe){fe=!0;var a=Vc(w.ignoreClasses,"ignore"),p=document.links;if(p)for(var b=
0;b<p.length;b++)a.test(p[b].className)||de(p[b],d)}}function Ob(d){var a;try{a=evergageJSON.parse(d.data)}catch(p){return}"apptegicError"!=a.type&&"apptegicSize"!=a.type&&"apptegicPostMessageLinkEvent"==a.type&&Kf(a)}function Kf(d){d.apptegicTrackAction&&ta(d.apptegicTrackAction);if("true"==d.apptegicCloseMessage){var a=ajq("#evergage-tooltip-amb"+d.id+"-title");Ga(a)}d.href&&window.setTimeout(function(){d.target||(window.location.href=d.href)},200)}function nc(d){var a="https://"+Z+".evergage.com:8443";
return("https:"==window.location.protocol?"https":"http")+"://"+Z+".evergage.com"!==na&&a!==na?(d?"\x26":"?")+"_ak\x3d"+Z:""}function Wd(){if("undefined"!==typeof l&&!rb){ic=!0;var d=[],a=null,a=kb+"/beacon/"+Z+"/"+ma+"/css/evergage.min.css",p=!1,b=nc(p);""!==b&&(a+=b,p=!0);a+=(p?"\x26":"?")+".bv\x3d10";x(vb)&&(a+="\x26.tv\x3d"+vb);d.push(a);ajq("\x3cdiv\x3e\x3c/div\x3e").attr("id","evergageThemesDiv").appendTo("body");"undefined"!==typeof l&&l&&"undefined"!==typeof l.cssLazyLoader?(d=l.cssLazyLoader(d,
function(){!0!==Xa&&(rb=!0,jc())}),ajq.merge(oc,d)):(ajq.each(d,function(d,a){ajq("\x3clink/\x3e",{rel:"stylesheet",type:"text/css",href:a}).appendTo(ajq("head"))}),rb=!0,jc())}}function Od(d,a){if(!0!==Xa&&d){if(Pc())try{if("object"===typeof window.performance&&"function"===typeof window.performance.getEntries)for(var p=window.performance.getEntries(),b=p.length-1;0<=b;b--){var c=p[b];if(/.*evergage.*twreceiver.*/.test(c.name)){var e=Math.round(c.duration);0<c.duration&&ca(S.session.ids.StoredTWReceiverTiming,
e);break}}}catch(f){}for(b=0;b<Pb.length;b++)try{Pb[b](d)}catch(f){K(f,"campaignResponseListenerCallback")}G("campaignResponseEvent",{response:d});p=d.themeVersion;x(vb)?x(p)&&p>vb&&(vb=p):vb=p;d.persistedUserId&&((p=d.persistedUserId.entityId)&&ea("_persistedUserId",p,l.Scope.Visit),(p=d.persistedUserId.accountId)&&ea("_persistedAccountId",p,l.Scope.Visit));d.anonAffinityId&&(p=Na(),b=!1,d.anonAffinityId&&p.affinityId!=d.anonAffinityId&&(p.affinityId=d.anonAffinityId,b=!0),b&&ec(p));!0!==D.editModeVisualEditor&&
(D.minimalEventTracking?(d.userInfo&&ge(d.userInfo),Sc()):!0!==he&&(p=d.campaignResponses,0===window.location.href.indexOf("chrome-extension://")&&"function"===typeof storeMessageResponse?storeMessageResponse(p):ie(p,a)))}}function ge(d){d&&(ab=d,ca(S.session.ids.UserInfo,ab))}function ie(d,a,p){if(!0===ajq.jStorage.get("isEvergageVisualEditorEnabledForTab"))pc();else if(a==fa())if(ib&&(Lf(d),ib=!1),x(d)&&0<d.length)a:{b:{for(a=0;a<d.length;a++)if("Redirect"==d[a].displayMode){a={url:d[a].redirectUrl,
saveParameters:d[a].saveParameters,hidePageBeforeRedirect:d[a].hidePageBeforeRedirect,userGroup:d[a].userGroup,campaignResponse:d[a]};break b}a=null}if(null!=a){var b=a;if("Control"!=b.userGroup){if(Ba&&"true"!==Ba&&!0!==Ba&&(Ba=Ba.replace(b.campaignResponse.experienceId,""),Id()),b.url){if(b.saveParameters){var c=window.location,e=b.url,f;var g=window.location.search,h=b.campaignResponse.experienceId;f=window.decodeURIComponent(g.substring(1));var k=/^.*evergageTestMessages=([\w,]*).*$/;f.match(k)?
(g=f.replace(k,"$1"),h=g.replace(h,""),f="?"+f.replace(g,h)):f=g;c.href=e+f}else window.location.href=b.url;je=!0}}else Xc&&b.hidePageBeforeRedirect&&qc();b=b.campaignResponse;b.previewMode||Ea[b.experienceId]||(c=sb(b,qa.Impression),b.userGroup==Va.Control&&(c[Fa.UserGroup]=Va.Control),tb(b,[c]),Ea[b.experienceId]=!0);if("Control"!=a.userGroup)break a}for(a=0;a<d.length;a++)if(d[a].javascriptContent){var m;b:{b=d[a];if("Control"!=b.userGroup){c=b.experienceName;try{var n=ajq.trim(b.javascriptContent),
n=n.replace(/\n/g,"\n    "),y=(new Function("try {\n    "+n+'\n} catch (exception) {\n    if (typeof window.ajq \x3d\x3d\x3d "function" \x26\x26 typeof window.ajq.log \x3d\x3d\x3d "object" \x26\x26 typeof ajq.log.shouldLog \x3d\x3d\x3d "function" \x26\x26 ajq.log.shouldLog(\'WARN\')) {\n        console.log("Evergage: ERROR: Exception executing javascript content for experience: '+c+'", exception);\n    }\n}\n\n//# sourceURL\x3d/evergage/campaignId-'+b.campaignId+"/experienceId-"+b.experienceId+".js"))();
if(y===l.ExperienceJS.DelayImpression){m=!0;break b}else if(!1===y){m=!1;break b}$d(b)}catch(u){K(u,"insertExperienceJavascriptContentToPage")}}else $d(b);m=!0}!1===m&&(d.splice(a,1),a--)}0===d.length?!0!==lb&&(Ta=!0):(m=Mf(d),d=Nf(d),bb=ajq.extend(bb||{},Vd(d)),Of(m),ic||!0===p?(rb||!0===p)&&jc():(Ma=!0,Wd()))}else!0!==lb&&(Ta=!0)}function Of(d){d=Pf(d);0<d.length&&ajq.each(d,function(d,a){a:if(rc)G("pageChangeExecution",{info:"timedOut",pageChange:a});else{try{if("Control"!=a.userGroup){var b=a.changeScript,
c=document.createElement("script");c.text=b;document.body.appendChild(c);ajq(c).remove();G("pageChangeExecution",{info:"success",pageChange:a})}Qf(a)}catch(e){K(e,"executePageChange");G("pageChangeExecution",{info:"scriptEvalError",pageChange:a});break a}a.previewMode||Ea[a.experienceId]||(b=sb(a,qa.Impression),a.userGroup==Va.Control&&(b[Fa.UserGroup]=Va.Control),tb(a,[b]),Ea[a.experienceId]=!0)}})}function Mf(d){var a=[];ajq.each(d,function(d,b){ajq.each(b.pageChanges,function(d,p){p.campaignId=
b.campaignId;p.campaignName=b.campaignName;p.experienceId=b.experienceId;p.experienceName=b.experienceName;p.userGroup=b.userGroup;p.rulesByType=sc(p.rules);a.push(p)})});return a}function Pf(d){return ajq.grep(d,function(d){if(d.changeScript){var a=ajq(d.cssSelector),b=d.rulesByType.PageCssSelector;return b&&!Yc(d,b)?!1:0<a.length}})}function Qf(d){ajq(d.cssSelector).find("a").andSelf().filter("a").each(function(a,p){ajq(p).off("click.evergagePageChangeClickthrough");ajq(p).on("click.evergagePageChangeClickthrough",
function(a){try{Nb(d,p.href)}catch(t){K(t,"trackClickthrough")}})})}function Nf(d){var a=[],p=0===window.location.href.indexOf("chrome-extension://");ajq.each(d,function(d,b){ajq.each(b.messages,function(d,c){c.campaignId=b.campaignId;c.campaignName=b.campaignName;c.experienceId=b.experienceId;c.experienceName=b.experienceName;c.userGroup=b.userGroup;c.rulesByType=sc(c.rules);delete c.rules;c.isVisualEditorToolbarMessage=p;a.push(c)})});return a}function sc(d){var a={};ajq.each(d,function(d,b){var c=
b["@class"];b.type=c.substring(c.lastIndexOf(".")+1).replace(/CampaignRule$/,"");a[b.type]=b});return a}function Lf(d){null==d&&(d=[]);ajq(".evergage-qtip").each(function(a,b){if(!ajq(b).hasClass("WidgetsCss-thumbnailMessage")){var c=ajq(this).qtip("api");if(x(c)){for(var e=!1,f=0;f<d.length;f++)for(var g=d[f],h=0;h<g.messages.length;h++)if("amb"+g.messages[h].id===c.options.id){e=!0;break}e||(c.options.bundle||{}).previewMode||Ga(c.options.id)}}});ajq.each(ra,function(d,a){0===ajq("#evergage-tooltip-amb"+
a).size()&&delete ra[d]});ajq.each(va,function(d,a){void 0!==a&&clearInterval(a)});Zc();va={}}function jc(){try{if(ajq.each(bb,function(d,a){if(0!=a.length){var b=Rf(d,a);ajq.each(b,function(d,a){try{if(rc&&"page"===a.renderType&&"string"===typeof a.target&&ajq.isArray(w.hideContentSectionsList))for(var t=0;t<w.hideContentSectionsList.length;t++)if(ajq(V(w.hideContentSectionsList[0])).is(V(a.target)))return;var b=a.rulesByType.PageDelay;if(b&&!isNaN(b.pageDelayMillis)&&1E3<b.pageDelayMillis){var p=
setTimeout(function(){Ka(a)},b.pageDelayMillis);wb.push(p)}else!0!==Ta&&!0!==lb&&(a.shouldDelayReshowPersonalizedSectionsForMessage=!0),Ka(a)}catch(c){K(c,"displaySingleMessageOnceCSSIsLoaded")}})}}),bb={},!0!==lb&&(Ta=!0),0===Ja.length||!0===lb)clearTimeout(La),Ma=!1,Ya()}catch(d){K(d,"displayMessagesOnceCSSIsLoaded"),clearTimeout(La),Ma=!1,Ya()}}function Vd(d){var a={};ajq.each(d,function(d,b){var c,e=b.target.locationId;a.hasOwnProperty(e)?c=a[e]:(c=[],a[e]=c);c.push(b)});return a}function Rf(d,
a){var b;if("Rotate"==a[0].target.multiMessageDisplayMode){var c=S.messageRotation.ids.MessageQueue+d,e="apptegic:mq:"+d,f;if(Ha.hasOwnProperty(d))f=Ha[d];else{f=pa(c,!1);if(!f){var g=r(e);g&&(ca(c,g),f=g)}f||(f=[]);W(e);Ha[d]=f}b=[];ajq.each(f,function(d,c){var e=null,f=-1;ajq.each(a,function(d,a){if(a.id==c.id)return e=a,f=d,!1});null!==e&&(b.push(e),a.splice(f,1))});ajq.each(a,function(d,a){b.push(a)})}else b=a;return b}function ke(){try{w.treatHashChangeAsPageLoad&&(ib=!0,le=location.href,R(),
Da={},Aa=gc=jb=Ua=ia=null,me(),Ea={},qb=[],ub=[],n(!0))}catch(d){K(d,"handleHashChange")}}function Sf(){location.href!=le&&ke()}function Zc(){ajq.each(wb,function(d,a){window.clearTimeout(a)});wb=[];ajq.each(va,function(d,a){window.clearInterval(a)});va={};ajq.each(cb,function(d,a){window.clearInterval(a)});cb={};ajq.each(Pa,function(d,a){window.clearInterval(a.timer)});Pa={};ajq.each(xb,function(d,a){window.clearTimeout(a)});xb={};bb={}}function pc(){ajq(".evergage-insertionTarget").remove();ajq(".evergage-qtip").filter(":not(#evergage-tooltip-ambPREVIEW)").qtip("hide");
ajq(".evergage-qtip").filter(":not(#evergage-tooltip-ambPREVIEW)").qtip("destroy");Zc()}function ne(d,a){var b=ajq(d).closest(".evergage-tooltip.evergage-qtip");0!==b.length&&void 0!==b.qtip().options&&(b=b.qtip().options.bundle,a?Ga(b.id):$c(b))}function $c(d){if(!d.previewMode){var a=sb(d,qa.Dismissal),b=Uc(d,qa.Dismissal);tb(d,[a,b]);-1===ajq.inArray(d.id,Qb)&&Qb.push(d.id)}va.hasOwnProperty(d.id)&&(clearInterval(va[d.id]),delete va[d.id]);Ga("amb"+d.id);"callout"===d.target.renderType&&"Hover"===
d.calloutOnEventType&&null!=d.calloutOnHoverHighlightColor&&(a="evergage-target-highlight-"+d.id,0<ajq("#"+a).length&&ajq("#"+a).remove(),(d.target.insertionContent?Rb(d.target.locationId):V(d.target.target)).removeClass(a))}function Ga(d,a){if(!0!==a&&0!==wa(d).length&&void 0!==wa(d).qtip().options){var b=wa(d).qtip().options.bundle;A(b.target.locationId)&&""!==b.target.locationId&&ajq(".evergage-messageTarget-"+b.target.locationId).remove()}wa(d).qtip("hide");wa(d).qtip("destroy")}function Ka(d,
a,b){d.showCallback=a;if(!(-1<ajq.inArray(d.id,Qb))){if(a="string"===typeof d.cssContent&&""!==d.cssContent){a=!1;var c=ajq.browser.version;ajq.browser.msie&&10>=parseInt(c)&&25<=document.styleSheets.length&&(a=!0)}if(!a){if(!d.itemBlockRendered&&d.htmlContent&&0<=d.htmlContent.indexOf("evergage-item-block\x3d")&&(a=Tf(d),d.itemBlockRendered=!0,!a))return;a="amb"+d.id;var e,f;if(d.legacy)c=null,f=d.taskList?ad(d)?d.legacy.completionSubject||d.legacy.subject:d.legacy.subject:d.legacy.subject,e=d.taskList?
oe(d):d.legacy.template;else{c="";d.previewMode||d.cssContent&&(c+='\n\x3cstyle class\x3d"evergage-tooltip-style"\x3e\n'+ajq.trim(d.cssContent)+"\n\x3c/style\x3e\n");if(d.taskList){e=ajq("\x3cdiv\x3e\x3c/div\x3e");e.html(d.htmlContent||"");var g=d.taskList,h=g.ordered?"ol":"ul";f=e.find(h+"[evergage-tasklist]");if(0===f.length)e=null;else{var k=oe(d),m=ajq("\x3cdiv\x3e\x3c/div\x3e"),g=g.completionHtmlContent||"";ad(d)&&""!==g?e=g:(h=m.html(k).find(h).children(),f.empty().append(h),e=e.html())}}else e=
d.htmlContent||"";c+=e;f=" ";e="-"}c={text:e,title:{text:f,button:d.legacy&&!d.legacy.nonDismissible},fullContents:c};e={};"popup"==d.target.renderType&&!0===d.modal&&!0!==d.previewMode&&(e.modal={on:!0});f=pe();0===f.size()&&d.previewMode&&0<ajq("#previewContainer").size()&&(f=ajq("#previewContainer"));h=f;k="popup"===d.target.renderType;m="callout"===d.target.renderType;f={};"infobar"===d.target.renderType||k?(f.container=0<h.length?h:ajq("body"),f.viewport=!1,f.target=0<h.length?h:ajq(window)):
m?(f.container=0<h.length?h:!1,f.viewport=0<h.length?h:ajq(window)):(f.container=0<h.length?h:!1,f.viewport=0<h.length?h:!1);h=[];d.legacy&&((k=d.legacy.messageThemeId)?h.push("t"+k):(k=d.legacy.appearanceStyle)&&h.push(k));d.previewMode&&h.push("evergage-preview-message");"page"!=d.target.renderType&&0<pe().length&&h.push("evergageMessageInVisualEditorTestMode");k=d.legacy&&d.legacy.width&&"infobar"!=d.target.renderType?d.legacy.width:!1;m=d.legacy&&d.legacy.height?d.legacy.height:!1;h={classes:h.join(" "),
def:!1,nonblocking:!0===d.nonBlocking,width:k,height:m,poweredBy:!d.isVisualEditorToolbarMessage&&bd};a={id:a,content:c,show:e,position:f,style:h,events:{render:Uf,show:Vf,hide:Wf,destroy:Xf},bundle:d};if(!d.taskList||d.legacy||a.content.fullContents){if("page"==d.target.renderType||"callout"==d.target.renderType){c=V(d.target.target);if(!(0<c.length)||c.is(":hidden")){!0!==Ta&&!0===d.shouldDelayReshowPersonalizedSectionsForMessage&&Ja.push(d.id);d.displayRetryExplanation="messageTargetNotVisible";
yb(d);return}if(d.rulesByType.TargetInViewport){c=V(d.target.target);if(e=0<c.length)c=c[0].getBoundingClientRect(),e=0<=c.top&&c.top<=ajq(window).height()||0<=c.bottom&&c.bottom<=ajq(window).height()||0>c.top&&c.bottom>ajq(window).height()&&(0<=c.left&&c.left<=ajq(window).width()||0<=c.right&&c.right<=ajq(window).width())||0>c.left&&c.right>ajq(window).width();if(!e){d.displayRetryExplanation="messageTargetNotInViewport";yb(d);return}}}if((c=d.rulesByType.PageCssSelector)&&!Yc(d,c))c.inclusionCssSelectors&&
0<c.inclusionCssSelectors.length&&(d.displayRetryExplanation="messagePageCssSelectorRuleNotMatched",yb(d));else{if("Rotate"==d.target.multiMessageDisplayMode){ra[d.target.locationId]&&ra[d.target.locationId]!=d.id?(qe(d),c=!0):c=!1;if(c)return;ra[d.target.locationId]||(ra[d.target.locationId]=d.id)}if("callout"==d.target.renderType){if(0<ajq("#evergage-tooltip-amb"+d.id).size())return;if(d.target.insertionContent){if(d.displayCalloutMessageWithInsertionContentNow=!1,(c=0<Rb(d.target.locationId).length)||
(c=0<re(d).length),c?d.calloutOnEventType?(c=Rb(d.target.locationId),se(c,d,a)):d.displayCalloutMessageWithInsertionContentNow=!0:(d.displayRetryExplanation="calloutInsertionTargetDoesNotExist",yb(d)),!d.displayCalloutMessageWithInsertionContentNow)return}else if(d.calloutOnEventType){b=V(d.target.target);se(b,d,a);return}}if(c=d.rulesByType.MinimumPageScroll)if(mb){if(!te(d,c)){d.displayRetryExplanation="minimumPageScrollNotReached";yb(d);return}}else{cd[d.id]=d;return}c=d.rulesByType.Inactivity;
!c||b&&b.shouldDisplayInactivityMessage?dd(d,a):(b=c.inactivityMillis,Pa[d.id]||((new Date).getTime(),ue(d,b),ve(),ajq(document).bind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",we)))}}}}}function Tf(d){if(!d.itemTemplate||!d.promotedItems||0==d.promotedItems.length)return!1;var a=ajq(d.htmlContent),b=a.find("[evergage-item-block]").addBack("[evergage-item-block]").first();if(0==b.length)return!1;b=xe(b,d.itemTemplate,d.promotedItems);if(b.length<(d.promotedContent?d.promotedContent.minimumPromotedItemCount:
1))return!1;d.promotedItemKeys=b;d.htmlContent=Yf(a);return!0}function xe(d,a,b){var c=ye(d.attr("evergage-item-block"));if(null==c)return!1;var e=c.cols,e=a.width*e+c.cellSpacing*(e-1),f=c.rows,f=a.height*f+c.cellSpacing*(f-1);d.empty().css({boxSizing:"content-box",width:e,height:f,wordSpacing:"-1em",display:"table"});var h=[];ajq.each(b,function(e,f){try{var g=b.length,k=ed(a,f),m="UL"==d.prop("tagName")?ajq("\x3cli\x3e\x3c/li\x3e"):ajq("\x3cdiv\x3e\x3c/div\x3e"),n=c.cellSpacing/2,l=c.cols,y=e%
l,u=Math.floor(e/l);m.css({display:"inline-block",verticalAlign:"top",wordSpacing:0,boxSizing:"border-box",marginTop:0==u?0:n,marginBottom:u==Math.ceil(g/l)-1?0:n,marginLeft:0==y?0:n,marginRight:y==l-1?0:n,width:a.width,height:a.height,padding:0,overflow:"hidden"}).html(k);d.append("\n").append(m).append("\n");var v={type:f.type,_id:f._id};f.tagType&&(v.tagType=f.tagType);h.push(v)}catch(q){if("UNFULFILLED_SYNTAX"!=q.type)throw q;}});return h}function ye(d){var a=null;try{a=fd(d)}catch(b){}return a}
function fd(d){if(!A(d))throw"param must be a String.";if(1>d.length||"{"!=d.charAt(0))throw"string must start with '{'.";if(2>d.length||"}"!=d.charAt(d.length-1))throw"string must end with '}'.";var a={};d=ajq.trim(d.substring(1,d.length-1)).split(/\s*,\s*/);for(var b=0;b<d.length;b++){var c=d[b],e=c.split(/\s*:\s*/);if(2!=e.length)throw"property token ["+c+"] must contain a single ':'.";c=Sb(e[0]);if(1>c.length)throw"property is missing key.";e=e[1];if(1>e.length)throw"value of property '"+c+"' has no value.";
var f;if("'"==e.charAt(0)||'"'==e.charAt(0))f=Sb(e);else try{f=parseInt(e,10)}catch(h){throw"value of property '"+c+"' is not a Number or a String.";}a[c]=f}return a}function ed(d,a){a.id=a._id;return d.htmlContent.replace(/\$\{?item\.getTagValue\(([^)]+)\)}?/g,function(d,b){return Zf(a,b)}).replace(/#field\(([^)]*)\)/g,function(d,b){return $f(a,b)}).replace(/\$\{?item\.([\w.]+)}?/g,function(d,b){return ze(a,b)}).replace(/\$\{?currency\.format\(([\d.]+)\)}?/g,function(d,b){var c=D.beaconConfig?D.beaconConfig.defaultCurrency:
null;return Ae(b,a.currency||c||"USD")})}function Zf(d,a){var b=a.split(/\s*,\s*/),c=Sb(ajq.trim(b[0])),b=Sb(ajq.trim(b[1])),e=[];d.tags&&ajq.each(d.tags,function(d,a){a.tagType===c&&e.push(a)});return e[0]?(b=e[b||0])?b?b._id:"":"":""}function $f(d,a){var b=a.split(/\s*,\s*/);if(2!=b.length)throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse #field directive parameters: "+a};var c=ajq.trim(b[0]);if(!/^\$\{?item\.([\w.]+)}?$/.test(c))throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse first param of #field directive: "+
c};b=ajq.trim(b[1]);try{var e=Sb(b)}catch(f){throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse second param of #field directive: "+c};}return c.replace(/^\$\{?item\.([\w.]+)}?$/,function(a,b){return ze(d,b,e)||""})}function ze(d,a,b){if(0==a.indexOf("custom.")&&7<a.length){var c=a.substring(7);d=k(d.custom)&&d.custom.hasOwnProperty(c)?d.custom[c]:null}else d=d.hasOwnProperty(a)?d[a]:null;if(null==d){if(null==b)throw{type:"UNFULFILLED_SYNTAX",message:"Item attribute '"+a+"' is missing or null."};
d=b}return d}function Sb(d){for(var a=0;a<Be.length;a++){var b=Be[a];if(1<=d.length&&d.charAt(0)==b){if(2>d.length||d.charAt(d.length-1)!=b)throw"End quote missing for string ["+d+"].";return d.substring(1,d.length-1)}}return d}function Ae(d,a){var b="number"===typeof d?d:parseFloat(d,10);if(isNaN(b))return"";a||(a="USD");var c=D.beaconConfig?D.beaconConfig.defaultLocale:null,e=Ce||c||"en-US";if(gd.toLocaleStringSupportsOptions)return b.toLocaleString(e,{style:"currency",currency:a});var f=(gd.toLocaleStringSupportsLocales?
b.toLocaleString(e):b.toLocaleString()).replace(/\D\d*$/,""),h=ag[a]||{},c=h.symbol||a,h=null!=h.decimals?h.decimals:0;1<=h&&(b=b.toFixed(h),e=(gd.toLocaleStringSupportsLocales?(1.1).toLocaleString(e):(1.1).toLocaleString()).charAt(1),f+=e+b.substring(b.indexOf(".")+1));return c+f}function Yf(d){var a="";d.each(function(d,b){a+=b.outerHTML||b.nodeValue});return a}function Uf(d,a){if(ajq(d.currentTarget).qtip().id===a.id){var b=a.options.bundle;tc[b.id]=a;b.previewMode?bg(b.id):De(a.elements.tooltip,
b)}}function Vf(d,a){if(ajq(d.currentTarget).qtip().id===a.id){var b=a.options.bundle,c=a.elements.tooltip;null==a.options.barVisible||b.previewMode||a.options.barVisible.call(c,d,a);b.messageShownTime=(new Date).getTime();Qa[b.id]=b;if(b.javascriptContent&&!b.previewMode&&b.javascriptContent&&!(0<ajq(c).find(".evergage-tooltip-script").length))try{var e=document.createElement("script");e.type="text/javascript";e.className+=(e.className?" ":"")+"evergage-tooltip-script";var f=ajq.trim(b.javascriptContent),
f=f.replace(/\n/g,"\n    "),h=("message{id\x3d"+b.id+', experience\x3d"'+(b.experienceName||"")+'", campaign\x3d"'+(b.campaignName||"")+'"}').replace(/"/g,'\\"');e["textContent"in e?"textContent":"text"]="try {\n    "+f+'\n} catch (exception) {\n    if (typeof window.ajq \x3d\x3d\x3d "function" \x26\x26 typeof window.ajq.log \x3d\x3d\x3d "object" \x26\x26 typeof ajq.log.shouldLog \x3d\x3d\x3d "function" \x26\x26 ajq.log.shouldLog(\'WARN\')) {\n        console.log("Evergage: ERROR: Exception executing javascript content for '+
h+'", exception);\n    }\n}\n\n//# sourceURL\x3d/evergage/campaignId-'+b.campaignId+"/experienceId-"+b.experienceId+"/messageId-"+b.id+".js";c[0].insertBefore(e,c[0].firstChild)}catch(g){K(g,"insertJavascriptContentForMessage")}0<b.durationMillis&&cg(b)}}function cg(d){db[d.id]=setTimeout(function(){var a=wa(d.id);a.qtip("hide");a.qtip("destroy")},d.durationMillis)}function Wf(d,a){var b=a.options.bundle;a.options.barHidden&&a.options.barHidden.call(a.elements.tooltip,d,a);G("qTipHideEvent",{message:b});
uc.hasOwnProperty(b.id)&&(clearTimeout(uc[b.id]),delete uc[b.id]);db.hasOwnProperty(b.id)&&(clearTimeout(db[b.id]),delete db[b.id]);a.elements.tooltip.removeClass("evergage-tooltip-page");a.elements.tooltip.removeClass("evergage-tooltip-page-replace");var c=!0;"Rotate"==b.target.multiMessageDisplayMode&&(ra[b.target.locationId]=!1,c=!Ee(b.target.locationId));if(c&&"page"==b.target.renderType)if(a.options.position&&!0===a.options.position.replaceContainer){var c=b.target.locationId,e=zb[c];if(e&&e.length){var f=
V("#evergage-tooltip-"+a.id);f.length&&(f.replaceWith(e),delete zb[c])}}else Fe(b.target.locationId,b.target.target);0<b.durationMillis&&b.messageShownTime&&(c=(new Date).getTime()-b.messageShownTime,1E3>b.durationMillis-c?wa(b.id).qtip("destroy"):b.durationMillis-=c)}function Xf(d,a){var b=a.options.bundle;db.hasOwnProperty(b.id)&&(clearTimeout(db[b.id]),delete db[b.id]);var c=!0;"Rotate"==b.target.multiMessageDisplayMode&&(ra[b.target.locationId]=!1,c=!Ee(b.target.locationId));c&&"page"==b.target.renderType&&
Fe(b.target.locationId,b.target);Ha.hasOwnProperty(b.target.locationId)&&ajq.each(Ha[b.target.locationId],function(d,a){if(a.id===b.id)return Ha[b.target.locationId].splice(d,1),!1});delete eb[b.id];ajq.isEmptyObject(eb)&&(clearInterval(Ab),Ab=-1);var c=Qa[b.id],e;k(c)&&(e=c.destroyCallback);delete Qa[b.id];delete tc[b.id];"Rotate"==b.target.multiMessageDisplayMode&&1E3<b.target.multiMessageRotateDelayMillis&&(cb.hasOwnProperty(b.target.locationId)&&clearInterval(cb[b.target.locationId]),cb[b.target.locationId]=
setInterval(function(){try{Ge(b.target.locationId)}catch(d){K(d,"rotateMessageForTarget")}},b.target.multiMessageRotateDelayMillis));c=wa(b.id);1==c.length&&c.remove();c=Qa[b.id];C(e)&&e()}function He(d,a){var b="0%";if(null!=ajq(d).css("background-position-x"))b=ajq(d).css("background-position-x");else{var c=ajq(d).css("background-position");-1!=c.indexOf("calc(")?(c=c.split("calc("),c=c[c.length-2],-1!=c.indexOf("0%")&&-1!=c.indexOf("px")&&(b=c.substring(0,c.indexOf("px")+2))):(c=c.split(" "),2==
c.length&&(b=c[0]))}ajq(d).css("background-position",b+" "+a)}function Ra(d){if(null!=ajq(d).css("background-position-y"))return ajq(d).css("background-position-y");if(null==ajq(d).css("background-position"))return null;d=ajq(d).css("background-position");if(-1!=d.indexOf("calc(")){if(d=d.split("calc("),d=d[d.length-1],-1!=d.indexOf("0%")&&-1!=d.indexOf("px"))return d.substring(0,d.indexOf("px")+2)}else if(d=d.split(" "),2==d.length)return d[1]}function hd(d,a){var b=d.indexOf(a);return-1!=b&&b+a.length==
d.length}function xa(d){if(null==d)return d;if("0%"==d)return 0;hd(d,"px")&&(d=d.substring(0,d.indexOf("px")));return parseInt(d)}function Yc(d,a){var b=!0;ajq.each(a.inclusionCssSelectors,function(d,a){if(0===V(a).length)return b=!1});ajq.each(a.exclusionCssSelectors,function(d,a){if(0<V(a).length)return b=!1});return b}function De(d,a){dg(d,a);eg(d,a);a.sandboxRequired||Zd(a);var b=a.id,c=wa(b);fg(c);gg(c,b);"callout"==a.target.renderType&&"Hover"==a.calloutOnEventType&&(b=Tb(a),d.unbind("mouseenter."+
b,Ie),d.bind("mouseenter."+b,{bundle:a},Ie),d.unbind("mouseleave."+b,Je),d.bind("mouseleave."+b,{bundle:a},Je))}function dg(d,a){d.find("a").not("[evergage-closeicon]").filter(function(){return"\u00d7"!=ajq.trim(ajq(this).text())}).each(function(d,b){ajq(b).on("click",function(d){try{Nb(a,b.href)}catch(c){K(c,"trackClickthrough")}});C(w.messageLinkDecorator)&&w.messageLinkDecorator(b)})}function Ie(d){try{var a=d.data.bundle.id;"number"===typeof xb[a]&&(clearTimeout(xb[a]),delete xb[a])}catch(b){K(b,
"mouseEnterCalloutInsertionContent")}}function Je(d){try{Ga("amb"+d.data.bundle.id,!0)}catch(a){K(a,"mouseLeaveCalloutInsertionContent")}}function eg(d,a){d.find("div.evergage-tooltip-close").click(function(d,b){try{"click"==d.originalEvent.type&&$c(a)}catch(c){K(c,"trackDismissalIconsLegacy")}})}function wa(d){0===d.indexOf("amb")&&(d=d.substring(3));return ajq("#evergage-tooltip-amb"+d)}function fg(d){d.find("form[evergage-action]").each(function(){try{var d=ajq(this),a=d.attr("evergage-action");
if(a){var b=!Bb(d,"evergage-nocloseonsubmit"),c=!Bb(d,"evergage-nocloseonsubmit")&&!Bb(d,"evergage-nodismissonsubmit");d.attr("name",a);d.on("submit",function(d){l.trackEvergageMessageForm(d,!b,!c)})}}catch(e){K(e,"processEvergageFormAttributes")}})}function gg(d,a){d.find("a").filter("[evergage-action],[evergage-dismissonclick],[evergage-hideonclick],[apptegictrackaction],[apptegicclosemessage]").each(function(){var a=ajq(this);a.attr("href")||a.attr("href","javascript:;");var b=a.attr("evergage-action")||
a.attr("apptegictrackaction"),c=Bb(a,"evergage-dismissonclick")||Bb(a,"apptegicclosemessage"),t=c||Bb(a,"evergage-hideonclick");if(b||c||t)a.on("click",function(){try{var a=d.qtip().options.bundle;c?$c(a):t&&Ga(a.id);b&&(c?setTimeout(function(){ta(b)},100):ta(b))}catch(p){K(p,"processEvergageAnchorAttributes")}})})}function bg(d){wa(d).find("a").filter("[evergage-action],[evergage-dismissonclick],[evergage-hideonclick],[apptegictrackaction],[apptegicclosemessage]").each(function(){var d=ajq(this);
d.attr("href")||d.attr("href","javascript:;")})}function Bb(d,a){var b=d.attr(a);return E(b)&&"false"!==b}function Rb(d){return ajq(".evergage-messageTarget-"+d)}function zf(){ajq.each(cd,function(d,a){te(a,a.rulesByType.MinimumPageScroll)?Ka(a):yb(a)});cd={}}function hg(){ajq.each(eb,function(d,a){eb.hasOwnProperty(d)&&0===V(a.target.target+":visible").length&&!a.previewMode&&(delete eb[d],Ga(a.id))});ajq.isEmptyObject(eb)&&(clearInterval(Ab),Ab=-1)}function te(d,a){return(ajq(window).scrollTop()+
Cb())/ajq(document).height()*100>=a.minimumPageScrollLength}function Cb(){var d=document.doctype?ajq(window).height():0;d||(d=window.innerHeight||document.body.clientHeight||0);return d}function Ub(){var d=document.doctype?ajq(window).width():0;d||(d=window.innerWidth||document.body.clientWidth||0);return d}function se(d,a,b){var c=Tb(a);switch(a.calloutOnEventType){case "Hover":if(a.calloutOnHoverHighlightColor){if(!d.selector)break;var e="evergage-target-highlight-"+a.id;if(0===ajq("#"+e).length){var f=
a.calloutOnHoverHighlightColor;ajq("\x3cstyle\x3e\x3c/style\x3e").attr({id:e,type:"text/css"}).text("."+e+":hover {\n  -moz-transition: all .2s ease-in-out;\n  -webkit-transition: all .2s ease-in-out;\n  transition: all .2s ease-in-out;\n  -moz-box-shadow: inset 0 0 4px 2px "+f+";\n  -webkit-box-shadow: inset 0 0 4px 2px "+f+";\n  box-shadow: inset 0 0 4px 2px "+f+";\n  -moz-border-radius: 4px;\n  -webkit-border-radius: 4px;\n  -o-border-radius: 4px;\n  -ms-border-radius: 4px;\n  border-radius: 4px;\n}\n").appendTo("head");
V(d).addClass(e)}}d.unbind("mouseenter."+c,Ke);d.bind("mouseenter."+c,{bundle:a,messageOptions:b},Ke);d.unbind("mouseleave."+c,Le);d.bind("mouseleave."+c,{bundle:a},Le);break;case "Click":Me(d,a,b)}}function Ke(d){try{var a=d.data;-1<ajq.inArray(a.messageOptions.bundle.id,Qb)||(a.messageOptions.bundle.displayCalloutMessageWithInsertionContentNow=!0,dd(a.bundle,a.messageOptions))}catch(b){K(b,"mouseEnterForHoverCallout")}}function Le(d){try{var a=d.data.bundle.id;"string"===typeof a&&(xb[a]=setTimeout(function(){try{Ga("amb"+
a,!0)}catch(d){K(d,"hideBundleDuringMouseLeaveForHoverCallout")}},250))}catch(b){K(b,"mouseLeaveForHoverCallout")}}function Ne(d){try{var a=d.data;a.messageOptions.bundle.displayCalloutMessageWithInsertionContentNow=!0;ig(d,a.targetSelector,a.bundle,a.messageOptions)}catch(b){K(b,"calloutTargetClicked")}}function Me(d,a,b){var c=Tb(a);d.unbind("click."+c,Ne);d.bind("click."+c,{isShowCalloutMessageClick:!0,targetSelector:d,bundle:a,messageOptions:b},Ne)}function ig(d,a,b,c){var e=Tb(b);a.off("click."+
e);dd(b,c);ajq(document).on("click."+e,null,d.data,function(d){try{if(d.data&&d.data.isShowCalloutMessageClick)"#document"==d.delegateTarget.nodeName&&(d.data.isShowCalloutMessageClick=!1);else{var e=ajq("#evergage-tooltip-amb"+b.id);if(0===ajq(d.target).closest(e).length){var f=Tb(b);ajq(document).off("click."+f);Ga("amb"+b.id,!0);-1<ajq.inArray(b.id,Qb)||Me(a,b,c)}}}catch(h){K(h,"showCalloutMessageOnClick")}})}function Tb(d){return"evergage-message-"+d.id}function pe(){var d=ajq("#apptegicMessageContainerForToolbarEnabledPages");
0===d.size()&&(d=ajq("#evergageMessageContainerForTestMode"));return d}function yb(d){if(!d.displayRetryScheduled){d.displayRetryScheduled=!0;for(var a=0;a<Vb.length;a++)try{Vb[a](d,d.target.target)}catch(b){K(b,"displayMessageRetryCallback")}G("displayMessageRetryEvent",{bundle:d,bundleTarget:d.target.target})}a=window.setTimeout(function(){try{Ka(d)}catch(a){K(a,"displayMessageAfterRetry")}},500);Ic[d.id]={bundle:d,timeout:a};wb.push(a)}function ve(){ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",
we)}function we(d){try{if((new Date).getTime(),"click"!==d.type||0!==d.pageX||0!==d.pageY)vc=d.pageX,Db=d.pageY,jg()}catch(a){K(a,"handleActivityEvent")}}function jg(){ajq.each(Pa,function(d,a){ue(a.bundle,a.inactivityMillis)})}function ue(d,a){(new Date).getTime();var b=Pa[d.id];b&&P(b.timer)&&clearTimeout(b.timer);var c={};c.bundle=d;c.inactivityMillis=a;c.timer=setTimeout(function(){try{kg(c.bundle.rulesByType.Inactivity)&&Ka(c.bundle,function(){try{clearTimeout(Pa[c.bundle.id].timer),delete Pa[c.bundle.id],
0===Pa.length&&ve()}catch(d){K(d,"postDisplayCleanupForInactivityMessage")}},{shouldDisplayInactivityMessage:!0})}catch(d){K(d,"renderInactivityMessage")}},a);Pa[d.id]=c}function kg(d){var a=!1;if(x(d.mouseLocationValue)&&0!==d.mouseLocationValue)if("top"===d.mouseLocationDirection&&-1!==Db){var b=Db-ajq(window).scrollTop();"px"===d.mouseLocationUnit?b<=d.mouseLocationValue&&(a=!0):"%"===d.mouseLocationUnit?0!==Cb()&&b/Cb()<=d.mouseLocationValue/100&&(a=!0):a=!0}else"bottom"===d.mouseLocationDirection&&
0!==Cb()&&-1!==Db?(b=Cb()-Db-ajq(window).scrollTop(),"px"===d.mouseLocationUnit?b<=d.mouseLocationValue&&(a=!0):"%"===d.mouseLocationUnit?b/Cb()<=d.mouseLocationValue/100&&(a=!0):a=!0):"left"===d.mouseLocationDirection&&-1!==vc?(b=vc-ajq(window).scrollLeft(),"px"===d.mouseLocationUnit?b<=d.mouseLocationValue&&(a=!0):"%"===d.mouseLocationUnit?0!==Ub()&&b/Ub()<=d.mouseLocationValue/100&&(a=!0):a=!0):"right"===d.mouseLocationDirection&&0!==Ub()&&-1!==Db?(b=Ub()-vc-ajq(window).scrollLeft(),"px"===d.mouseLocationUnit?
b<=d.mouseLocationValue&&(a=!0):"%"===d.mouseLocationUnit?b/Ub()<=d.mouseLocationValue/100&&(a=!0):a=!0):a=!1;else a=!0;return a}function Ge(d){if(null!=ra[d]){var a=ra[d];null!==Oe(d,!1)&&(null!=tc[ra[d]]&&tc[ra[d]].hide(),Qa.hasOwnProperty(a)&&qe(Qa[a],!0))}}function Ee(d){var a=Oe(d,!0);null!==a&&(d=window.setTimeout(function(){Ka(a)},1E3),wb.push(d));return null!==a}function Oe(d,a){var b=null;if(Ha.hasOwnProperty(d)){for(var c=Ha[d],e=c.length;0<c.length;){var f=c.shift();if(!0===w.enableMessageRotation&&
f.hasOwnProperty("htmlContent")){a||c.unshift(f);b=f;break}}c.length!=e&&Pe(d,c)}return b}function Pe(d,a){var b=S.messageRotation.ids.MessageQueue+d,c=ka(b);if(0===a.length)ajq.jStorage.deleteKey(c);else{var e=[];ajq.each(a,function(d,a){var b={};b.id=a.id;e.push(b)});ca(b,e)}}function qe(d,a){var b;b=Ha.hasOwnProperty(d.target.locationId)?Ha[d.target.locationId]:[];var c=-1;ajq.each(b,function(b,p){if(p.id==d.id&&!a)return c=b,!1});-1!=c?b[c]=d:b.push(d);Pe(d.target.locationId,b)}function Qe(d,
a,b,c){if(!d||0===d.length){"Rotate"==a.multiMessageDisplayMode&&delete ra[b.target.locationId];if(void 0===va[b.id]){var e=window.location.href;va[b.id]=window.setInterval(function(){if(e!=window.location.href||void 0===va[b.id])return!0;0<V(c.bundle.target).length&&1>ajq("#evergage-tooltip-amb"+b.id.toString()).length&&(Ka(a),clearInterval(va[b.id]),delete va[b.id])},1E3)}return!0}return!1}function dd(d,a){if("Control"==d.userGroup)Zd(d);else{var b=d.target;switch(b.renderType){case "popup":ajq.fn.qtip.zindex=
1000302;a.position.stack=b.popupLocation?b.popupLocation.toLowerCase():"topright";break;case "infobar":ajq.fn.qtip.zindex=1000202;a.position.stack=b.infobarLocation?b.infobarLocation.toLowerCase():"top";break;case "page":ajq.fn.qtip.zindex=1000002;var c=V(b.target);if(Qe(c,d,d,a))return;a.position.container=c;break;case "callout":!0===d.calloutInMessageEditor&&(c=1==ajq("#previewContainer").length?"#previewContainer":"body",a.position.container=ajq(c),a.position.viewport=ajq(c));ajq.fn.qtip.zindex=
1000102;c=V(b.target);if(b.insertionContent){var e=Rb(b.locationId);d.displayCalloutMessageWithInsertionContentNow&&(c=e)}if(Qe(c,d,d,a))return;a.position.target=c;!0!==b.keepCalloutOpenWhenTargetHidden&&(eb[d.id]=d);-1===Ab&&(Ab=setInterval(hg,1E3));c=["top","right","bottom","left"];e=b.calloutDirection?b.calloutDirection.toLowerCase():"bottom";a.position.at=e+" center";a.position.my=c[(ajq.inArray(e,c)+2)%4]+" center"}if((c=wa(d.id))&&1==c.length&&"object"==typeof c.data("qtip")){a.content.title&&
a.content.title.button&&!a.content.title.text&&(a.content.title.text=" ");lg(c,d,a)&&ajq.updateMessage("#evergage-tooltip-"+a.id,a,c.qtip().options);"page"==b.renderType&&(c.addClass("evergage-tooltip-page"),c.css({top:0}),!0===mg(a)&&c.addClass("evergage-tooltip-page-replace"));var f=ajq("#evergage-tooltip-amb"+d.id+":visible");f&&1==f.length&&"object"==typeof f.data("qtip")||De(c,d);c.qtip("show");c.css({opacity:1})}else"page"==b.renderType&&(c=!0,za(V(b.target),"img")&&(c=!1,b.inlineReplaceContainer=
!0),c||!0===b.inlineRespectMessageSize||(a.style.width=ajq(b.target).outerWidth()+"px",a.style.height=ajq(b.target).outerHeight()+"px"),b.replaceExistingContent?(!0===b.inlineReplaceContainer&&(f=ng(b.locationId),a.position.replaceContainer=!0),!0!==b.inlineReplaceContainer?(a.position.ignoreTargetVisibilityCheck=og(b.target),pg(b.locationId,b.target)):(a.bundle.existingStyles=V(b.target).get(0).style.cssText,qg(b.locationId,b.target,f))):!0!==c&&V(b.target).after(f),b.replaceExistingContent&&b.inlineReplaceContainer||
!0!==c)&&(b.target="#"+b.locationId,a.position.container=ajq(b.target)),"Rotate"==d.target.multiMessageDisplayMode&&(ra[b.locationId]=d.id),!0!==Ta&&!0===d.shouldDelayReshowPersonalizedSectionsForMessage&&Ja.push(d.id),ajq.qtipGrowl(a);!1!==a.show.ready&&(f=uc[d.id]=window.setTimeout(function(){ajq("#evergage-tooltip-"+a.id).is(":visible")||(ajq("#evergage-tooltip-"+a.id).qtip("show"),ajq("#evergage-tooltip-"+a.id).css("opacity",1))},500),wb.push(f));"Rotate"==b.multiMessageDisplayMode&&1E3<b.multiMessageRotateDelayMillis&&
!cb.hasOwnProperty(b.locationId)&&(cb[b.locationId]=setInterval(function(){Ge(b.locationId)},b.multiMessageRotateDelayMillis));d.messageShownTime=(new Date).getTime();Qa[d.id]=d}}function mg(d){var a=d.position&&!0===d.position.replaceContainer||d.bundle&&d.bundle.replaceExistingContent&&!0===d.bundle.inlineReplaceContainer;return d.bundle&&!0===d.bundle.replaceExistingContent&&!0!==d.bundle.isPreviewModeContainerReplacement&&!0!==d.bundle.isPreviewModeInlineRespectMessageSize&&!0!==d.bundle.inlineRespectMessageSize&&
!a?!0:!1}function lg(d,a,b){if(d.qtip()&&d.qtip().options&&d.qtip().options.content){if(a.legacy){a=evergageJSON.stringify(d.qtip().options.content.title)!=evergageJSON.stringify(b.content.title);var c=evergageJSON.stringify(d.qtip().options.content.text)!=evergageJSON.stringify(b.content.text);return a||c&&!(d.qtip().options.content.text instanceof ajq)&&!(b.content.text instanceof ajq)}a=d.qtip().options.content.fullcontents||d.qtip().options.content.fullContents;return evergageJSON.stringify(a)!=
evergageJSON.stringify(b.content.fullContents)&&!(d.qtip().options.content.fullContents instanceof ajq)}}function re(d){d=d.target;d.insertionLocation||(d.insertionLocation="LastChild");var a=Rb(d.locationId);if(0<a.length)return a;a=V(d.target);if(0===a.length)return[];var b;switch(d.insertionLocation){case "FirstChild":case "LastChild":b=a;break;case "PreviousSibling":case "NextSibling":b=a.parent();break;default:return[]}var c="evergage-messageTarget-"+d.locationId,e=b.find("."+c);if(!e.length)switch(e=
ajq.parseHTML(d.insertionContent),e=1==e.length&&1==e[0].nodeType?ajq(d.insertionContent):ajq("\x3cdiv\x3e\x3c/div\x3e").css("display","inline-block").append(d.insertionContent),e.addClass("evergage-insertionTarget "+c),d.insertionLocation){case "FirstChild":b.prepend(e);break;case "LastChild":b.append(e);break;case "PreviousSibling":a.before(e);break;case "NextSibling":a.after(e);break;default:return[]}return ajq("."+c)}function og(d){d=V(d);for(var a=ya(d),b=!1,c="a h1 h2 h3 h4 h5 h6 span".split(" "),
e=0;e<c.length;e++)if(c[e]===a.toLowerCase()){b=!0;break}return b?d&&d.length&&!d.is(":hidden"):!1}function pg(d,a){var b=V(a).contents();b.length&&(zb[d]=b.detach())}function qg(d,a,b){a=V(a);if(a.length){var c=a.width(),e=a.height();"number"===typeof c&&0<c&&V(b).css("width",c);"number"===typeof e&&0<e&&V(b).css("height",e);zb[d]=a.replaceWith(b)}}function ng(d){d=ajq("\x3cdiv\x3e\x3c/div\x3e").attr("id",d).css("width",1);d.addClass("evergage-temp-placeholder");return d}function Fe(d,a){var b=zb[d];
if(b&&b.length){var c=V(a);c.length&&(c.first().append(b),delete zb[d])}}function oe(d){var a=d.taskList,b,c=d.legacy?d.legacy.completionTemplate:a.completionHtmlContent;if(ad(d)&&""!==(c||""))b=c;else{c=a.ordered?"ol":"ul";b="\x3c"+c+"\x3e";var e=d.completedTaskActions||[];ajq.each(a.tasks||[],function(a,c){b+="\x3cli";var t=0<=e.indexOf(c.action);b+=' class\x3d"'+(d.legacy?t?"evergage-tasklistitem-done":"evergage-tasklistitem-notdone":t?"evergage-task-done":"evergage-task-notdone")+'"';c.description&&
(b+=' title\x3d"'+c.description+'"');b+="\x3e";c.link&&(b+='\x3ca href\x3d"'+c.link+'"\x3e');b+=c.label;c.link&&(b+="\x3c/a\x3e");b+="\x3c/li\x3e"});b+="\x3c/"+c+"\x3e"}return b}function ad(d){return(d.completedTaskActions||[]).length==(d.taskList.tasks||[]).length}function Re(d){if(w.runningInMobileApp)return null;d=wc(d.pages);return x(d)&&!g(d.action)?d.action:null}function Hc(){try{if(!0!==Xa)if(Bc())Ia(),a=[];else if(w.useSiteConfig&&!id)if(0!=Dc||sa(D)){var d=!1;""!==nc(d)&&(d=!0);var b=na+
"/api/dataset/"+ma+"/siteConfig"+nc(!1)+(d?"\x26":"?")+"callback\x3d?";ajq.ajax({url:b,dataType:"jsonp",traditional:!0,cache:!0,crossDomain:!0,jsonpCallback:"getSiteConfigCallback",beforeSend:function(){return id=!0},success:rg,complete:function(){id=!1;return!0},error:function(d,a,b){ib&&(pc(),ib=!1)}})}else jd(null)}catch(c){K(c,"executeSiteConfiguration")}}function rg(d){jd(d)}function Se(d){D=d;Dd()}function Te(){D.account&&!x(Z)&&Z!==D.account&&(Z=D.account);D.dataset&&!x(ma)&&ma!==D.dataset&&
(ma=D.dataset)}function Dd(){bd=D.beaconConfig&&!0===D.beaconConfig.showPoweredBy;Mc=!0===D.twoWayEnabled;D.trackAnonymousUsers&&!x(w.trackAnonymous)&&(w.trackAnonymous=D.trackAnonymousUsers);D.trackAccounts&&!x(w.trackAccounts)&&(w.trackAccounts=D.trackAccounts);D.trackUnknownPages&&!x(w.trackUnknownPages)&&(w.trackUnknownPages=D.trackUnknownPages);D.treatHashChangeAsPageLoad&&!x(w.treatHashChangeAsPageLoad)&&(w.treatHashChangeAsPageLoad=D.treatHashChangeAsPageLoad);D.siteConfigExecBeforePageReady&&
!x(w.siteConfigExecBeforePageReady)&&(w.siteConfigExecBeforePageReady=D.siteConfigExecBeforePageReady);D.hideContentSectionsList&&!x(w.hideContentSectionsList)&&(w.hideContentSectionsList=D.hideContentSectionsList);D.beaconConfig&&D.beaconConfig.hideContentSections&&!x(w.hideContentSections)&&(w.hideContentSections=D.beaconConfig.hideContentSections);D.beaconConfig&&D.beaconConfig.sendErrorEvents&&!x(w.sendErrorEvents)&&(w.sendErrorEvents=D.beaconConfig.sendErrorEvents);D.beaconConfig&&D.beaconConfig.hideContentSectionsMillis&&
!x(w.hideContentSectionsMillis)&&(w.hideContentSectionsMillis=D.beaconConfig.hideContentSectionsMillis);D.beaconConfig&&!x(w.preventSensitiveDataCapture)&&(w.preventSensitiveDataCapture=D.beaconConfig.preventSensitiveDataCapture);D.beaconConfig&&!x(w.enableMessageRotation)&&(w.enableMessageRotation=D.beaconConfig.enableMessageRotation);D.beaconConfig&&!x(w.trackContextualRelatedItems)&&(w.trackContextualRelatedItems=D.beaconConfig.trackContextualRelatedItems);D.doNotTrackPingRequestsForActions&&!x(w.doNotTrackPingRequestsForActions)&&
(w.doNotTrackPingRequestsForActions=D.beaconConfig.doNotTrackPingRequestsForActions);D.hidePageBeforeRedirectList&&!x(w.hidePageBeforeRedirectList)&&(w.hidePageBeforeRedirectList=D.hidePageBeforeRedirectList);D.beaconConfig&&D.beaconConfig.hidePagesForRedirect&&!x(w.hidePagesForRedirect)&&(w.hidePagesForRedirect=D.beaconConfig.hidePagesForRedirect);D.beaconConfig&&D.beaconConfig.hidePagesForRedirectMillis&&!x(w.hidePagesForRedirectMillis)&&(w.hidePagesForRedirectMillis=D.beaconConfig.hidePagesForRedirectMillis);
D.beaconConfig&&D.beaconConfig.disableQtipWindowScroll&&!x(w.disableQtipWindowScroll)&&(w.disableQtipWindowScroll=D.beaconConfig.disableQtipWindowScroll);D.googleAnalyticsIntegrationConfig&&D.googleAnalyticsIntegrationConfig.enabled&&!x(w.googleAnalyticsIntegrationConfig)&&(w.googleAnalyticsIntegrationConfig=D.googleAnalyticsIntegrationConfig);Te()}function Ue(d){d&&Se(d);d=wc(D.pages);kd=[];ld=[];ajq(document).unbind("click",Wb);w.runningInMobileApp||(xc(D.globalPageActions,!1),d&&xc(d.pageActions,
!1));var a=[];null!=D.globalForms&&(a=ajq.merge(a,D.globalForms));Ec=D.globalFields;d&&(Fc=d.fields,null!=d.forms&&(a=ajq.merge(a,d.forms)));hc();Ve(a);var b=D.userIdAtLoginField,c=a;if(b&&b.match){var e=V(b.match);if(0!==e.length&&(e=ajq(e.get(0).form).get(0))){for(var f=!1,h=0;h<c.length;h++)if(V(c[h].match).get(0)==e){for(var f=!0,g=0;g<c[h].formFields.length;g++)"userId"==c[h].formFields[g].name&&(f=!0);c[h].formFields.push(b)}f||(e={},e.match=b.match,e.name=null,e.isUserIdAtLogin=!0,e.formFields=
[],e.formFields.push(b),c.push(e))}}Xb=a;We(a);sg();!fb("company")&&D.beaconConfig&&!0===D.beaconConfig.trackSubdomainAsCompany&&(a=X(Mb),ea("company",a.substring(0,a.indexOf(".")),l.Scope.Page));return d}function sg(){w.runningInMobileApp||("number"===typeof Wa&&clearInterval(Wa),Wa=setInterval(function(){var d=(new Date).getTime(),a=wc(D.pages,!0);w.runningInMobileApp||(xc(D.globalPageActions,!0),a&&xc(a.pageActions,!0));We(Xb);50<(new Date).getTime()-d&&(clearInterval(Wa),Wa=null)},1E3))}function hc(){w.runningInMobileApp||
null==D||D.minimalEventTracking||(Xe(Ec),Xe(Fc))}function jd(d,a){if(!0!==Xa){C(window.evergageBeforeSiteConfigExecution)&&window.evergageBeforeSiteConfigExecution();if(A(window.evergageSiteWideStyles)&&""!==window.evergageSiteWideStyles){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";c.setAttribute("class","evergageCampaignStyles");c.styleSheet?c.styleSheet.cssText=window.evergageSiteWideStyles:c.appendChild(document.createTextNode(window.evergageSiteWideStyles));
b.appendChild(c);rb=ic=!0}!0!==Xa&&(T(),b=Ue(d),Ye(b,a),Dc=!0)}}function Ye(d,a,b){M.canBeFiredYet=!0;a||(d&&(a=d.action),!a&&M.actionName&&(a=M.actionName),!a&&Aa&&(a=Aa),a||!0!==w.trackUnknownPages||(a=Ib(Hb())));d={};Aa&&ia&&(d[".itemAction"]=Aa,d[".item"]=evergageJSON.stringify(ia),jb&&(d[".itemSku"]=evergageJSON.stringify(jb)));Ze(a);try{if("object"===typeof window.performance&&"object"===typeof window.performance.timing&&"number"===typeof window.performance.timing.navigationStart&&0<window.performance.timing.navigationStart){if("number"===
typeof window.performance.timing.domContentLoadedEventEnd&&0<window.performance.timing.domContentLoadedEventEnd){var c=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;0<c&&(d[".dt"]=c)}if("number"===typeof window.performance.timing.loadEventEnd&&0<window.performance.timing.loadEventEnd){var e=window.performance.timing.loadEventEnd-window.performance.timing.navigationStart;0<e&&(d[".lt"]=e)}}if("number"===typeof window.evergageBeaconParseTimeStart&&"number"===
typeof window.evergageBeaconParseTimeEnd){var f=window.evergageBeaconParseTimeEnd-window.evergageBeaconParseTimeStart;"number"===typeof f&&(d[".pt"]=f)}if("object"===typeof window.performance&&"function"===typeof window.performance.getEntries)for(var h=window.performance.getEntries(),c=0;c<h.length;c++){var g=h[c];/\/evergage(Small)?(\.min)?\.js$/.test(g.name)&&0<g.duration&&(d[".bt"]=Math.round(g.duration))}}catch(k){}!0===b||yc(d,!1)?(d[".pv"]="",M.eventSendInProcess=!0,$e(d),ta(a,d),M.eventSendInProcess=
!1,M.hasBeenFired=!0,M.actionName=null):M.actionName=a}function Ze(d){w.doNotTrackPingRequestsForActions||(md(),null!=d&&""!==d&&(Ua=d),v())}function af(){return!0===M.hasBeenFired?!1:M.waitingOn.promoteCallback=!0}function tg(d){-1===M.storedTimeout&&(M.storedTimeout=window.setTimeout(function(){bf(d)},M.timeoutDuration))}function nd(d){me();yc(null,!1)&&!M.hasBeenFired&&!0!==d&&cf()}function me(){window.clearTimeout(M.storedTimeout);M.storedTimeout=-1;M.timeoutDuration=100;M.timerStart=0;M.maxTimeout=
0;M.waitingOn.promoteCallback=!1}function df(d,a){var b=!1;try{b=d.apply(this,a?[!0]:[])}catch(c){K(c,"invokeDataCollectionFunction"),b=!0}return b}function bf(d,a){var b=(new Date).getTime();!0===df(d,!1)?nd(a):(new Date).getTime()-M.timerStart>=M.maxTimeout?(df(d,!0),nd(a)):(b=(new Date).getTime()-b,250<=b?nd(a):(window.clearTimeout(M.storedTimeout),M.storedTimeout=-1,b>M.timeoutDuration/3&&(M.timeoutDuration=4*b),tg(d)))}function yc(d,a){var b;if(b=Kc(d,a))a:{for(var c in M.waitingOn)if(M.waitingOn.hasOwnProperty(c)&&
!0===M.waitingOn[c]){b=!1;break a}b=!0}return b&&!0===M.canBeFiredYet}function Kc(d,a){M.waitingOn.credentials=!1;var b=d;if(null==b||!0!==a)b=ob([],b);"number"===typeof b.length&&(b=Xd(b));if(b.hasOwnProperty("userId")||b.hasOwnProperty("_persistedUserId")||b.hasOwnProperty(".anonId"))!w.trackAccounts||b.hasOwnProperty("company")||b.hasOwnProperty("_persistedAccountId")||b.hasOwnProperty("_anon");else return M.waitingOn.credentials=!0,!1;return!0}function xc(d,a){if(d)for(var b=0;b<d.length;b++){var c=
d[b],e=a;if(!g(c.match)){var f=V(c.match),c={action:c.name,hasBeenHandledByEvergage:!1};if(0<f.size())for(var h=0;h<f.length;h++)!0!==ajq.data(f.get(h),"evergageClickInstrumented")&&(!0!==e&&ajq(f.get(h)).unbind("click",Wb),ajq(f.get(h)).on("click",c,Wb),ajq.data(f.get(h),"evergageClickInstrumented",!0),kd.push(f.get(h)))}}}function V(d){try{return ajq(d)}catch(a){return-1!==a.message.indexOf("Syntax error, unrecognized expression:")?K(a,"jQueryObjectSyntaxError"):K(a,"jQueryObjectUnknownError"),
ajq()}}function Gc(){if(window.addEventListener){var d=window,a=Ob;d.removeEventListener?d.removeEventListener("message",a,!1):d.detachEvent&&d.detachEvent("onmessage",a)}else window.attachEvent?(window.attachEvent("onmessage",Ob),window.detachEvent("onmessage",Ob)):document.attachEvent&&(document.attachEvent("onmessage",Ob),document.detachEvent("onmessage",Ob));ef();for(d=0;d<oc.length;d++)clearTimeout(oc[d]);oc=[];"number"===typeof Wa&&clearInterval(Wa);Wa=null;clearTimeout(Za);Za=-1}function ef(){ajq(document).unbind("click",
Wb);ajq.each(kd,function(d,a){V(a).unbind("click",Wb);ajq.removeData(V(a)[0],"evergageClickInstrumented")});ajq.each(ld,function(d,a){V(a.match).unbind("submit",od)})}function Wb(d){try{"#document"!=d.delegateTarget.nodeName||null!==d.data&&!0!==d.data.hasBeenHandledByEvergage?(ta(d.data.action,{},!0),d.data.hasBeenHandledByEvergage=!0):d.data.hasBeenHandledByEvergage=!1}catch(a){K(a,"handlePageActionClick")}}function Ve(d){for(var a=0;a<d.length;a++)for(var b=0;b<d.length;b++)x(V(d[a].match).get(0))&&
V(d[a].match).get(0)==V(d[b].match).get(0)&&a!=b&&(null!=d[b].formFields&&0<d[b].formFields.length&&(d[a].formFields=ajq.merge(d[a].formFields,d[b].formFields)),d.splice(b,1),b--,a>b&&a--)}function pd(d){for(var a=0;a<d.formFields.length;a++){var b=ff(d,d.formFields[a]);b&&("userId"==d.formFields[a].name||"company"==d.formFields[a].name?(ea(d.formFields[a].name,b,l.Scope.Visit),Oa()):ea(d.formFields[a].name,b,l.Scope.Request))}}function gf(d,a,b){k(a)||(a={});ta(d,a,!1,!0);P(b)&&(clearTimeout(Yb),
Yb=-1,Yb=setTimeout(function(){ajq.jStorage.deleteKey(ka(S.storedRequests.ids.FormSubmitRequests))},b))}function od(d){try{var a=d.data[0],b=d.data[1];pd(b);b.name&&ta(b.name,{},!1,!0);C(a.get(0).originalOnsubmitForEvergageFormFieldTracking)&&a.get(0).originalOnsubmitForEvergageFormFieldTracking();setTimeout(function(){d.isDefaultPrevented()&&ajq.jStorage.deleteKey(ka(S.storedRequests.ids.FormSubmitRequests))},500)}catch(c){K(c,"handleFormSubmit")}}function ug(d){var a=[];d=ajq(d).find("input[id^\x3d'eg_'][type\x3d'checkbox']:not(:checked)");
for(var b=0;b<d.length;b++)"string"===typeof ajq(d[b]).attr("id")&&ajq(d[b]).attr("id").match(/eg_.*_\w{5}/)&&ajq(d[b]).attr("name")&&a.push({name:ajq(d[b]).attr("name"),value:"off"});return a}function We(d){for(var a=0;a<d.length;a++){var b=d[a],c=V(b.match);!0===b.isUserIdAtLogin&&(c=c.parents("form"));if(0!==c.length&&!0!==ajq.data(c.get(0),"evergageFormInstrumented")){c.get(0).originalOnsubmitForEvergageFormFieldTracking||(c.get(0).originalOnsubmitForEvergageFormFieldTracking=c.get(0).onsubmit);
var e=c;e.unbind("submit",od);e.on("submit",[e,b],od);ld.push(b);ajq.data(c.get(0),"evergageFormInstrumented",!0)}}}function Xe(d){if(d)for(var a=0;a<d.length;a++){var b=hf(d[a]);if(b){var c=d[a].sendOncePerPage?l.Scope.Request:l.Scope.Page;if("userId"==d[a].name||"company"==d[a].name)c=l.Scope.Visit;ea(d[a].name,b,c)&&c===l.Scope.Request&&(d.splice(a,1),a--)}}}function ff(d,a){var b=ajq.extend(!0,{},a);!0!==d.isUserIdAtLogin&&(b.match=d.match+" "+a.match);return hf(b)}function hf(d){var a=V(d.match);
if(0===a.length)return null;var b=a[0].tagName.toLowerCase(),c="";if(-1!=ajq.inArray(b,["input","select","textarea"])){if("input"==b&&("radio"==a[0].type||"checkbox"==a[0].type)&&(a=a.filter(":checked"),0===a.length))return null;c=a.val();c instanceof Array&&(c=c.toString());if("input"==b&&"password"==a[0].type)return null}else c=a.text();c=ajq.trim(c);if(d.expression&&(d=qd(d.expression,c))&&1<d.length)for(c="",a=1;a<d.length;a++)c+=d[a];return ajq.trim(c).substring(0,1024)}function wc(d,a){var b=
null;d&&ajq.each(d,function(d,a){var c;if(c=!a.matchType||"url"==a.matchType)c=window.location.protocol+"//"+window.location.host,c=fa().substring(c.length),c=a.urlRegex&&qd(a.urlRegex,c,a.ignoreCaseForRegexMatch)&&jf(a,X(window.location.hostname))?!0:!1;if(c)return b=a,!1;if(c="title"==a.matchType)c=ajq.trim(document.title).replace(/\s{2,}/g," "),c=a.titleRegex&&qd(a.titleRegex,c,a.ignoreCaseForRegexMatch)&&jf(a,X(window.location.hostname))?!0:!1;if(c)return b=a,!1});b||(b=vg(d,M.actionName));return b}
function vg(d,a){if(null===a||""===a)return null;var b;d&&ajq.each(d,function(d,c){if(c.action===a)return b=c,!1});return b}function qd(d,a,b){try{return!0===b?a.match(new RegExp(d,"i")):a.match(new RegExp(d))}catch(c){return K(c,"matchWithRegexp"),!1}}function jf(d,a){if(!0!==d.domainMatchRequired)return!0;if(!d.domainsMatched)return!1;for(var b=0;b<d.domainsMatched.length;b++)if(d.domainsMatched[b]==a)return!0;return!1}function Nd(d){var a={};wg(a,d);w.notifyIntegratorOfEvents&&!0===w.notifyIntegratorOfEvents&&
(0===ajq("#dataToSendToEvergageIntegratorDiv").length&&(d=ajq("\x3cdiv\x3e\x3c/div\x3e").attr("id","dataToSendToEvergageIntegratorDiv").css("display","none"),ajq("body").append(d)),a={actionType:"apptegicEvent",eventDetails:a},d=document.createEvent("CustomEvent"),d.initCustomEvent("dataToEvergageIntegrator",!0,!0,a),document.getElementById("dataToSendToEvergageIntegratorDiv").dispatchEvent(d))}function wg(a,b){b&&ajq.each(b,function(b,c){c.hasOwnProperty("name")&&c.hasOwnProperty("value")&&(a[c.name]=
c.value)})}function xg(a){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";c.setAttribute("class","evergageRedirectedPageHidden");c.styleSheet?c.styleSheet.cssText="body, html { visibility: hidden !important; }":c.appendChild(document.createTextNode("body, html { visibility: hidden !important; }"));a=P(a)?a:1E3;clearTimeout(rd);rd=setTimeout(function(){qc()},a);b.appendChild(c);Xc=!0}function qc(){try{!0!==je&&(ajq("head \x3e style.evergageRedirectedPageHidden").remove(),
clearTimeout(rd))}catch(a){K(a,"reshowHiddenPageForRedirectNow")}}function yg(a,b,c,e){var f={exists:!1,matched:!1};if(ajq.isArray(c)&&0<c.length){var h=a.toUpperCase();f.exists=!0;ajq.each(c,function(b,c){f.matched=e?-1<h.indexOf(c.toUpperCase()):-1<a.indexOf(c);if(f.matched)return!1})}b.exclusions=f}function zg(a,b,c,e){var f={exists:!1,matched:!1};if(ajq.isArray(c)&&0<c.length){f.exists=!0;var h=a.toUpperCase();ajq.each(c,function(b,c){f.matched=e?-1<h.indexOf(c.toUpperCase()):-1<a.indexOf(c);
if(f.matched)return!1})}b.inclusions=f}function Ag(a){var b;if(window.location==window.top.location)b=window.location.href;else{try{b=window.top.location.href}catch(c){b=null}b||(b=document.referrer)}var e={},f=a.ignoreCase;ajq.each(a,function(a,d){switch(a){case "inclusionUrlSubstrings":zg(b,e,d,f);break;case "exclusionUrlSubstrings":yg(b,e,d,f);break;case "pathIsExactly":var c={exists:!1,matched:!1},h=l.util.getPathname(b);if(d&&"string"===typeof d){var g=h.toUpperCase();c.exists=!0;c.matched=f?
g===d.toUpperCase():h===d}e.pathIsExactly=c}});return e}function Ya(){try{"function"===typeof window.requestAnimationFrame?window.requestAnimationFrame(Ia):Ia(),qc()}catch(a){K(a,"reshowPersonalizedSections")}}function Ia(){try{ajq("head \x3e style.evergagePersonalizationSections").remove()}catch(a){K(a,"reshowPersonalizedSectionsNow")}}function Gd(a){if(!0!==a){a=S.storedRequests.ids.DelayedClick;var b=pa(a);if(x(b)){if(void 0!==b.length)for(var c=0;c<b.length;c++)zc(b[c],"click");else zc(b,"click");
ajq.jStorage.deleteKey(ka(a))}}a=S.storedRequests.ids.FormSubmitRequests;b=pa(a);if(x(b)){if(void 0!==b.length)for(c=0;c<b.length;c++)zc(b[c],"form submit");else zc(b,"form submit");ajq.jStorage.deleteKey(ka(a))}a=pa(S.storedRequests.ids.StoredPingRequest);x(a)&&(Eb=a.params)}function $e(a){var b;null!=Eb&&"object"===typeof Eb&&"number"===typeof Eb.length&&(b=Xd(Eb),null!=a[".pnp_top"]||null==b||null==b[".top"]||null==b.action&&!b[".item"]||(b._ak==Z&&b._ds==ma&&(delete a[".pnp_action"],delete a[".pnp_item"],
a[".pnp_top"]=b[".top"],null!=b.action&&(a[".pnp_action"]=b.action),null!=b[".item"]&&(a[".pnp_item"]=b[".item"])),Eb=null,ajq.jStorage.deleteKey(ka(S.storedRequests.ids.StoredPingRequest))))}function zc(a,b){Bd(a.params,!1,a.currentPageUrl,a.requestId)}function sd(a){return a=x(a)?a.toLowerCase():l.Scope.Visit}function fb(a,b){b=sd(b);var c;b===l.Scope.Page?c=Da[a]:b===l.Scope.Visit?c=O[a]:b===l.Scope.Request&&(c=ua[a]);return!E(c)||c&&""===c[0]?!1:c}function Lc(a,b){b=sd(b);x(fb(a,b))&&(b===l.Scope.Visit?
(!1===O&&Kb(),ea(a,null,b),delete O[a],Oa()):b===l.Scope.Page?delete Da[a]:b===l.Scope.Request&&delete ua[a])}function ea(a,b,c,e){null===Sa&&(Sa=ajq.jStorage.storageAvailable()?!1:!0);e=!1;c=sd(c);if(c!==l.Scope.Visit&&c!==l.Scope.Page&&c!==l.Scope.Request)return!1;x(b)||(b="");A(b)||(b=String(b));b=ajq.trim(b.slice(0,1024));if("userId"===a||"company"===a){if(""===b)return!1;for(var f=0;f<kf.length;f++)if(b===kf[f])return!1}if(w.preventSensitiveDataCapture&&yd(b))return!1;c===l.Scope.Visit||"userId"!==
a&&"company"!==a&&"_persistedUserId"!==a&&"_persistedAccountId"!==a||(c=l.Scope.Visit);c===l.Scope.Visit?(!1===O&&Kb(),"userId"===a?lf("userId","_userIdHashSalt","_userIdHash","_persistedUserId",b):"company"===a?lf("company","_accountIdHashSalt","_accountIdHash","_persistedAccountId",b):"_persistedUserId"===a?(O._persistedUserId=b,delete O.userId):"_persistedAccountId"===a?(O._persistedAccountId=b,delete O.company):O[a]=b,e=!0,Oa()):c===l.Scope.Page?(Da[a]=b,e=!0):c===l.Scope.Request&&(ua[a]=b,e=
!0);!0===M.eventSendInProcess||"userId"!=a&&"company"!=a||!yc(null,!1)||cf();return e}function cf(){if(1!=M.hasBeenFired){var a=null;D&&(a=wc(D.pages));Ye(a,null,!0)}}function lf(a,b,c,f,h){if(O[f]&&O[c]&&O[b]&&(f=O[b],f=e(f+h),f===O[c]))return;O[a]=h;f=e(Math.random().toString(36).substr(2));O[b]=f;f=e(f+h);O[c]=f}function mf(a){a&&ajq.each(a,function(b,c){a.hasOwnProperty(b)&&(x(c)?w[b]=c:w[b]=td[b])})}function nb(a,b){for(var c={},e=0;e<b.length;e++){var f=b[e];"undefined"!==typeof a[f]&&(c[f]=
a[f])}return c}function Zb(a){a=nb(a,["_id","type","price","currency","categories"]);if(ajq.isArray(a.categories)){for(var b=[],c=0;c<a.categories.length;c++)b[c]=nb(a.categories[c],["_id","type"]);a.categories=b}return a}function nf(a){a=ajq.extend({},a);a.item&&(a.item=Zb(a.item));return a}function Bg(a){var b=ajq.extend({},a);if(ajq.isArray(a.lineItems)){b.lineItems=[];for(var c=0;c<a.lineItems.length;c++){var e=nf(a.lineItems[c]);b.lineItems.push(e)}}return b}function md(){-1!==Za&&(f(!1),clearTimeout(Za),
Za=-1)}function Y(a,b,c,e){try{var f=b,h="timeout"===c||"interval"===c,g=c;"function"===typeof b&&(f=void 0,g=b);var k="Click";"string"===typeof e&&0<e.length&&(k=e.substring(0,1).toUpperCase()+e.substring(1));if(h){if(e=c,!P(a)||0>typeof a)return null}else if("string"!==typeof a)return null;if("function"!==typeof g)return null;b=function(){try{g.apply(this,arguments)}catch(a){K(a,"safeClickFunction_"+k)}};return"timeout"===e?window.setTimeout(b,a):"interval"===e?window.setInterval(b,a):"undefined"===
typeof f?V(a).bind(e,b):V(a).bind(e,f,b)}catch(m){return K(m,"safeBind"),null}}function of(){O&&(delete O.company,delete O._accountIdHash,delete O._accountIdHashSalt,delete O._persistedAccountId,Oa());Da&&delete Da.company;ua&&delete ua.company}function ud(a){if(!a)return"";a=a.pathname;null!=a&&"/"!=a.charAt(0)&&(a="/"+a);return a}function pf(a){if(!a)return"";var b=document.createElement("a");b.href=a;return ud(b)}function qf(a,b){var c=a.exec(b);return c&&2===c.length?c[1]:null}function rf(a){return qf(/[/]?([^/]*)[/]?$/,
pf(a))}function sf(a){if("string"!==typeof a||""===ajq.trim(a))return null;var b=document.createElement("a");b.href=a;return b.href}if("undefined"===typeof ajq)return null;var S={session:{timeoutMillis:18E5,ids:{CustomFields:"customFields",MessageStats:"messageStats",UserInfo:"userInfo",SessionTicket:"sessionTicket",StoredTWReceiverTiming:"storedTWReceiverTiming"}},visitor:{cookieId:"id",timeoutMillis:63072E6,ids:{}},sessionSettings:{cookieId:"sessionSettings",timeoutMillis:18E5,ids:{}},storedRequests:{timeoutMillis:3E4,
ids:{DelayedClick:"delayedClickRequest",FormSubmitRequests:"formSubmitRequests",StoredPingRequest:"storedPingRequest"}},messageRotation:{timeoutMillis:3E4,ids:{MessageQueue:"messageQueue"}},permanent:{timeoutMillis:18E5,ids:{LoggingLevel:"evergageLoggingLevel",PerfLoggingLevel:"evergagePerfLoggingLevel",ClientIp:"evergageClientIp"}}},kf=["null","undefined","false","0","[object Object]"],Df="ac ad ae af ag ai al am an ao aq ar as at au aw ax az ba bb bd be bf bg bh bi bj bm bn bo br bs bt bv bw by bz ca cc cd cf cg ch ci ck cl cm cn co cr cs cu cv cx cy cz dd de dj dk dm do dz ec ee eg eh er es et eu fi fj fk fm fo fr ga gb gd ge gf gg gh gi gl gm gn gp gq gr gs gt gu gw gy hk hm hn hr ht hu id ie il im in io iq ir is it je jm jo jp ke kg kh ki km kn kp kr kw ky kz la lb lc li lk lr ls lt lu lv ly ma mc md me mg mh mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nc ne nf ng ni nl no np nr nu nz om pa pe pf pg ph pk pl pm pn pr ps pt pw py qa re ro rs ru rw sa sb sc sd se sg sh si sj sk sl sm sn so sr ss st su sv sx sy sz tc td tf tg th tj tk tl tm tn to tp tr tt tv tw tz ua ug uk us uy uz va vc ve vg vi vn vu wf ws ye yt yu za zm zw cw".split(" "),
td={referrerUrl:"",useSiteConfig:!0,trackAnonymous:null,trackAccounts:null,trackUnknownPages:null,trackMessageStats:!0,notifyIntegratorOfEvents:!1,treatHashChangeAsPageLoad:null,siteConfigExecBeforePageReady:null,preventSensitiveDataCapture:null,pageUrl:null,pageTitle:null,downloadExtensions:"",hostsAlias:[Mb],ignoreClasses:[],downloadClasses:[],linkClasses:[],trackerDelay:500,discardHashTag:!1,customFields:{},cookieNamePrefix:"_at_",cookieDomain:null,cookiePath:null,doNotTrack:!1,timeOnPageTimer:6E4,
hideContentSectionsList:null,hideContentSections:null,hideContentSectionsMillis:null,enableMessageRotation:null,trackContextualRelatedItems:null,doNotTrackPingRequestsForActions:null,runningInMobileApp:!1,trafficSourceIndex:null,testModeEnabledForPageLoad:null,disableCampaignStatTracking:!1,hidePageBeforeRedirectList:null,hidePagesForRedirect:null,hidePagesForRedirectMillis:null,disableQtipWindowScroll:null,googleAnalyticsIntegrationConfig:null},yf=/Googlebot|Mediapartners-Google|Web Preview|bot|Applebot|spider|crawler|Feedfetcher|Slurp|Twiceler|Nutch|BecomeBot|bingbot|BingPreview|Google Web Preview|WordPress.com mShots|Seznam|facebookexternalhit|YandexMarket|Teoma|ThumbSniper|Phantom/i,
ag={AUD:{symbol:"A$",decimals:2},BRL:{symbol:"R$",decimals:2},CAD:{symbol:"CA$",decimals:2},CLP:{symbol:"$"},CNY:{symbol:"CN??",decimals:2},EUR:{symbol:"???",decimals:2},GBP:{symbol:"??",decimals:2},HKD:{symbol:"HK$",decimals:2},INR:{symbol:"???",decimals:2},ILS:{symbol:"???",decimals:2},JPY:{symbol:"??"},KRW:{symbol:"???"},MXN:{symbol:"MX$",decimals:2},NZD:{symbol:"NZ$",decimals:2},OMR:{decimals:3},PHP:{symbol:"Php",decimals:2},TWD:{symbol:"NT$",decimals:2},USD:{symbol:"$",decimals:2},VND:{symbol:"???",
decimals:2}},kc={Experience:"e",Message:"m"},qa={Impression:"i",Clickthrough:"c",Dismissal:"d"},Fa={ComponentType:"type",ComponentId:"id",ExperienceId:"eid",StatType:"stat",UserGroup:"ug",PromotedItemKeys:"piks",ClickthroughUrl:"href"},Va={Test:"Message",Control:"Control"},fc={Category:"c",Product:"p",Article:"a",Blog:"b",Tag:"t"},w=function(){var a={};ajq.each(td,function(b,c){td.hasOwnProperty(b)&&(a[b]=c)});return a}(),Hd=!1,Dc=!1,Ba=!1,Sa=null,Z=null,ma=null,na=null,kb=null,Nc,mb=!1,Jc=[],vd=
function(a,b,c){if("translate.google.com"===a)""===c&&(c=b),b=F(b,"u"),a=y(b).host;else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a||"74.6."===a.slice(0,5))b=document.links[0].href,a=y(b).host;return[a,b,c]}(window.location.hostname,window.location.href,document.referrer),Mb=Ac(vd[0]),Cg=vd[1],Rc=vd[2],Mc=!0,bd=!1,Kd="https"===window.location.protocol,O=!1,Da={},ua={},ab={},Gf={},fe=!1,lc,mc,Qc="",da,rb=!1,ic=!1,D=window.evergageSiteConfig||{},ib=!1,bb={},cd={},ra={},Ha={},Qa={},uc=
{},db={},cb={},zb={},tc={},Ca={},eb={},Ab=-1,kd=[],ld=[],id=!1,va={},xb={},vc=-1,Db=-1,le=location.href,wb=[],oc=[],Ed=!1,Xa=!1,Ec=[],Fc=[],Wa,vb=0,Xb=[],Pa={},ha=-1,la=-1,Za=-1,$a=-1,Jb=-1,Eb=null,Yb=-1,ia=null,jb=null,Ua=null,Aa=null,gc=null,Ma=!1,La=-1,rd=-1,Xc=!1,Sd=0,rc=!1,Lb=null,Ta=!1,Ja=[],Ic={},lb=!1,cc=!1,Ea={},he=!1,ub=[],qb=[],Vb=[],Pb=[],wd=!0,je=!1,Qb=[],Ce;Ce=navigator.languages&&1<=navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage||navigator.browserLanguage||
navigator.systemLanguage;var Dg=1==(window.Intl&&"object"==typeof window.Intl&&"function"==typeof window.Intl.NumberFormat),xd;a:{try{(0).toLocaleString("i")}catch(d){xd="RangeError"===d.name;break a}xd=!1}var gd={toLocaleStringSupportsOptions:Dg,toLocaleStringSupportsLocales:xd},M={maxTimeout:0,timerStart:0,storedTimeout:-1,timeoutDuration:100,waitingOn:{credentials:!1,promoteCallback:!1},hasBeenFired:!1,actionName:null,eventSendInProcess:!1,canBeFiredYet:!1};u(window,"beforeunload",function(){if(Nc&&
!0===wd){Date.prototype.getTimeEvergageAlias=Date.prototype.getTime;var a;do a=new Date;while(a.getTimeEvergageAlias()<Nc)}R()},!1);(function(){var a;document.addEventListener?u(document,"DOMContentLoaded",function p(){document.removeEventListener("DOMContentLoaded",p,!1);ja()}):document.attachEvent&&(document.attachEvent("onreadystatechange",function p(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",p),ja())}),document.documentElement.doScroll&&window===window.top&&
function xf(){if(!mb){try{document.documentElement.doScroll("left")}catch(a){setTimeout(xf,0);return}ja()}}());/WebKit/.test(navigator.userAgent)&&(a=setInterval(function(){if(mb||/loaded|complete/.test(document.readyState))clearInterval(a),ja()},10));u(window,"load",ja,!1)})();try{ajq(window).bind("hashchange",ke),setInterval(Sf,500)}catch(d){K(d,"registerHashChangeEventListener")}Te();var dc=function(a){function b(f){"function"!==typeof a.ga||"function"!==typeof a.ga.getAll?(v.push(f),-1===q&&(q=
l.safeTimeout(c,200))):(e(),ga(f))}function c(){if("function"===typeof a.ga&&"function"===typeof a.ga.getAll){e();for(var f=0;f<v.length;f++)b(v[f])}else r++,25>r&&(q=l.safeTimeout(c,200))}function e(){if(!m.createTrackingObject||!0!==u)for(var b=a.ga.getAll(),c=0;c<b.length;c++)if(b[c].b.data.values[":trackingId"]===m.trackingId){ga("create",m.trackingId);u=!0;break}}function f(a){var d={i:"Impression",c:"Clickthrough",d:"Dismissal"};return d[a]?d[a]:null}function h(a,d,b){var c="${campaignName} ${campaignId} ${experienceName} ${experienceId} ${userGroup} ${actionName} ${currentDate}".split(" ");
try{var e=a.match(new RegExp(/(\$\{[^\}]+\})/g));if(null==e)return a;if(null==d&&A(b))1===e.length&&(a=a.replace(e[0],b));else if(null!==d)for(b=0;b<e.length;b++){var f=e[b],g=null;if("${currentDate}"===f){var t=new Date,p=t.getDate(),k=t.getMonth()+1,m=t.getFullYear();10>p&&(p="0"+p);10>k&&(k="0"+k);g=m+""+k+""+p;a=a.replace(f,g)}else if(-1!==ajq.inArray(f,c)){var n=f.slice(2,-1),g=d[n];"userGroup"===n&&"string"===typeof g&&(g="Control"!==g?"Test":"Control");a=a.replace(f,g)}else a=a.replace(f,"")}}catch(l){K(l,
"ga-replaceDynamicEventVariables")}return a}function g(a,d){try{var b=d.googleAnalyticsConfig,c,e;switch(b.bucketType){case "Dimension":c="dimension"+b.dimensionIndex;e=b.dimensionValue;break;case "Metric":c="metric"+b.metricIndex,e=b.metricValue}var f=h(e,d);c&&e&&null!==f&&(a[c]=f)}catch(t){K(t,"ga-addCustomDimensionOrMetricToEvent")}}function k(a,d){var b=null;switch(a){case "Impression":A(d.statTypeImpressionFormat)&&(b=d.statTypeImpressionFormat);break;case "Clickthrough":A(d.statTypeClickthroughFormat)&&
(b=d.statTypeClickthroughFormat);break;case "Dismissal":A(d.statTypeDismissalFormat)&&(b=d.statTypeDismissalFormat)}return b?b:a}var m=null,n=!1,y=null,u=!1,v=[],q=-1,r=0;return{init:function(a){"object"===typeof a&&a.enabled&&(m=a,m.prependCommandsWithTrackerName&&A(m.trackerName)&&""!==m.trackerName&&(y=m.trackerName),n=!0)},isInitialized:function(){return null!=m&&n},handleActionEvent:function(a,d,c,e){if(m&&m.actionEventOptions.enabled){c=m.actionEventOptions;e=!1;for(var f=0;f<d.length;f++)".pv"===
d[f].name&&(e=!0);var g={hitType:"event",nonInteraction:1,eventCategory:"Action",eventAction:e?"PageLoad":"Action"};if(A(a)){g.eventLabel=a;A(c.categoryFormat)&&(g.eventCategory=c.categoryFormat);e&&A(c.pageLoadActionFormat)&&(g.eventAction=c.pageLoadActionFormat);!e&&A(c.pageActionFormat)&&(g.eventAction=c.pageActionFormat);d=null;A(c.labelFormat)&&(d=h(c.labelFormat,null,a),A(d)&&(g.eventLabel=d));var p=null!=y?y+".send":"send";b(function(){ga(p,g)})}}},handleCampaignEvent:function(a,d,c){try{if(m&&
m.campaignEventOptions.enabled){var e=c.googleAnalyticsConfig||{};if("object"!==typeof e||e.trackingEnabled||"allCampaigns"===m.campaignEventOptions.trackingLevel){var p=f(d),n={hitType:"event",nonInteraction:1,eventCategory:"Experience",eventAction:p,eventLabel:c.campaignName+" ["+c.experienceName+"]"};d=a=null;"object"===typeof e&&e.overrideEventConfigDefaults?(d=k(p,e),a={eventCategory:e.categoryFormat,eventAction:d,eventLabel:e.labelFormat}):(d=k(p,m.campaignEventOptions),a={eventCategory:m.campaignEventOptions.categoryFormat,
eventAction:d,eventLabel:m.campaignEventOptions.labelFormat});if(null!=a)for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];null!=u&&(u=h(u,c),A(u)&&(n[l]=u))}e&&e.bucketsEnabled&&g(n,c);var v=null!=y?y+".send":"send";b(function(){ga(v,n)})}}}catch(q){}}}}(window),Be=["'",'"'],Bf={validateCreditCard:function(a,b){var c,e,f,h,g,k,m,n,l,u,y,v=[].indexOf||function(a){for(var d=0,b=this.length;d<b;d++)if(d in this&&this[d]===a)return d;return-1};f=[{name:"amex",pattern:/^3[47]/,valid_length:[15]},{name:"diners_club_carte_blanche",
pattern:/^30[0-5]/,valid_length:[14]},{name:"diners_club_international",pattern:/^36/,valid_length:[14]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16]},{name:"visa",pattern:/^4/,valid_length:[13,14,15,16,17,18,19]},{name:"mastercard",pattern:/^(5[1-5]|2[3-6]|22[3-9]|222[1-9]|27[0-1]|2720)/,valid_length:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,
valid_length:[12,13,14,15,16,17,18,19]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16]},{name:"dankort",pattern:/^5019/,valid_length:[16]},{name:"uatp",pattern:/^1/,valid_length:[15]}];null==b&&(b={});null==b.accept&&(b.accept=function(){var a,d,b;b=[];a=0;for(d=f.length;a<d;a++)c=f[a],b.push(c.name);return b}());y=b.accept;l=0;for(u=y.length;l<u;l++)if(e=y[l],0>v.call(function(){var a,d,b;b=[];a=0;for(d=f.length;a<d;a++)c=
f[a],b.push(c.name);return b}(),e))throw"Credit card type '"+e+"' is not supported";h=function(a){var d,h,g,k;k=[];d=0;for(h=f.length;d<h;d++)c=f[d],(g=c.name,0<=v.call(b.accept,g))&&k.push(c);d=0;for(h=k.length;d<h;d++)if(e=k[d],a.match(e.pattern))return e;return null};k=function(a){var d,b,c,e,f;b=0;f=a.split("").reverse();d=c=0;for(e=f.length;c<e;d=++c)a=f[d],a=+a,d%2?(a*=2,b=10>a?b+a:b+(a-9)):b+=a;return 0===b%10};g=function(a,d){var b;return b=a.length,0<=v.call(d.valid_length,b)};n=function(a){var d,
b;e=h(a);d=b=!1;null!=e&&(b=k(a),d=g(a,e));return{card_type:e,luhn_valid:b,length_valid:d}};m=function(a){return a.replace(/[ -]/g,"")};return function(){var b;b=m(a);return n(b)}(a)}};return{Scope:{Request:"request",Page:"page",Visit:"visit"},ExperienceJS:{DelayImpression:"DelayImpression"},executePageConfiguration:jd,executePageConfigurationWithoutPageLoadAction:Ue,removePageActionListeners:ef,removeAllListeners:Gc,removeCustomEventListeners:function(){qb=[];ub=[];Pb=[];Vb=[]},getCustomEventListeners:function(){return{actionListeners:qb,
experienceListeners:ub,campaignResponseListeners:Pb,displayMessageRetryListeners:Vb}},cancelAllPendingMessages:Zc,getVersion:function(){return 10},registerSiteConfigExecution:function(){ajq(document).ready(Hc)},displayMessageBundle:function(a,b,c){a=ajq.extend({},a,{rulesByType:sc(a.rules||[])});Ka(a,b,c)},displaySiteConfigMessages:Sc,displayMessagesFromTwoWayResponse:ie,sendStoredRequests:Gd,logRequest:Nd,hideAllMessages:pc,hideMessage:ne,hideBundle:Ga,destroyMessage:function(a,b){var c=wa(a);if(0===
c.length)b&&b(!1);else{var e=Qa[a];e&&b&&(e.destroyCallback=function(){b(!0)});c.qtip("hide");c.qtip("destroy");!e&&b&&b(!0)}},setDebug:function(a){!0===a&&this.setLoggingLevel("TRACE")},setOption:function(a,b){var c={};c[a]=b;mf(c)},setOptions:mf,setAffinityId:function(a){if(A(a)&&/^[0-9a-zA-Z]{1,3}$/.exec(a)){var b=Na();b.affinityId=a;ec(b)}},setAnonymousId:function(a){if(A(a)&&/^[-_0-9a-zA-Z]{8,48}$/.exec(a)){var b=Na();b.uuid=a.toLowerCase();ec(b)}},getAnonymousId:function(){return Na().uuid},
getVisitorId:function(){return Na().uuid},getVisitorInfo:function(){return Na()},setTrackerUrl:function(a){na=a},getTrackerUrl:function(){return na},setCdnHost:function(a){kb=a},getCdnHost:function(){return kb},setTwoWayEnabled:function(a){},getTwoWayEnabled:function(){return Mc},getConfigReceiverPath:function(){return"/jsreceiver"},setAccount:function(a){Z!==a&&(Z=a,q())},setApptegicAccount:function(a){Z!==a&&(Z=a,q())},setEvergageAccount:function(a){Z!==a&&(Z=a,q())},getAccount:function(){return Z},
getApptegicAccount:function(){return Z},getEvergageAccount:function(){return Z},setUser:function(a){ea("userId",a,l.Scope.Visit)},getUser:function(){return fb("userId")},setUserId:function(a){ea("userId",a,l.Scope.Visit)},getUserId:function(){return fb("userId")},setAccountId:function(a){ea("company",a,l.Scope.Visit)},getAccountId:function(){return fb("company")},setLoggingLevel:function(a){null===Pd()&&ajq.log.setLoggingLevel(a)},processLoggingLevelSettings:function(){Pd();ajq.log.flushStoredMessages()},
setPerformanceTestLevel:function(a){null==Rd()&&ajq.log.setPerformanceTestLevel(a)},processPerformanceTestLevelSettings:function(){Rd()},setEncryptedUser:function(a){ea("_e",a,l.Scope.Page)},setEncryptedFields:function(a){ea("_ef",a,l.Scope.Request)},setCompany:function(a){ea("company",a,l.Scope.Visit)},setAccountType:function(a){ea("accountType",a,l.Scope.Page)},setDataset:function(a){ma!==a&&(ma=a,q())},getDataset:function(){return ma},setTrackAnonymous:function(a){w.trackAnonymous=a},getTrackAnonymous:function(){return w.trackAnonymous},
setUseSiteConfig:function(a){w.useSiteConfig=a;c()},getUseSiteConfig:function(){return w.useSiteConfig},setTrackUnknownPages:function(a){w.trackUnknownPages=a},getTrackUnknownPages:function(){return w.trackUnknownPages},setTrackMessageStats:function(a){w.trackMessageStats=a},getTrackMessageStats:function(){return w.trackMessageStats},setWaitOnPageLeave:function(a){"boolean"===typeof a&&(wd=a)},getWaitOnPageLeave:function(){return wd},setNotifyIntegratorOfEvents:function(a){w.notifyIntegratorOfEvents=
a},getNotifyIntegratorOfEvents:function(){return w.notifyIntegratorOfEvents},sendEvent:function(a,b){return ta(a,{},b)},getCurrentUrl:fa,shouldTreatHashChangeAsPageLoad:function(){return w.treatHashChangeAsPageLoad},setCustomData:function(a,b){k(a)?w.customFields=a:(w.customFields||(w.customFields=[]),w.customFields[a]=b)},getCustomData:function(){return w.customFields},setCustomVariable:function(a,b,c){this.setCustomField(a,b,c)},setCustomField:ea,setCustomFields:function(a,b){if(null==a||"object"!==
typeof a)return!1;x(b)||(b=l.Scope.Request);aa(a,function(a,d){a=ajq.trim(a);""!==a&&0!==a.indexOf("_")&&0!==a.indexOf(".")&&ea(a,d,b)});return!0},setUserField:function(a,b,c){ea(a,b,c,"userId")},setAccountField:function(a,b,c){ea(a,b,c,"company")},saveCustomVariables:Oa,resetCustomFields:Td,resetCustomVariables:Td,getCustomField:fb,getCustomVariable:fb,deleteCustomField:Lc,deleteCustomVariable:Lc,setLinkTrackingTimer:function(a){a&&500<=a&&(w.trackerDelay=a)},setDownloadExtensions:function(a){w.downloadExtensions=
a},addDownloadExtensions:function(a){w.downloadExtensions||(w.downloadExtensions="");w.downloadExtensions+="|"+a},setRunningInMobileApp:function(a){try{"boolean"===typeof a&&(w.runningInMobileApp=a)}catch(b){K(b,"setRunningInMobileApp")}},getRunningInMobileApp:function(){return w.runningInMobileApp},setTrafficSourceIndex:function(a){try{var b=null,b=A(a)?parseInt(a):a;P(b)&&(w.trafficSourceIndex=b)}catch(c){K(c,"setTrafficSourceIndex")}},getTrafficSourceIndex:function(){return w.trafficSourceIndex},
setTestModeEnabledForPageLoad:function(a){try{if("boolean"===typeof a||"string"===typeof a)w.testModeEnabledForPageLoad=a}catch(b){K(b,"setTestModeEnabledForPageLoad")}},setDisableCampaignStatTracking:function(a){try{"boolean"===typeof a&&(w.disableCampaignStatTracking=a)}catch(b){K(b,"setDisableCampaignStatTracking")}},setDomains:function(a){w.hostsAlias=A(a)?[a]:a;w.hostsAlias.push(Mb)},setIgnoreClasses:function(a){w.ignoreClasses=A(a)?[a]:a},setRequestMethod:function(a){},setReferrerUrl:function(a){w.referrerUrl=
a},setCustomUrl:function(a){var b=Cg;if(!y(a).protocol)if("/"===a.slice(0,1))b=y(b),a=b.protocol+"://"+b.host+(b.port?":"+b.port:"")+a;else{var b=ac(b),c;0<=(c=b.indexOf("?"))&&(b=b.slice(0,c));(c=b.lastIndexOf("/"))!==b.length-1&&(b=b.slice(0,c+1));a=b+a}w.pageUrl=a},setDocumentTitle:function(a){w.pageTitle=a},setClientIp:function(a){var b;a:{if("string"===typeof a&&(b=a.split("."),4==b.length)){for(var c=0;4>c;c++){var e=parseInt(b[c]);if(0>e||255<e){b=!1;break a}}if(4==c){b=!0;break a}}b=!1}return b?
(w.clientIp=a,!0):!1},setDownloadClasses:function(a){w.downloadClasses=A(a)?[a]:a},setLinkClasses:function(a){w.linkClasses=A(a)?[a]:a},setMessageLinkDecorator:function(a){C(a)&&(w.messageLinkDecorator=a)},discardHashTag:function(a){w.discardHashTag=a},setTreatHashChangeAsPageLoad:function(a){w.treatHashChangeAsPageLoad=a},setCookieNamePrefix:function(a){w.cookieNamePrefix!==a&&(w.cookieNamePrefix=a,q())},setCookieDomain:function(a){a=Ac(a);w.cookieDomain!==a&&(w.cookieDomain=a,q())},setCookiePath:function(a){w.cookiePath!==
a&&(w.cookiePath=a,q())},getCookieName:function(a){"string"!==typeof a&&(a="id");return oa(a)},setVisitorCookieTimeout:function(a){S.visitor.timeoutMillis=1E3*a},setSessionCookieTimeout:function(a){S.session.timeoutMillis=1E3*a},setDoNotTrack:function(a){w.doNotTrack=a&&navigator.doNotTrack},addListener:function(a,b){de(a,b)},enableLinkTracking:function(a){mb?ee(a):Jc.push(function(){ee(a)})},trackLink:function(a,b,c){Yd(a,b,c)},trackAction:function(a,b,c,e){a=a||w.pageTitle;ta(a,b,c,e)},trackEvergageMessageForm:function(a,
b,c){a.stopImmediatePropagation();a.preventDefault();var e=ajq(a.target).closest("form");if(0!==e.length){var f=e.attr("name");if(null!==f&&""!==f){var h=e.serializeArray(),h=h.concat(ug(e));"input"==ajq(a.target).get(0).tagName.toLowerCase()&&"submit"==ajq(a.target).attr("type").toLowerCase()&&""!==ajq(a.target).attr("name")&&""!==ajq(a.target).attr("value")&&h.push({name:ajq(a.target).attr("name"),value:ajq(a.target).attr("value")});for(a=0;a<h.length;a++)"userId"==h[a].name||"company"==h[a].name?
(ea(h[a].name,h[a].value,l.Scope.Visit),Oa()):ea(h[a].name,h[a].value,l.Scope.Request);b||ne(e,c);c?ta(f,{},!0,!1):setTimeout(function(){ta(f,{},!0,!1)},100)}}},setShowPoweredBy:function(a){!0===a&&(bd=!0)},retrieveMessages:function(a,b){if(!0!==D.minimalEventTracking&&!0!==D.editModeVisualEditor){var c=[];L(c,"_ne");a||!0!==w.trackUnknownPages||(a=Ib(Hb()));a&&L(c,"action",a);pb(c,b);L(c,"url",Fb(fa()));L(c,"title",Ib(Hb()));hc();c=ob(c);Gb(c)}},trackMessageStat:function(){},addExperienceListener:function(a){"function"===
typeof a&&ub.push(a)},addActionListener:function(a){"function"===typeof a&&qb.push(a)},addDisplayMessageRetryListener:function(a){"function"===typeof a&&Vb.push(a)},addCampaignResponseListener:function(a){"function"===typeof a&&Pb.push(a)},init:n,initEvergageTrackerUrl:ba,testing:function(){return"undefined"!==typeof EvergageUnitTestingMode&&!0===EvergageUnitTestingMode?(Lb=!0,{extendSessionTimeoutAndReloadVisitData:$b,getLocalStorageKey:ka,getLocalUserInfo:function(){return ab},matchesAttributeCondition:Tc,
options:w,persistUserInfo:ge,storageInfo:S,writeLocalStorage:ca,combineDuplicateForms:Ve,parseLaxJson:fd,formatMoney:Ae,renderItemHtml:ed,renderItemBlock:xe,parseItemBlockSettings:ye,handleTwoWayResponse:Od}):{}},findOrCreateInsertionTarget:re,removeBeaconAndListenersFromPage:function(){void 0!==window.Evergage&&(Ia(),qc(),pc(),Gc(),clearTimeout(Yb),Yb=-1,window.Evergage=window.ajq=window._aaq=window._aaqi=window.Apptegic=window.ApptegicTwoWay=window.evergageJSON=window.evergageLog=void 0)},haltAllLoadingAndTracking:function(){Xa=
!0},handleUpdatedSiteConfig:Se,namePage:function(a){if(!g(a)&&"string"===typeof a){var b={};!ajq.isEmptyObject(D)&&yc(b,!1)?(a=Re(D)||a,b[".pv"]="",Ua=a,$e(b),ta(a,b),M.hasBeenFired=!0):M.actionName=a}},sha1:e,removeCookie:W,setCurrentPageLocale:function(a){gc=a},viewItem:function(b,c,e){md();ia=b;jb=e;v();Aa="View Item";M.hasBeenFired&&(c=c||{},b={".item":evergageJSON.stringify(b)},"object"===typeof e&&(b[".itemSku"]=evergageJSON.stringify(e)),a.push(["trackAction","View Item",b,c.clickEvent]))},
stopViewingItem:function(){Aa=ia=null;md()},viewItemDetail:function(b,c,e){ia=b;jb=e;v();Aa="View Item Detail";M.hasBeenFired&&(c=c||{},b={".item":evergageJSON.stringify(b)},"object"===typeof e&&(b[".itemSku"]=evergageJSON.stringify(e)),a.push(["trackAction","View Item Detail",b,c.clickEvent]))},viewCategory:function(b,c){ia=b;Aa="View Category";M.hasBeenFired&&(c=c||{},a.push(["trackAction","View Category",{".item":evergageJSON.stringify(b)},c.clickEvent]))},viewTag:function(b,c){ia=b;Aa="View Tag";
M.hasBeenFired&&(c=c||{},a.push(["trackAction","View Tag",{".item":evergageJSON.stringify(b)},c.clickEvent]))},addToCart:function(b,c,e){e=e||{};a.push(["trackAction","Add To Cart",{".lineItem":evergageJSON.stringify(nf(b)),".order":evergageJSON.stringify(c)},e.clickEvent])},viewCart:function(b,c){c=c||{};a.push(["trackAction","View Cart",{".order":evergageJSON.stringify(b)},c.clickEvent])},purchase:function(b,c){c=c||{};b.lineitems&&(b.lineItems=b.lineitems,delete b.lineitems);a.push(["trackAction",
"Purchase",{".order":evergageJSON.stringify(Bg(b))},c.clickEvent])},review:function(b,c,e){e=e||{};a.push(["trackAction","Review",{".item":evergageJSON.stringify(Zb(b)),".review":evergageJSON.stringify(c)},e.clickEvent])},share:function(b,c){c=c||{};a.push(["trackAction","Share",{".item":evergageJSON.stringify(Zb(b))},c.clickEvent])},comment:function(b,c){c=c||{};a.push(["trackAction","Comment",{".item":evergageJSON.stringify(Zb(b))},c.clickEvent])},favorite:function(b,c){c=c||{};a.push(["trackAction",
"Favorite",{".item":evergageJSON.stringify(Zb(b))},c.clickEvent])},ItemType:fc,detectFormField:ff,detectFormFields:pd,sendFormEvent:function(a,b,c){var e=null;x(c)||(c=500);for(var f=0;f<Xb.length;f++)V(Xb[f].match).get(0)===a&&(e=Xb[f]);if(null==e)return!1;pd(e);e.name&&(!1===b?ta(e.name):gf(e.name,{},c))},sendActionEventOnNextPage:gf,hideSections:function(){if(!w.runningInMobileApp&&!0!==cc){var a="";if(!(0===arguments.length||x(D)&&D.minimalEventTracking)){for(var b=0;b<arguments.length;b++)if("string"===
typeof arguments[b])try{"body"!==arguments[b]&&"html"!==arguments[b]&&(document.querySelector(arguments[b]),""!==a&&(a+=", "),a+=arguments[b])}catch(c){Oc(c,"hideSectionsInvalidCSSSelector")}if(""!==a){var a=a+" { visibility: hidden !important; }",b=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css";e.setAttribute("class","evergagePersonalizationSections");e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a));a=2500;
P(arguments[arguments.length-1])&&(a=arguments[arguments.length-1]);clearTimeout(La);La=setTimeout(function(){rc=!0;Ia()},a);b.appendChild(e);cc=!0}}}},hidePages:function(){if(!(w.runningInMobileApp||!0===Xc||0===arguments.length||x(D)&&D.minimalEventTracking))for(var a=arguments[arguments.length-1],b=0;b<arguments.length;b++){var c=!1,e=arguments[b];if("object"===typeof e&&(e=Ag(e.pageUrlCampaignRule),e.inclusions.exists&&e.pathIsExactly.exists&&(c=e.inclusions.matched&&e.pathIsExactly.matched),
!e.inclusions.exists&&e.pathIsExactly.exists?c=e.pathIsExactly.matched:e.inclusions.exists&&!e.pathIsExactly.exists&&(c=e.inclusions.matched),e.exclusions.matched&&(c=!1),c)){xg(a);break}}},findAndMovePageTopOrBottomElements:function(a,b){var c=[],e=[],f=[],h=ajq("*").not("#apptegicMessageContainerForToolbarEnabledPages").not("#evergageMessageContainerForTestMode").not(".context-menu-list.aptb.context-menu-root").not("#context-menu-layer").not(".apptegic-field-tooltip").not(".apptegic-click-tooltip").not("#evergage-tooltip-amb_TEST_").not("[id^\x3devergage-tooltip-amb]").not(".evergage-tribes *"),
g=!1;if(!0===ajq.browser.chrome){var k=parseInt(ajq.browser.version);k&&P(k)&&(g=51<=k)}for(k=0;k<h.length;k++){var m=h.get(k),n;if((n="auto"!=ajq(m).css(a)&&-1==ajq(m).css(a).indexOf("%"))&&!(n="fixed"==ajq(m).css("position"))){n=m;var l=a;n="absolute"==ajq(n).css("position")&&null!=ajq(n).parent().get(0).tagName&&"body"==ajq(n).parent().get(0).tagName.toLowerCase()&&"0px"==ajq(n).css(l)}if(n){if("bottom"===a&&(!0===ajq.browser.mozilla||g)&&(n=parseFloat(ajq(m).css(a)),isNaN(n)||n>b+10||0>n))continue;
"top"==a&&null==m.originalTopValue&&"none"!=ajq(m).css("display")&&(m.originalTopValue=xa(ajq(m).css(a)));"bottom"==a&&null==m.originalBottomValue&&"none"!=ajq(m).css("display")&&(m.originalBottomValue=xa(ajq(m).css(a)));"top"==a?c.push(m):e.push(m)}if(n="none"!=ajq(m).css("background-image")&&"inherit"!=ajq(m).css("background-image"))n=m,(n="fixed"==ajq(n).css("background-attachment")&&null!=Ra(n)&&hd(Ra(n),"px"))||(n=m,n="body"==ajq(n).get(0).tagName.toLowerCase()&&null!=Ra(n)&&(hd(Ra(n),"px")||
"0%"==Ra(n)));n&&(null==m.originalBackgroundPositionYValue&&(m.originalBackgroundPositionYValue=xa(Ra(m))),f.push(m))}for(h=0;h<("top"==a?c.length:e.length);h++)g="top"==a?c[h]:e[h],"none"!=ajq(g).css("display")&&("top"==a&&(null==g.originalTopValue&&(g.originalTopValue=xa(ajq(g).css(a))),g.originalTopValue>b+xa(ajq(g).css(a))?ajq(g).css(a,g.originalTopValue):ajq(g).css(a,b+xa(ajq(g).css(a)))),"bottom"==a&&(null==g.originalBottomValue&&(g.originalBottomValue=xa(ajq(g).css(a))),g.originalBottomValue>
b+xa(ajq(g).css(a))?ajq(g).css(a,g.originalBottomValue):ajq(g).css(a,b+xa(ajq(g).css(a)))));for(h=0;h<f.length;h++)g=f[h],"none"!=ajq(g).css("display")&&"top"==a&&(null==g.originalBackgroundPositionYValue&&(g.originalBackgroundPositionYValue=xa(Ra(g))),g.originalBackgroundPositionYValue>b+xa(Ra(g))?He(g,g.originalBackgroundPositionYValue.toString()+"px"):He(g,(b+xa(Ra(g))).toString()+"px"))},setMessageAsDisplayedForReshowPersonalizationSections:function(a){if(0!==Ja.length){for(var b=0;b<Ja.length;b++)if("amb"+
Ja[b]===a){Ja.splice(b,1);break}0===Ja.length&&(clearTimeout(La),Ma=!1,Ya())}},matchesPageCssSelectorRule:Yc,buildRulesByType:sc,detectPageName:Re,trackClickthrough:function(a,b){try{if("string"===typeof a){var c=Qa[a];"object"===typeof c&&Nb(c,b)}else if("object"===typeof a)if(a.id&&a.experienceId)Nb(a,b);else{var e=ajq(a).closest(".evergage-tooltip.evergage-qtip");if(1===e.length){var f=e.qtip("api");f&&f.options&&f.options.bundle&&Nb(f.options.bundle,b)}}}catch(h){K(h,"trackClickthrough")}},personalizedContentHideTimedOut:function(){rc=
!0},personalizedSectionsHaveBeenHidden:function(){cc=!0},getDisabledQtipWindowScroll:function(){return w.disableQtipWindowScroll},getUserIdRestApiParams:function(){var a={};a.userId=O.userId||Da.userId||ua.userId;if(!a.userId){var b=O._persistedUserId;b&&(a.persistedUserId=b)}a.userId||a.persistedUserId||!w.trackAnonymous||(a.anonymous=!0,b=Na(),a.userId=b.uuid,b.affinityId&&(a.affinityId=b.affinityId));return a},safeBlur:function(a,b,c){return Y(a,b,c,"blur")},safeChange:function(a,b,c){return Y(a,
b,c,"change")},safeClick:function(a,b,c){return Y(a,b,c,"click")},safeDblclick:function(a,b,c){return Y(a,b,c,"dblclick")},safeFocus:function(a,b,c){return Y(a,b,c,"focus")},safeFocusin:function(a,b,c){return Y(a,b,c,"focusin")},safeFocusout:function(a,b,c){return Y(a,b,c,"focusout")},safeHover:function(a,b,c){return Y(a,b,c,"hover")},safeKeydown:function(a,b,c){return Y(a,b,c,"keydown")},safeKeypress:function(a,b,c){return Y(a,b,c,"keypress")},safeKeyup:function(a,b,c){return Y(a,b,c,"keyup")},safeLoad:function(a,
b,c){return Y(a,b,c,"load")},safeMousedown:function(a,b,c){return Y(a,b,c,"mousedown")},safeMouseenter:function(a,b,c){return Y(a,b,c,"mouseenter")},safeMouseleave:function(a,b,c){return Y(a,b,c,"mouseleave")},safeMousemove:function(a,b,c){return Y(a,b,c,"mousemove")},safeMouseout:function(a,b,c){return Y(a,b,c,"mouseout")},safeMouseover:function(a,b,c){return Y(a,b,c,"mouseover")},safeReady:function(a,b,c){return Y(a,b,c,"ready")},safeResize:function(a,b,c){return Y(a,b,c,"resize")},safeScroll:function(a,
b,c){return Y(a,b,c,"scroll")},safeSelect:function(a,b,c){return Y(a,b,c,"select")},safeSubmit:function(a,b,c){return Y(a,b,c,"submit")},safeTouchstart:function(a,b,c){return Y(a,b,c,"touchstart")},safeTouchmove:function(a,b,c){return Y(a,b,c,"touchmove")},safeTouchend:function(a,b,c){return Y(a,b,c,"touchend")},safeTouchCancel:function(a,b,c){return Y(a,b,c,"touchcancel")},safeTimeout:function(a,b){return Y(b,a,"timeout")},safeInterval:function(a,b){return Y(b,a,"interval")},buildAccountParameterIfNecessary:nc,
buildUserParams:Ad,safeBind:Y,clearUser:function(){O&&(delete O.userId,delete O._userIdHash,delete O._userIdHashSalt,delete O._persistedUserId,Oa());Da&&delete Da.userId;ua&&delete ua.userId;of()},clearCompany:of,logException:Oc,sendException:K,setCampaignDisplayDisabled:function(a){he=a},util:{getMetaContent:function(a){a=ajq("meta[name\x3d'"+a+"']:first");return 0<a.length?ajq.trim(ajq("\x3cdiv/\x3e").html(a.attr("content")).text()):null},getOpenGraphContent:function(a){a=ajq("meta[property\x3d'og:"+
a+"']:first");return 0<a.length?ajq.trim(a.attr("content")):null},getItemProp:function(a){a=ajq("[itemprop\x3d'"+a+"']:first");if(0<a.length){var b=ajq.trim(a.text());b||(b=ajq.trim(a.attr("content")));return b}return null},getCurrencyValue:function(a){return a&&"string"===typeof a?(a=parseFloat(ajq.trim(a).replace(/[^0-9\.]+/g,"")),isNaN(a)?null:a):null},getParameterByName:function(a,b){"undefined"===typeof b&&(b=location.search);a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=(new RegExp("[\\?\x26]"+
a+"\x3d([^\x26#]*)")).exec(b);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},getPathnameFromLocation:ud,getPathname:pf,extractFirstGroup:qf,getLastPathComponent:rf,qualifyUrl:sf,removeQueryString:function(a){if(!a)return"";var b=document.createElement("a");b.href=a;a=ud(b);"/"!==a.charAt(0)&&(a="/"+b.pathname);return[b.protocol,"//","http:"===b.protocol&&"80"===b.port||"https:"===b.protocol&&"443"===b.port?b.hostname:b.host,a].join("")},getThisPageCanonicalUrl:function(){return ajq("link[rel\x3dcanonical]").attr("href")},
getLastPathComponentWithoutExtension:function(a){a=rf(sf(a));var b=a.lastIndexOf(".");return 0<=b?a.substring(0,b):a},getAllTextBetween:function(a,b){var c=ajq(a)[0],e=ajq(b)[0];if(null==e)return"";for(var f="";c!=e;){if(null==c)return"";3==c.nodeType?f+=c.nodeValue||"":1==c.nodeType&&(f+=ajq(c).text());c=c.nextSibling}return ajq.trim(f)},getCurrentPageItem:function(){return ia},setCurrentPageItem:function(a){ia=a},getCurrentPageLoadAction:function(){return Ua},setCurrentPageLoadAction:function(a){Ze(a)},
runWhenReady:function(a,b,c,e){function f(){try{!0===a()?b():(h++,h<=e&&l.safeTimeout(f,c))}catch(g){K(g,"runWhenReady")}}null==c&&(c=500);null==e&&(e=10);var h=0;f()}},haltPageLoadEvent:af,sendPageLoadEventWhenTrue:function(a,b){if(!0===M.hasBeenFired||"function"!==typeof a||"number"!==typeof b||isNaN(parseInt(b)))return!1;af();M.maxTimeout=b;M.timerStart=(new Date).getTime();M.timeoutDuration=100;bf(a,!0)},hasPageLoadEventBeenFired:function(){return M.hasBeenFired},parseLaxJson:fd,renderItemHtml:ed}}();
window.Evergage=l;window.Apptegic=l;window.ApptegicTwoWay=l;(function(){function B(){return{push:G}}function G(a,c){if(2<arguments.length||2==arguments.length&&null!=arguments[1]&&"[object Array]"===Object.prototype.toString.call(arguments[1])){for(var f=!0,h=0;h<arguments.length;h++)f=f&&G(arguments[h]);return f}f=function(a){this.name="Bad Syntax";this.message=a};f.prototype.toString=function(){return"["+(this.name||"unknown")+"] "+(this.message||"no description")};if(!a||"[object Array]"!==Object.prototype.toString.call(a))throw new f("Evergage: [ERROR] - Bad Syntax - item in _aaq array ["+
a+"] must be an array.");if(0===a.length)throw new f("Evergage: [ERROR] - Bad Syntax - array in _aaq array must contain at least one item.");var m=[];"priorityInitFunctions"==c?m="setEvergageAccount setApptegicAccount setAccount setDataset setOption setOptions setCookieDomain setCookiePath setCookieNamePrefix setTrackerUrl setCdnHost".split(" "):"loggingFunctions"==c&&(m=["setLoggingLevel"]);f=a[0];h=1<a.length?a.slice(1):[];if("string"===typeof f||f instanceof String){if(0<m.length&&-1===ajq.inArray(f,
m))return!1;m=l[f]}else m=f;if("function"===typeof m)return null!==c&&ajq.log.storeLogMessageUntilLogSettingsAreParsed("INFO","Evergage: Executing API function ["+f+"("+h+")]..."),m.apply(l,h),!0;null!==c&&ajq.log.storeLogMessageUntilLogSettingsAreParsed("ERROR","Evergage: [ERROR] - Unknown API function ["+f+"] in _aaq array.");return!1}if("undefined"!==typeof ajq){var n;for(n=0;n<a.length;n++)G(a[n],"priorityInitFunctions")&&(a.splice(n,1),n--);for(n=0;n<a.length;n++)G(a[n],"loggingFunctions")&&
(a.splice(n,1),n--);if("object"==typeof window._aaqi)for(n=0;n<window._aaqi.length;n++)G(window._aaqi[n],null);l.processLoggingLevelSettings();l.processPerformanceTestLevelSettings();l.initEvergageTrackerUrl();for(n=0;n<a.length;n++)G(a[n],null);window._aaq=a=new B;window._aaqi=c=new B;"undefined"===typeof EvergageUnitTestingMode||!0!==EvergageUnitTestingMode?l.init():"function"===typeof window.evergageLoaded&&window.evergageLoaded(!0)}})();"undefined"!==typeof l&&l&&(l.cssLazyLoader=function(a,c){function n(a){var b=
document.createElement("link");b.href=a;b.rel="stylesheet";b.type="text/css";b.onload=function(){h[a]=!0;l(a)};b.onreadystatechange=function(){if("loaded"==this.readyState||"complete"==this.readyState)h[a]=!0,l(a)};document.getElementsByTagName("head")[0].appendChild(b)}function b(b){return setTimeout(function(){0!=a.length&&"undefined"!==typeof ajq&&l(b)},750)}function l(b){-1!=ajq.inArray(b,a)&&a.splice(ajq.inArray(b,a),1);0==a.length&&(!m&&Object.keys&&Object.keys(h),c&&c())}for(var f=[],h={},
m=!1,U=0;U<a.length;U++){var H=a[U];0<=H.indexOf("\x26timestamp\x3d")&&(m=!0);n(H);f.push(b(H))}return f})};window.evergageDelayedLoader=function(a){"number"!==typeof a&&(a=0);if("undefined"!==typeof jQuery&&"object"===typeof jQuery.fn&&"string"===typeof jQuery.fn.jquery)try{var c=jQuery.fn.jquery;if(1<parseInt(c)||0===c.indexOf("1.")&&7<=parseInt(c.substring(2)))window.evergageDisableAjqPsuedoDefinitions=7===parseInt(c.substring(2)),window.ajq=ajq=jQuery,window.evergageLoad(c)}catch(l){}else a++,
80>a?setTimeout(function(){window.evergageDelayedLoader(a)},2>a?25:100):"function"===typeof window.evergageLoaded&&window.evergageLoaded(!1)};window.evergageDelayedLoader(0);var evergageTribes=evergageTribes||{};evergageTribes.determineTotalHeightToAnimate=function(){try{var a=window.evergageTribes.initData.customCss.totalHeight;if("string"===typeof a){var c=parseInt(a);if(!isNaN(c)&&0<c)return c+65}}catch(l){}return 400};evergageTribes.determineTotalWidthToAnimate=function(){try{var a=window.evergageTribes.initData.customCss.totalWidth;
if("string"===typeof a){var c=parseInt(a);if(!isNaN(c)&&0<c)return c+65}}catch(l){}return 565};evergageTribes.css=function(a){var c;c='.eg-cleanslate, .eg-cleanslate h1, .eg-cleanslate h2, .eg-cleanslate h3, .eg-cleanslate h4, .eg-cleanslate h5, .eg-cleanslate h6,.eg-cleanslate p, .eg-cleanslate td, .eg-cleanslate dl, .eg-cleanslate tr, .eg-cleanslate dt, .eg-cleanslate ol,.eg-cleanslate form, .eg-cleanslate select, .eg-cleanslate option, .eg-cleanslate pre, .eg-cleanslate div,.eg-cleanslate table,  .eg-cleanslate th, .eg-cleanslate tbody, .eg-cleanslate tfoot, .eg-cleanslate caption,.eg-cleanslate thead, .eg-cleanslate ul, .eg-cleanslate li, .eg-cleanslate address, .eg-cleanslate blockquote,.eg-cleanslate dd, .eg-cleanslate fieldset, .eg-cleanslate li, .eg-cleanslate iframe, .eg-cleanslate strong,.eg-cleanslate legend, .eg-cleanslate em, .eg-cleanslate s, .eg-cleanslate cite, .eg-cleanslate span, .eg-cleanslate input,.eg-cleanslate sup, .eg-cleanslate label, .eg-cleanslate dfn, .eg-cleanslate object, .eg-cleanslate big, .eg-cleanslate q,.eg-cleanslate font, .eg-cleanslate samp, .eg-cleanslate acronym, .eg-cleanslate small, .eg-cleanslate img,.eg-cleanslate strike, .eg-cleanslate code, .eg-cleanslate sub, .eg-cleanslate ins, .eg-cleanslate textarea, .eg-cleanslate var,.eg-cleanslate a, .eg-cleanslate abbr, .eg-cleanslate applet, .eg-cleanslate del, .eg-cleanslate kbd, .eg-cleanslate tt,.eg-cleanslate b, .eg-cleanslate i, .eg-cleanslate hr,.eg-cleanslate article, .eg-cleanslate aside, .eg-cleanslate dialog, .eg-cleanslate figure, .eg-cleanslate footer,.eg-cleanslate header, .eg-cleanslate hgroup, .eg-cleanslate menu, .eg-cleanslate nav, .eg-cleanslate section,.eg-cleanslate time, .eg-cleanslate mark, .eg-cleanslate audio, .eg-cleanslate video {    background-attachment:scroll ;    background-color:transparent ;    background-image:none ;    background-position:0 0 ;    background-repeat:repeat ;    border-color:black ;    border-color:currentColor ;    border-radius:0 ;    border-style:none ;    border-width:medium ;    box-sizing:content-box ;    bottom:auto ;    clear:none ;    clip:auto ;    color:inherit ;    counter-increment:none ;    counter-reset:none ;    cursor:auto ;    direction:inherit ;    display:inline ;    float:none ;    font-family: inherit ;    font-size: inherit ;    font-style:inherit ;    font-variant:normal ;    font-weight:inherit ;    height:auto ;    left:auto ;    letter-spacing:normal ;    line-height:inherit ;    list-style-type: inherit ;    list-style-position: outside ;    list-style-image: none ;    margin:0 ;    max-height:none ;    max-width:none ;    min-height:0 ;    min-width:0 ;    opacity:1;    outline:invert none medium ;    overflow:visible ;    padding:0 ;    position:static ;    quotes: "" "" ;    right:auto ;    table-layout:auto ;    text-align:inherit ;    text-decoration:inherit ;    text-indent:0 ;    text-transform:none ;    top:auto ;    unicode-bidi:normal ;    vertical-align:baseline ;    visibility:inherit ;    white-space:normal ;    width:auto ;    word-spacing:normal ;    z-index:auto ;    -moz-border-radius:0 ;    -webkit-border-radius:0 ;    -moz-box-sizing: content-box ;    -webkit-box-sizing: content-box ;    box-sizing: content-box ;    text-shadow: none ;}';
c+=".eg-cleanslate, .eg-cleanslate h3, .eg-cleanslate h5, .eg-cleanslate p, .eg-cleanslate h1, .eg-cleanslate dl, .eg-cleanslate dt,.eg-cleanslate h6, .eg-cleanslate ol, .eg-cleanslate form, .eg-cleanslate select, .eg-cleanslate option, .eg-cleanslate pre,.eg-cleanslate div, .eg-cleanslate h2, .eg-cleanslate caption, .eg-cleanslate h4, .eg-cleanslate ul, .eg-cleanslate address,.eg-cleanslate blockquote, .eg-cleanslate dd, .eg-cleanslate fieldset, .eg-cleanslate textarea, .eg-cleanslate hr,.eg-cleanslate article, .eg-cleanslate aside, .eg-cleanslate dialog, .eg-cleanslate figure, .eg-cleanslate footer,.eg-cleanslate header, .eg-cleanslate hgroup, .eg-cleanslate menu, .eg-cleanslate nav, .eg-cleanslate section {    display:block ;}.eg-cleanslate table {    display: table ;}.eg-cleanslate thead {    display: table-header-group ;}.eg-cleanslate tbody {    display: table-row-group ;}.eg-cleanslate tfoot {    display: table-footer-group ;}.eg-cleanslate tr {    display: table-row ;}.eg-cleanslate th, .eg-cleanslate td {     display: table-cell ;}";
c+='.eg-cleanslate nav ul, .eg-cleanslate nav ol {    list-style-type:none ;}.eg-cleanslate ul, .eg-cleanslate menu {    list-style-type:disc ;}.eg-cleanslate ol {    list-style-type:decimal ;}.eg-cleanslate ol ul, .eg-cleanslate ul ul, .eg-cleanslate menu ul, .eg-cleanslate ol menu, .eg-cleanslate ul menu, .eg-cleanslate menu menu {    list-style-type:circle ;}.eg-cleanslate ol ol ul, .eg-cleanslate ol ul ul, .eg-cleanslate ol menu ul, .eg-cleanslate ol ol menu, .eg-cleanslate ol ul menu,.eg-cleanslate ol menu menu, .eg-cleanslate ul ol ul, .eg-cleanslate ul ul ul, .eg-cleanslate ul menu ul, .eg-cleanslate ul ol menu,.eg-cleanslate ul ul menu, .eg-cleanslate ul menu menu, .eg-cleanslate menu ol ul, .eg-cleanslate menu ul ul, .eg-cleanslate menu menu ul,.eg-cleanslate menu ol menu, .eg-cleanslate menu ul menu, .eg-cleanslate menu menu menu {    list-style-type:square ;}.eg-cleanslate li {    display:list-item ;        min-height:auto ;    min-width:auto ;}.eg-cleanslate strong {    font-weight:bold ;}.eg-cleanslate em {    font-style:italic ;}.eg-cleanslate kbd, .eg-cleanslate samp, .eg-cleanslate code {    font-family:monospace ;}.eg-cleanslate a, .eg-cleanslate a *, .eg-cleanslate input[type\x3dsubmit], .eg-cleanslate input[type\x3dradio],.eg-cleanslate input[type\x3dcheckbox], .eg-cleanslate select {    cursor:pointer ;}.eg-cleanslate a:hover {    text-decoration:underline ;}.eg-cleanslate button, .eg-cleanslate input[type\x3dsubmit] {    text-align: center ;}.eg-cleanslate input[type\x3dhidden] {    display:none ;}.eg-cleanslate abbr[title], .eg-cleanslate acronym[title], .eg-cleanslate dfn[title] {    cursor:help ;    border-bottom-width:1px ;    border-bottom-style:dotted ;}.eg-cleanslate ins {    background-color:#ff9 ;    color:black ;}.eg-cleanslate del {    text-decoration: line-through ;}.eg-cleanslate blockquote, .eg-cleanslate q  {    quotes:none ;}.eg-cleanslate blockquote:before, .eg-cleanslate blockquote:after, .eg-cleanslate q:before, .eg-cleanslate q:after,.eg-cleanslate li:before, .eg-cleanslate li:after  {    content:"" ;\x3d\x3d}.eg-cleanslate input, .eg-cleanslate select {    vertical-align:middle ;}.eg-cleanslate select, .eg-cleanslate textarea, .eg-cleanslate input {    border:1px solid #ccc ;}.eg-cleanslate table {    border-collapse:collapse ;    border-spacing:0 ;}.eg-cleanslate hr {    display:block ;    height:1px ;    border:0 ;    border-top:1px solid #ccc ;    margin:1em 0 ;}.eg-cleanslate *[dir\x3drtl] {    direction: rtl ;}.eg-cleanslate mark {    background-color:#ff9 ;    color:black ;    font-style:italic ;    font-weight:bold ;}';
c+='.eg-cleanslate {    font-size: medium ;    line-height: 1 ;    direction:ltr ;    text-align:left ;    font-family: "Times New Roman", Times, serif ;    font-style:normal ;    font-weight:normal ;    text-decoration:none ;    list-style-type:disc ;}';c+=".evergage-tribes {    font-family: "+a.fontFamily+";    color: "+a.secondaryTextColor+';    font-size: 13px;    -webkit-font-smoothing: antialiased;}.evergage-tribes input, .evergage-tribes textarea {    background-color: white;    vertical-align: baseline;}.evergage-tribes a:hover {    text-decoration: none;    color: #808080;}.evergage-tribes .left {    float: left;}.evergage-tribes .right {    float: right;}.evergage-tribes .clearfix:after {    content: "";    display: table;    clear: both; }.evergage-tribes .fa {    font-family: FontAwesome;    font-weight: normal;}.evergage-tribes .clickable, .evergage-tribes .clickable * {    cursor: pointer;}.evergage-tribes .button {    padding: 10px 30px;    color: white;    background-color: '+
a.tribeTagBackgroundColor+";    border: 1px solid "+a.tribeTagBackgroundColor+";    text-align: center;    font-size: 12px;    cursor: pointer;    font-weight: bold;}.evergage-tribes .button:hover {    text-decoration: none;    background-color: "+a.tribeTagHoverColor+";    color: white;}.evergage-tribes .view-all {    font-size: 11px;}.evergage-tribes .callout {    line-height: 1.5;    box-shadow: 0px 0px 10px 0px rgba(0, 1, 1, 0.3) ;    position: absolute ;    width: 225px ;    box-sizing: border-box ;    left: -70px ;    top: 12px ;    margin: 18px 0px ;    padding: 10px 20px ;    color: #767676;     background-color: "+
a.backgroundColor+" ;    -moz-border-radius: 6px ;    -webkit-border-radius: 6px ;    border-radius: 6px ;    z-index: 16777271;    cursor: initial ;}.evergage-tribes .callout .notch {    position: absolute ;    top: -10px ;    left: 105px ;    margin: 0 ;    border-top: 0 ;    border-left: 10px solid transparent ;    border-right: 10px solid transparent ;    border-bottom: 10px solid "+a.backgroundColor+" ;    padding: 0 ;    width: 0 ;    height: 0 ;}.evergage-tribes #evergageAdditional {     font-size: 12px ; }";
c+=".evergage-tribes .tribeTag {    margin-left: 4px;    position: relative ;    margin-left: 8px ;    color: white ;    background-color: "+a.tribeTagBackgroundColor+" ;    display: inline-block ;    border-radius: 4px ;    padding: 4px 10px ;    cursor: pointer;}.evergage-tribes .tribeTag:hover {    background-color: "+a.tribeTagHoverColor+" ;}.evergage-tribes .tribeTag .heading {    color: "+a.primaryTextColor+" ;    font-size: 14px ;    font-weight: bold ;    -webkit-font-smoothing: antialiased ;    -moz-osx-font-smoothing: grayscale ;    display: block ;}.evergage-tribes .tribeTag ~ .tribeTag {    margin-left: 4px ;}.evergage-tribes .tribeTag .stats {    text-align: initial ;    font-size: 12px ;}.evergage-tribes .tribeTag .stats .icon {    width: 27px ;    display: inline-block ;    color: #cccccc ;}.evergage-tribes .tribeTag .alsoLiked {    text-transform: uppercase;    font-size: 10px ;    margin-top: 5px ;    font-weight: bold;}.evergage-tribes .tribeTag .productPictures {    margin-top: 3px ;    margin-bottom: 3px;    text-align: center;}.evergage-tribes .tribeTag .productPictures .product-img {    cursor: pointer ;    display: inline-block;    height: 80px;    width: 55px;    background-size: 55px auto;    background-position: left center;    background-repeat: no-repeat;    box-shadow: 0px 0px 7px 0px rgba(0, 0, 0, 0.3) ;}.evergage-tribes .tribeTag .productPictures .thumb {    display: inline-block ;    position: relative ;}.evergage-tribes .tribeTag .minibar .bar {    position: absolute ;    height: 3px ;    background-color: "+
a.primaryTextColor+" ;}.evergage-tribes .tribeTag .minibar {    position: relative ;    width: 100% ;    height: 3px ;    background-color: "+a.backgroundColor+" ;    display: block ;}.evergage-tribes .tribeTag .productPictures .thumb ~ .thumb {    margin-left: 7px ;}.evergage-tribes .tribeTag .join-tribe,.evergage-tribes .tribeTag .leave-tribe {    text-decoration: none ;}";c+=".evergage-tribes .lowerInfobarContainer {    position: fixed ;    bottom: -45px ;    left: 0px ;    height: 45px ;    width: 100% ;    background: white ;    z-index: 16777271 ;    box-shadow: 0 0 7px rgba(0,0,0,.3) ;    overflow: visible ;    font-size: 13px ;}.evergage-tribes .lowerInfobarContainer .currentTag {    position: relative;    height: 23px ;    border-radius: 5px ;    background-color: "+
a.tribeTagBackgroundColor+" ;    display: inline-block ;    color: white ;    padding: 4px 20px ;    box-sizing: border-box ;    margin-top: 12px ;    margin-left: 5px ;    line-height: 15px ;    font-weight: bold;}.evergage-tribes .lowerInfobarContainer .currentTag:hover {    background-color: "+a.tribeTagHoverColor+";}.evergage-tribes .lowerInfobarContainer .currentTag .leave-tribe,.evergage-tribes .lowerInfobarContainer .currentTag .stop-shopping-as {    position: absolute;    right: 5px;    top: 4px;    display: none;}.evergage-tribes .lowerInfobarContainer .currentTag:hover .leave-tribe,.evergage-tribes .lowerInfobarContainer .currentTag:hover .stop-shopping-as {    display: inline;}.evergage-tribes .lowerInfobarContainer .plusIcon {    display: inline-block ;    width: 25px ;    height: 23px ;    border-radius: 5px ;    background-color: #d9d9d9 ;    padding: 4px 6px ;    box-sizing: border-box ;    margin-top: 12px ;    color: white ;    line-height: 15px ;    text-align: center ;}.evergage-tribes .lowerInfobarContainer \x3e div.gutters {    width: 960px ;    margin: 0 auto ;    position: relative ;}";
c+=".evergage-tribes .lowerInfobarContainer .infobarTagset {    position: relative;    margin-right: 5px ;    float: right ;}.evergage-tribes .lowerInfobarContainer .infobarTagset .inner-tagset {    position: relative;    max-width: 720px;    white-space: nowrap;    overflow: hidden;}.evergage-tribes .lowerInfobarContainer .infobarTagset .inner-tagset.hidden {    display: none;}.evergage-tribes.info-bar .infobarTagset .shopping-as {    position: absolute;    text-align: right;    white-space: nowrap;}";
c+=".evergage-tribes .tribeVisionSummary {    float: left ;}.evergage-tribes .tribeVisionSummary .topSummary {    margin-top: 7px ;    font-size: 12px ;    color: #808080 ;    line-height: 1.5;}.evergage-tribes .tribeVisionSummary .topSummary strong {    -webkit-font-smoothing: antialiased ;    -moz-osx-font-smoothing: grayscale ;    text-transform: uppercase ;    color: black;}.evergage-tribes .tribeVisionSummary .topSummary a:hover strong {    color: #808080;}.evergage-tribes .tribeVisionSummary .topSummary a {    font-weight: bold ;    color: "+
a.primaryTextColor+";}.evergage-tribes .tribeVisionSummary .topSummary a:hover {    color: #808080;}.evergage-tribes .tribeVisionSummary .open-tribe-vision.opened .fa-caret-up,.evergage-tribes .tribeVisionSummary .open-tribe-history.opened .fa-caret-up {    display: none;}.evergage-tribes .tribeVisionSummary .open-tribe-vision.closed .fa-caret-down,.evergage-tribes .tribeVisionSummary .open-tribe-history.closed .fa-caret-down  {    display: none;}.evergage-tribes .tribeVisionSummary .bottomSummary {    text-transform: uppercase ;    color: #9c9c9c ;    font-size: 10px ;    line-height: 1.5;}";
c+=".evergage-tribes .productLevelBar {    position: relative ;    width: 100% ;    height: 18px ;    margin-top: 0 ;    margin-bottom: 5px ;    background-color: "+a.likeBarBackgroundColor+" ;    cursor: pointer;}";c+=".evergage-tribes .productFillEvergageLogo {    background-image: url(//cdn.evergage.com/evergage-content/tribes/logomark.svg);    background-position: center;    background-repeat: no-repeat;    opacity: 0.4;    display: block ;    position: absolute ;    float: left ;    height: 18px ;    width: 22px ;}";
c+=".evergage-tribes .productLevelFill {    float: left;    height: 18px ;    background-color: "+a.primaryTextColor+" ;    cursor: pointer;}";c+=".evergage-tribes .concurrentViewers {    text-align: center ;}.evergage-tribes .concurrentViewers strong {    -webkit-font-smoothing: antialiased ;    -moz-osx-font-smoothing: grayscale ;    color: "+a.primaryTextColor+" ;}.evergage-tribes .concurrentViewers .fa {    font-size: 14px ;    display: inline-block ;    margin-left: 6px ;}";c+=".evergage-tribes .tribesOverlayContainer {    pointer-events:none;    position: absolute ;    overflow: hidden ;}.evergage-tribes .tribesOverlay {    position: absolute ;    background-color: rgba(255, 255, 255, 0.8) ;    box-sizing: border-box ;    padding: 13px ;}.evergage-tribes .tribesOverlay .scoreSummary {    font-size: 14px ;    text-transform: uppercase ;    font-weight: bold ;    -webkit-font-smoothing: antialiased ;    -moz-osx-font-smoothing: grayscale ;    color: "+
a.primaryTextColor+" ;}.evergage-tribes .tribesOverlay .viewingSummary {    font-size: 10px ;    color: #767676 ;    text-transform: uppercase ;}.evergage-tribes .tribesOverlay .tribeName {    font-size: 12px ;    color: #767676 ;    margin-top: 18px ;}.evergage-tribes .tribesOverlay .minibar .bar {    position: absolute ;    height: 5px ;    background-color: "+a.primaryTextColor+" ;}.evergage-tribes .tribesOverlay .minibar {    position: relative ;    width: 100% ;    height: 5px ;    background-color: "+
a.backgroundColor+" ;    display: block ;}";c+=".evergage-tribes.evg-bottom-left .tribe-pane-container, .evergage-tribes.evg-bottom-middle .tribe-pane-container {    width: 960px;    margin: 0 auto;}.evergage-tribes.evg-bottom-left .tribe-pane,.evergage-tribes.evg-bottom-middle .tribe-pane {    margin-bottom: 45px;    z-index: 16777269;    width: "+evergageTribes.determineTotalWidthToAnimate()+"px;    background-color: white;    -webkit-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    -moz-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    overflow: hidden;    height: "+
evergageTribes.determineTotalHeightToAnimate()+"px;    position: fixed;    bottom: -"+evergageTribes.determineTotalHeightToAnimate()+"px;}.evergage-tribes.evg-top-right .tribe-pane {    position: fixed;    margin-bottom: 45px;    top: 100px;    right: -"+evergageTribes.determineTotalWidthToAnimate()+"px;    z-index: 16777269;    width: "+evergageTribes.determineTotalWidthToAnimate()+"px;    background-color: white;    -webkit-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    -moz-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    overflow: hidden;    height: 395px;    overflow: visible;}.evergage-tribes.evg-top-left .tribe-pane {    position: fixed;    margin-bottom: 45px;    top: 100px;    left: -"+
evergageTribes.determineTotalWidthToAnimate()+"px;    z-index: 16777269;    width: "+evergageTribes.determineTotalWidthToAnimate()+"px;    background-color: white;    -webkit-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    -moz-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.35);    overflow: hidden;    height: 395px;    overflow: visible;}.evergage-tribes .tribe-pane h3 {    text-transform: uppercase;    font-weight: bold;}.evergage-tribes .tribe-pane .row {    padding: 10px 10px 0 10px;}.evergage-tribes .tribe-pane .row:last-child {    padding-bottom: 10px;}.evergage-tribes .tribe-pane .header {    background-color: "+
a.titleBarColor+";    color: #ffffff;    padding: 0 14px;    font-size: 15px;    font-weight: bold;    height: 34px;    line-height: 34px;    box-sizing: border-box;}.evergage-tribes .tribe-pane .tribe-pane-wrapper {    height: 100%;    position: absolute;    left: 0px;    width: 2240px;}";c+=".evergage-tribes.tribe-vision-pane .tribe-pane .header a:hover {    color: #b5b5b5;}.evergage-tribes.tribe-vision-pane .tribe-pane .header .fa-caret-left {    color: "+a.primaryTextColor+";}.evergage-tribes.tribe-vision-pane .inner-pane {    float: left;    width: "+
evergageTribes.determineTotalWidthToAnimate()+"px;    box-sizing: border-box;    height: 100%;    padding-bottom: 34px;    position: relative;    overflow: visible;}.evergage-tribes .tribe-pane .row {    padding: 18px 10px 0 10px;}.evergage-tribes.tribe-vision-pane .detail-pane .row.were-buying {    padding-top: 10px;}.evergage-tribes.tribe-vision-pane .detail-pane .description {    width: 60%;    line-height: 1.4;    padding: 0 5px 0 5px;    -webkit-box-sizing: border-box;    -moz-box-sizing: border-box;    box-sizing: border-box;}";
c+=".evergage-tribes.tribe-vision-pane .detail-pane .buttons {    width: 40%;    padding: 0 20px;    -webkit-box-sizing: border-box;    -moz-box-sizing: border-box;    box-sizing: border-box;}.evergage-tribes.tribe-vision-pane .detail-pane .null-description {    width: 100%;    margin-bottom: 14px;    margin-top: 8px;}.evergage-tribes.tribe-vision-pane .detail-pane .buttons .button {    padding: 10px 0;    display: block;    width: 100%;}.evergage-tribes.tribe-vision-pane .detail-pane .null-description.buttons .button {    width: 46%;    float: left;}.evergage-tribes.tribe-vision-pane .detail-pane .buttons .button:first-child {    margin-bottom: 4px;}.evergage-tribes.tribe-vision-pane .detail-pane .null-description.buttons .button:first-child {    margin-right: 33px;}.evergage-tribes.tribe-vision-pane .detail-pane .buttons .button .fa {    color: white;}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel {    margin-top: 8px;}.evergage-tribes.tribe-vision-pane .detail-pane .carousel-wrapper {    display: inline-block;    float:left;    width: 502px;    margin-left: 7px;}.evergage-tribes.tribe-vision-pane .detail-pane .carousel-contents {    white-space: nowrap;    overflow: hidden;    position: relative;}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel .carousel-arrow {    display: inline-block;    font-size: 30px;    line-height: 175px;}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel .carousel-arrow .fa {    color: #808080;    cursor: pointer;}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel .carousel-arrow .fa:hover {    color:"+
a.primaryTextColor+";}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel .buying-product {    padding: 0 4px;    width: 160px;    display: inline-block;    vertical-align: top;}.evergage-tribes.tribe-vision-pane .detail-pane .buying-carousel .buying-product .product-img {    display: inline-block;    height: 160px;    width: 160px;    background-size: auto 160px;    background-position: top center;    background-repeat: no-repeat;}.evergage-tribes.tribe-vision-pane .detail-pane .social-icon-container {    position: absolute;    bottom: 34px;    left: 10px;    overflow-y: visible;}.evergage-tribes.tribe-vision-pane .detail-pane .social-icon-container .social-icon {    float: left;    margin-left: 5px;    background-color: #C1C1C1;    padding: 4px 8px;}.evergage-tribes.tribe-vision-pane .detail-pane .social-icon-container .social-icon:hover {    background-color:"+
a.primaryTextColor+";}.evergage-tribes.tribe-vision-pane .detail-pane .social-icon-container .social-icon .fa {    color: #ffffff;    font-size: 18px;    color: #ffffff;}";c+=".evergage-tribes.tribe-vision-pane .my-vision {    margin-top: 14px;    width: 50%;    height: 100%;}.evergage-tribes.tribe-vision-pane .search-create {    width: 50%;    height: 100%;    background-color: #f4f2f0;}.evergage-tribes.tribe-vision-pane .tabbed-header {    background-color: #dcdcdc;    margin-bottom: 14px;    height: 34px;    line-height: 34px;    width: 100%;    box-sizing: border-box;    font-size: 15px;    font-weight: bold;}.evergage-tribes.tribe-vision-pane .tab {    height: 100%;    color: "+
a.primaryTextColor+";    width: 100px;    float: left;    text-align: center;    position relative;    text-transform: uppercase;    position: relative;}.evergage-tribes.tribe-vision-pane .pane-content {    padding: 0 12px;}.evergage-tribes.tribe-vision-pane .tab.active,.evergage-tribes.tribe-vision-pane .tab:hover {    background-color: #f4f2f0;}.evergage-tribes.tribe-vision-pane .tab .top-border {    display: none;    position: absolute;    height: 3px;    width: 100px;    background-color: "+a.primaryTextColor+
";    top: 0;}.evergage-tribes.tribe-vision-pane .tab.active .top-border,.evergage-tribes.tribe-vision-pane .tab:hover .top-border {    display: block;}";c+=".evergage-tribes.tribe-vision-pane table.my-list {    table-layout: fixed;    width: 100%;    margin-bottom: 12px;}.evergage-tribes.tribe-vision-pane .my-list {    line-height: 1.7;}.evergage-tribes.tribe-vision-pane .my-list th {    font-weight: bold;}.evergage-tribes.tribe-vision-pane .my-list td {    text-overflow: ellipsis;    overflow: hidden;}.evergage-tribes.tribe-vision-pane .my-list tr.clickable:hover {    color: #454545;}.evergage-tribes.tribe-vision-pane .vision-pane .my-list th:last-child {    width: 65px;}";
c+=".evergage-tribes.tribe-vision-pane .section-header {    color: "+a.titleBarColor+";    font-weight: bold;    line-height: 1.7;}.evergage-tribes.tribe-vision-pane  .colored {    color: "+a.titleBarColor+";}.evergage-tribes.tribe-vision-pane i {    color: "+a.primaryTextColor+";}.evergage-tribes.tribe-vision-pane .align-right {    text-align: right;}";c+=".evergage-tribes.tribe-vision-pane .tribe-search .section-header,.evergage-tribes.tribe-vision-pane .tribe-create .section-header {    margin-bottom: 2px;}.evergage-tribes.tribe-vision-pane .tribe-search .search-box {    padding: 4px 4px 5px 4px;    width: 189px;}.evergage-tribes.tribe-vision-pane .tribe-search .button {    padding: 7px 4px 6px 4px;    position: relative;    left:-8px;    font-size: 10px;}.evergage-tribes.tribe-vision-pane .tribe-search .view-all {    line-height: 1.7;}.evergage-tribes.tribe-vision-pane .tribe-search .two-col-item.clickable:hover {    color: #454545;}.evergage-tribes.tribe-vision-pane .tribe-create {    display: none;}.evergage-tribes.tribe-vision-pane .tribe-create .error {   color: #AA2124;    position: relative;    top: 15px;    float: left;    width: 200px; }.evergage-tribes.tribe-vision-pane .pane-section {    margin-bottom: 14px;}.evergage-tribes.tribe-vision-pane .two-col-item {    width: 50%;    line-height: 1.7;    padding-right: 4px;    text-overflow: ellipsis;    overflow: hidden;    box-sizing: border-box;}.evergage-tribes.tribe-vision-pane .tribe-create .label {    width: 7%;    box-sizing: border-box;    padding: 5px 0 0 4px;    font-weight: bold;}.evergage-tribes.tribe-vision-pane .tribe-create .name {    width: 93%;    padding: 4px 4px 5px 4px;    margin-bottom: 8px;    box-sizing: border-box;}.evergage-tribes.tribe-vision-pane .tribe-create .description {    width: 100%;    padding: 4px 4px 5px 4px;    box-sizing: border-box;    resize: none;}.evergage-tribes.tribe-vision-pane .tribe-create .button.save {    padding: 8px 4px;    margin-top: 15px;    display: block;    width: 45px;}";
c+=".evergage-tribes.tribe-vision-pane .view-all-pane,.evergage-tribes.tribe-vision-pane .search-pane {    padding: 16px 26px 34px 26px;    overflow-y: scroll;}.evergage-tribes.tribe-vision-pane .view-all-pane .my-list {    font-size: 15px;    line-height: 1.8;}.evergage-tribes.tribe-vision-pane .view-all-pane .my-list th {    color: black;}.evergage-tribes.tribe-vision-pane .view-all-pane .my-list th:last-child, .evergage-tribes.tribe-vision-pane .view-all-pane .my-list td:last-child  {    text-align: center;}.evergage-tribes.tribe-vision-pane .view-all-pane .my-list th:first-child {    width: 50%;}.evergage-tribes.tribe-vision-pane .view-all-pane tr i {    font-size: 20px;    line-height: 1;    color: #dbdbdb}.evergage-tribes.tribe-vision-pane .view-all-pane tr:hover i {    visibility: visible;    color: #6b6b6b;}.evergage-tribes.tribe-vision-pane .view-all-pane tr:hover i:hover {    color: "+
a.primaryTextColor+";}";c+=".evergage-tribes.info-ticker {    font-weight: bold;    font-size: 11px;    color: "+a.infoTickerColor+";}.evergage-tribes.info-ticker-item {   display: none;}.evergage-tribes.info-ticker-item-show {   display: inherit;}";c+=".evergage-tribes.tribe-reviews .tribe-reviews-window {    display: block;    overflow: hidden;    white-space: nowrap;    margin: 0 4px;}.evergage-tribes.tribe-reviews .tribe-reviews-wrapper {    display: inline-block;    white-space: nowrap;}.evergage-tribes.tribe-reviews .tribe-review {    color: black;    display: inline-block;    width: 100%;    vertical-align: top;}.evergage-tribes.tribe-reviews .review-title-bar {    margin-bottom: 4px;}.evergage-tribes.tribe-reviews .review-title {    text-transform: uppercase;    font-size: 12px;    font-weight: bold;}.evergage-tribes.tribe-reviews .tribe-review-content {    margin: 12px 0px 4px 0px;    font-size: 12px;}.evergage-tribes.tribe-reviews .tribe-review-ratings {    margin: 12px 0px 2px 0px;}.evergage-tribes.tribe-reviews .rating-stars {    margin: 0px 14px 0px 4px;}.evergage-tribes.tribe-reviews .rating-name {    font-size: 12px;    text-transform: uppercase;    color: #4D4D4D;}.evergage-tribes.tribe-reviews .tribe-review-ratings .fa-star {    color: #D6D6D6;}.evergage-tribes.tribe-reviews .tribe-review-ratings .fa-star.filled {    color: "+
a.primaryTextColor+";}.evergage-tribes.tribe-reviews .tribe-review-meta {    margin: 4px 0px 6px 0px;    font-size: 11px;    color: #4D4D4D;}";c+=".evergage-tribes.tribe-history-pane .inner-pane.history-pane {   height: 100%;   box-sizing: border-box;   padding-bottom: 34px;   position: relative;}.evergage-tribes.tribe-history-pane .history-filters {   position:relative;    width: 200px;    height: 100%;    background-color: #f4f2f0;}.evergage-tribes.tribe-history-pane .history-filter-type li {   padding: 10px 20px;    border-left: 4px solid transparent;    font-weight: bold;    text-transform: uppercase;    font-size: 14px;}.evergage-tribes.tribe-history-pane .history-filter-type li.selected {   color: "+
a.primaryTextColor+" ;   padding: 10px 20px;    background-color: #FFFFFF;}.evergage-tribes.tribe-history-pane .history-filter-type li:hover {   color: "+a.primaryTextColor+" ;   padding: 10px 20px;    background-color: #FFFFFF;}.evergage-tribes.tribe-history-pane .history-filters .evg-history-filter-lower-container {   position: absolute;   bottom: 0;   width: 100%;}";c+=".evergage-tribes.tribe-history-pane .history-items {    width: 360px;    height: 100%;    overflow-y: scroll;    overflow-x: hidden;    position: relative;    background-repeat: no-repeat;    background-position: -9px 84px;    background-size: 100%;   box-sizing: border-box;   padding: 10px 14px 10px 10px;}.evergage-tribes.tribe-history-pane .history-items .smart-sort {    color: "+
a.secondaryTextColor+" ;    font-weight: bold;     text-transform: uppercase;     position: absolute;     right: 14px; }.evergage-tribes.tribe-history-pane .history-items .smart-sort span {    display: inline-block;     font-weight: bold;     color: gray;     background-color: #f4f2f0;    padding: 4px;    text-transform: uppercase; }.evergage-tribes.tribe-history-pane .history-items .smart-sort :first-child {   border-top-left-radius: 5px;   border-bottom-left-radius: 5px;   margin-left: 10px; }.evergage-tribes.tribe-history-pane .history-items .smart-sort :last-child {   border-top-right-radius: 5px;   border-bottom-right-radius: 5px;}.evergage-tribes.tribe-history-pane .history-items .smart-sort span.selected {    color: white;     background-color: "+
a.primaryTextColor+" ;}.evergage-tribes.tribe-history-pane .history-items h3 {    font-weight: bold;     text-transform: uppercase;     font-size: 18px; }.evergage-tribes.tribe-history-pane .history-list-item {   position: relative;    margin: 20px 0px 26px; 0px}.evergage-tribes.tribe-history-pane .history-list-item .detail {   padding-left: 110px;    font-weight: bold;     line-height: 1.3em; }.evergage-tribes.tribe-history-pane .history-pane .evg-purchase-info {   position: absolute;   bottom: 0;   height: 50px;}.evergage-tribes.tribe-history-pane .history-list-item .detail .price-container {   margin-bottom: 6px;}.evergage-tribes.tribe-history-pane .history-list-item .detail .price-container .price {   color: "+
a.primaryTextColor+";   font-weight: bold;   font-size: 20px;   vertical-align: bottom;}";c+=".evergage-tribes.tribe-history-pane .evg-clear-history-container {   text-align: center;   margin-bottom: 8px;}.evergage-tribes.tribe-history-pane .evg-clear-history-container .clear-history-link {   font-weight: normal;    font-size: 13px;     color: #9b9b9b;    text-decoration: underline;}.evergage-tribes.tribe-history-pane .evg-clear-history-container .clear-history-link:hover {   color: #808080;}.evergage-tribes.tribe-history-pane:not(.evg-smart-history-only) .smart-history-header {   display: none;}.evergage-tribes.tribe-history-pane .header .clear-history-link:hover {    color: "+
a.primaryTextColor+" ;}.evergage-tribes.tribe-history-pane .evg-powered-by {   text-align: center;   height: 40px;   vertical-align: middle;   background-color: #D1D1D1;}.evergage-tribes.tribe-history-pane .evg-powered-by img {   margin-top: 8px;}";c+=".evergage-tribes.tribe-history-pane .history-items .smart-sort span {   cursor: pointer; }.evergage-tribes.tribe-history-pane .history-items .history-items-list {   margin-bottom: 20px;}.evergage-tribes.tribe-history-pane .history-items .history-items-list .more-items-link a {   font-weight: bold;   text-transform: uppercase;   font-size: 14px;   color: "+
a.primaryTextColor+";   font-family: "+a.fontFamily+";   cursor: pointer; }.evergage-tribes.tribe-history-pane .history-items .history-items-list .more-items-link a:hover {   color: "+a.primaryTextColor+";}.evergage-tribes.tribe-history-pane .history-pane .productLevelBar, .evergage-tribes.tribe-history-pane .history-pane .productLevelFill {   cursor: default;}.evergage-tribes.tribe-history-pane .history-items .no-results {   font-size: 14px;    margin-left: 20px;    line-height: 1.3em;    padding-top: 25px; }";
c+=".evergage-tribes.evg-bottom-left .evg-smart-history-tab-container {   overflow: visible;   width: 960px;   height: 0;   margin: 0 auto;}.evergage-tribes.evg-bottom-middle .evg-smart-history-tab-container {   margin: 0 auto;   width: 201px;}.evergage-tribes.evg-top-right .evg-smart-history-tab-container {   height: 100%;   width: 0;   position: fixed;   margin: 0;   right: 0;   top: 0;   z-index: 100000;}.evergage-tribes.evg-top-left .evg-smart-history-tab-container {   height: 100%;   width: 0;   position: fixed;   margin: 0;   left: 0;   top: 0;   z-index: 100000;}";
c+=".evergage-tribes .evg-smart-history-tab {   position: fixed;   bottom: 0;   height: 40px;   line-height: 40px;   width: 180px;   z-index: 16777270;   background: "+a.smartHistoryTab.background+";   font-size: "+a.smartHistoryTab.fontSize+";   color: "+a.smartHistoryTab.color+';   border-top-right-radius: 5px;   border-top-left-radius: 5px;   font-weight: bold;   text-align: center;   cursor: pointer;}.evergage-tribes evg-smart-history-only img[src\x3d"null"]{    opacity:0;    height:100px;}.evergage-tribes.evg-top-right .evg-smart-history-tab {   position: absolute;   right: -70px;   top: 170px;   -ms-transform: rotate(270deg);   -webkit-transform: rotate(270deg);   -o-transform: rotate(270deg);   transform: rotate(270deg);}.evergage-tribes.evg-top-left .evg-smart-history-tab {   position: absolute;   left: -70px;   top: 170px;   -ms-transform: rotate(90deg);   -webkit-transform: rotate(90deg);   -o-transform: rotate(90deg);   transform: rotate(90deg);}.evergage-tribes .evg-smart-history-tab:hover {   background: '+
a.smartHistoryTab.backgroundHover+";}.evergage-tribes .evg-smart-history-tab * {   cursor: pointer;}.evergage-tribes .evg-smart-history-tab .fa {   font-weight: bold;}.evergage-tribes .evg-smart-history-tab.opened .fa-angle-up {   display: none;}.evergage-tribes .evg-smart-history-tab.closed .fa-angle-down {   display: none;}.evergage-tribes .tribe-history-pane.evg-smart-history-only .tribe-pane {   margin-bottom: 0;}";c+=".evergage-tribes.evg-bottom-left .tribe-history-pane.evg-smart-history-only .smart-history-header,.evergage-tribes.evg-bottom-middle .tribe-history-pane.evg-smart-history-only .smart-history-header {   height: 5px;   background-color: "+
a.smartHistoryTab.backgroundColor+";}.evergage-tribes.evg-top-right .tribe-history-pane.evg-smart-history-only .smart-history-header {   width: 5px;   background-color: "+a.smartHistoryTab.backgroundColor+";   height: 395px;   position:absolute;   left: -5px;   top: 0;}.evergage-tribes.evg-top-left .tribe-history-pane.evg-smart-history-only .smart-history-header {   width: 5px;   background-color: "+a.smartHistoryTab.backgroundColor+";   height: 395px;   position:absolute;   right: -5px;   top: 0;}";
return c+=".evergage-tribes .tribe-history-pane.evg-smart-history-only .tribe-pane .header {   display: none;}.evergage-tribes .tribe-history-pane.evg-smart-history-only .inner-pane.history-pane  {   padding-bottom: 0;}.evergage-tribes.tribe-history-pane.evg-smart-history-only .history-filters {   height: 395px;}.evergage-tribes.tribe-history-pane.evg-smart-history-only .history-pane .productLevelBar {   display: none;}.evergage-tribes.tribe-history-pane.evg-smart-history-only .history-items {   height: 395px;}.evergage-tribes.tribe-history-pane .history-filter-type {   list-style-type: none;}.evergage-tribes.tribe-history-pane .inner-pane-header {   font-weight: bold;   margin-bottom: 6px;   display: inline-block;}"};
evergageTribes=evergageTribes||{};evergageTribes.restResources=function(a,c){function l(a){return b.getTrackerUrl()+"/api/dataset/"+b.getDataset()+"/social/"+a}function B(c,f){var h=[];h.push({name:"_r",value:String(Math.random()).slice(2,8)});var m=b.buildAccountParameterIfNecessary(!0);""!==m&&h.push({name:"_ak",value:m.split("\x3d")[1]});if(f){var n=b.buildUserParams();n&&0<Object.keys(n).length&&a.each(Object.keys(n),function(a,b){h.push(n[b])})}c&&0<Object.keys(c).length&&a.each(Object.keys(c),
function(a,b){h.push({name:b,value:c[b]})});return h}function G(a,b,h,m){a=l(a);b=B({tribeId:b},!0);n(a,b,h,m);c.common.userRefreshRequired=!0}function n(a,b,c,m){ajq.ajax({url:a,data:b,dataType:"jsonp",traditional:!0,cache:!0,crossDomain:!0,success:function(a){c(a)},error:function(a,b,c){ajq.log.shouldLog("WARN")&&console.log("Evergage: Error retrieving user summary: "+b);m(b)}})}var b=window.Evergage||{};return{itemSummaries:function(a,b,c){var m=l("itemSummaries");a=B({itemIds:a.join()},!0);n(m,
a,b,c)},userSocialSummary:function(a,b){var c=l("userSummary"),m=B({},!0);n(c,m,a,b)},joinTribe:function(a,b,c){G("joinTribe",a,b,c)},leaveTribe:function(a,b,c){G("leaveTribe",a,b,c)},startExploring:function(a,b,c){G("startExploring",a,b,c)},stopExploring:function(a,b,c){G("stopExploring",a,b,c)},globalSocialSummary:function(a,b){var c=l("globalSummary"),m=B({},!0);n(c,m,a,b)},tribeDetail:function(a,b,c){G("tribeDetail",a,b,c)},clearHistory:function(a,b){var h=l("clearHistory"),m=B({},!0);n(h,m,a,
b);c.common.userRefreshRequired=!0},userHistory:function(a,b,h,m,G){var H=l("userHistory"),T=B({},!0);T.push({name:"historyType",value:a});T.push({name:"smartSort",value:b});"string"===typeof G&&""!==G&&T.push({name:"timeRange",value:G});n(H,T,h,m);c.common.userRefreshRequired=!0}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.common=function(a,c){function l(a,h){void 0===c.cachedData.page.infoBar&&(b=!0);b||!0===h?c.restResources.userSocialSummary(function(b){c.cachedData.page.infoBar=
b;c.common.userRefreshRequired=!1;a(b)},function(){}):a(c.cachedData.page.infoBar)}function B(a){l(function(b){c.infoBar.joinTribe(a);c.mostLikedByList.joinTribe(a);c.tribeVisionPane.joinTribe(a);c.infoBar.renderNewOnlineData(b)})}function G(a){l(function(b){c.infoBar.renderNewOnlineData(b);c.infoBar.leaveTribe(a);c.mostLikedByList.leaveTribe(a);c.tribeVisionPane.leaveTribe(a)})}function n(a,b,c){var n=c?function(b){return c(b[a])}:function(b){return b[a]};b=[-1,1][+!!b];return function(a,c){var f=
n(a),m=n(c);return b*((f>m)-(m>f))}}var b=!1,v=!1;return{joinTribe:function(a,h){b=!0;c.restResources.joinTribe(a,function(b){"function"===typeof h&&h();B(a)},function(){})},leaveTribe:function(a){b=!0;c.restResources.leaveTribe(a,function(b){G(a)},function(){})},startExploring:function(a){c.restResources.startExploring(a,function(b){c.cachedData.page.infoBar.exploreAs=a;c.infoBar.startExploring(a)},function(){})},stopExploring:function(a){c.restResources.stopExploring(a,function(a){c.cachedData.page.infoBar.exploreAs=
"";c.infoBar.stopExploring()},function(){})},globalRefreshRequired:v,refreshGlobalData:function(a,b){void 0===c.cachedData.page.globalSocialSummary&&(v=!0);v||!0===b?c.restResources.globalSocialSummary(function(b){c.cachedData.page.globalSocialSummary=b;c.common.globalRefreshRequired=!1;a(b)},function(){}):a(c.cachedData.page.globalSocialSummary)},userRefreshRequired:b,refreshUserData:l,sortByName:function(a){return a.sort(n("name",!0))},sortArrayOfObjects:n,sortTable:function(b,c){var m=a(b).find(c).get();
m.sort(function(b,c){var f=a(b).children("td").eq(0).text().toUpperCase(),h=a(c).children("td").eq(0).text().toUpperCase();return f<h?-1:f>h?1:0});a.each(m,function(c,h){a(b).children("tbody").append(h)})},isUserMember:function(b){var h=!1;a.each(c.cachedData.page.infoBar.myTribes,function(a,c){c.name===b&&(h=!0)});return h},formatMoney:function(a,b){b||(b="$");return void 0===a||null===a?b+"0":b+a.toFixed(2).replace(/./g,function(a,b,c){return!b||"."===a||(c.length-b)%3?a:","+a})}}}(ajq,evergageTribes);
evergageTribes=evergageTribes||{};evergageTribes.tribeVisionPane=function(a,c){function l(f){var e=a(".evergage-tribes.tribe-vision-pane");a(".evergage-tribes.info-bar .open-tribe-vision").removeClass("closed");a(".evergage-tribes.info-bar .open-tribe-vision").addClass("opened");c.tribeHistoryPane.close();0<e.length?G():c.common.refreshUserData(function(){var c=B();a(".evergage-tribes.info-bar").before(A(c));b();a(".evergage-tribes.tribe-vision-pane .tribe-pane").animate({bottom:"0px"},{queue:!1});
"function"===typeof f&&f()})}function B(){return{user:c.cachedData.page.infoBar,global:c.cachedData.page.globalSocialSummary}}function G(){var b=a(".evergage-tribes.tribe-vision-pane");a(".evergage-tribes.info-bar .open-tribe-vision").addClass("closed");a(".evergage-tribes.info-bar .open-tribe-vision").removeClass("opened");b.find(".tribe-pane").animate({bottom:"-400px"},{complete:function(){b.remove();a(document).off("click.evergageTribes.vision")},queue:!1})}function n(){a(".evergage-tribes.tribe-vision-pane .best-matches-content").html(sa(B()))}
function b(){var b=a(".evergage-tribes.tribe-vision-pane .tribe-pane"),c=h(),g=c.find(".open-search-tab"),k=c.find(".tribe-search"),m=c.find(".open-create-tab"),n=c.find(".tribe-create"),c=c.find(".view-all");a(document).on("click.evergageTribes.vision",function(c){b.is(c.target)||0!==b.has(c.target).length||a(c.target).hasClass("no-close")||G()});m.click(function(){m.addClass("active");g.removeClass("active");k.hide();var a=h().find(".tribe-create");a.find("form").show();a.find(".complete-message").hide();
a.show()});g.click(function(){g.addClass("active");m.removeClass("active");n.hide();k.show()});c.click(function(){var b=a(this).data("view-all");ba(b)});k.find(".button.search").click(function(){var a=k.find("input.search-box").val();ba("search",a)});k.find("input.search-box").keypress(function(a){13===a.which&&(a.preventDefault(),a=k.find("input.search-box").val(),ba("search",a))});n.find("a.button.save").click(function(){var a=h().find(".tribe-create");a.find("error").html("");var b=a.find("input.name").val();
b.match(/^[0-9a-zA-Z]+$/)?void 0===b||""===b?v("Please enter a tribe name."):(a.find("form").hide(),a.find(".complete-message").show(),a=h().find(".tribe-create"),a.find(".error").html(""),a.find("input.name").val(""),a.find("textarea.description").val("")):v("A tribe name must be letters or numbers only.")});f()}function v(a){var b=h().find(".tribe-create");b.find(".error").html(a);b.find(".error").show()}function f(){var b=h().find(".open-tribe-detail");b.unbind("click");b.click(function(){var b=
a(this).data("tribe-id");E(b)})}function h(){return a(".evergage-tribes.tribe-vision-pane .inner-pane.vision-pane")}function m(b){var c=a(".evergage-tribes.tribe-vision-pane .tribe-pane .header");za.push(c.html());c.html(b);c.find(".slide-out").click(function(){T()})}function U(){var b=a(".evergage-tribes.tribe-vision-pane .tribe-pane .header"),c=za.pop();b.html(c);b.find(".slide-out").click(function(){T()})}function H(b){var c=a(".evergage-tribes.tribe-vision-pane .tribe-pane-wrapper"),f=a(".evergage-tribes.tribe-vision-pane .tribe-pane").width();
c.append(b);c.animate({left:"-\x3d"+f})}function T(b){var c=a(".evergage-tribes.tribe-vision-pane .tribe-pane-wrapper"),f=a(".evergage-tribes.tribe-vision-pane .tribe-pane").width(),g=c.find(".inner-pane").last();c.animate({left:"+\x3d"+f},function(){g.remove();"function"===typeof b&&b()});U()}function ba(b,e){var f=Q(b,e),h=x(b,e);H(g(f,h));m('\x3ca class\x3d"slide-out no-close"\x3e\x3ci class\x3d"no-close fa fa-caret-left"\x3e\x3c/i\x3e '+h.header+"\x3c/a\x3e");var k=a(".evergage-tribes.tribe-vision-pane .view-all-pane"),
f=k.find(".open-tribe-detail"),h=k.find(".leave-tribe"),k=k.find(".join-tribe");f.click(function(){var b=a(this).data("tribe-id");E(b)});h.click(function(b){b.stopPropagation();b=a(this).data("tribe-id");c.common.leaveTribe(b)});k.click(function(b){b.stopPropagation();b=a(this).data("tribe-id");c.common.joinTribe(b)})}function Q(b,e){var f=[];"search"===b?a.each(c.cachedData.page.globalSocialSummary.allTribes,function(a,b){b.name&&-1<b.name.toLowerCase().indexOf(e)&&f.push(b)}):f="myTribes"===b?c.cachedData.page.infoBar.myTribes:
"myPeople"===b?c.cachedData.page.infoBar.myPeople:"bestMatches"===b?q(c.cachedData.page.infoBar.bestMatches):"trendingNow"===b?q(c.cachedData.page.globalSocialSummary.trendingNow):c.cachedData.page.globalSocialSummary.allTribes;for(var g=f.length-1;0<=g;g--)0===f[g].name.indexOf("@")&&f.splice(g,1);return f}function q(b){var e=[];a.each(c.cachedData.page.globalSocialSummary.allTribes,function(a,c){0<=ajq.inArray(c.name,b)&&e.push(c)});a.each(c.cachedData.page.globalSocialSummary.allPeople,function(a,
c){0<=ajq.inArray(c.name,b)&&e.push(c)});var f=c.common.sortArrayOfObjects("name",!0,function(b){var c="string"===a.type(b)&&0<b.length?b.charAt(0):"";return"@"===c||"#"===c?b.substring(1):b});return e.sort(f)}function x(a,b){var c={header:"Results",countHeaderTitle:"In Group",joinOrFollowHeader:"Join/Leave"};switch(a){case "myTribes":c.header="All My Tribes";break;case "myPeople":c.header="All My People";c.countHeaderTitle="Followers";c.joinOrFollowHeader="Follow / Unfollow";break;case "bestMatches":c.header=
"Best Matches";break;case "trendingNow":c.header="Trending Now";c.countHeaderTitle="In Group / Followers";c.joinOrFollowHeader="Join / Follow";break;case "search":c.header="Search for "+b,c.countHeaderTitle="In Group / Followers",c.joinOrFollowHeader="Join / Follow"}return c}function g(a,b){var c;c=""+('\x3cdiv class\x3d"inner-pane view-all-pane"\x3e   \x3ctable class\x3d"my-list"\x3e       \x3ctr\x3e           \x3cth\x3eTribe Name\x3c/th\x3e           \x3cth\x3e'+b.countHeaderTitle+"\x3c/th\x3e           \x3cth\x3e"+
b.joinOrFollowHeader+"\x3c/th\x3e       \x3c/tr\x3e");for(var f=a.length,g=0;g<f;g++){var h=a[g];c+='\x3ctr class\x3d"clickable open-tribe-detail" data-tribe-id\x3d"'+h.name+'"\x3e   \x3ctd\x3e'+h.name+"\x3c/td\x3e   \x3ctd\x3e"+(h.inGroup||h.followers)+"\x3c/td\x3e   \x3ctd\x3e";var k='\x3ci class\x3d"fa fa-times leave-tribe clickable" data-tribe-id\x3d"'+h.name+'"\x3e\x3c/i\x3e',m='\x3ci class\x3d"fa fa-plus join-tribe clickable" data-tribe-id\x3d"'+h.name+'"\x3e\x3c/i\x3e';c+=h.isMember?k:m;c+=
"\x3c/td\x3e\x3c/tr\x3e"}return c+"   \x3c/table\x3e\x3c/div\x3e"}function E(a){c.restResources.tribeDetail(a,function(b){b.name=a;b.isMember=c.common.isUserMember(a);C(b)},function(){})}function C(b){H(k(b));m('\x3ca class\x3d"slide-out no-close"\x3e\x3ci class\x3d"no-close fa fa-caret-left"\x3e\x3c/i\x3e '+b.name+"\x3c/a\x3e");var e=a(".evergage-tribes.tribe-vision-pane .detail-pane"),f=e.find(".buying-product"),g=e.find(".carousel-contents"),h=e.find(".next-arrow .fa"),n=e.find(".prev-arrow .fa"),
l=e.find(".start-shopping-as"),q=e.find(".leave-tribe"),e=e.find(".join-tribe"),v=!0;f.each(function(){for(var c=a(this).data("product-id"),e=b.buying.length,f=0;f<e;f++){var g=b.buying[f];if(c.toString()===g.id){a(this).find(".product-img").css("background-image","url("+g.imageUrl+")");break}}});n.click(function(){if(v){v=!1;setTimeout(function(){v=!0},420);var a=g.find(".buying-product").last(),b=a.clone().css("margin-left","-168px");g.prepend(b);b.animate({marginLeft:"0px"},function(){a.remove()})}});
h.click(function(){if(v){v=!1;setTimeout(function(){v=!0},420);var a=g.find(".buying-product").first(),b=a.clone();g.append(b);a.animate({marginLeft:"-168px"},function(){a.remove()})}});l.click(function(){c.common.startExploring(b.name);c.tribeVisionPane.close()});q.click(function(){var b=a(this).data("tribe-id");c.common.leaveTribe(b)});e.click(function(){var b=a(this).data("tribe-id");c.common.joinTribe(b)})}function k(a){var b;b=""+('\x3cdiv class\x3d"inner-pane detail-pane" data-tribe-id\x3d"'+
a.name+'"\x3e   \x3cdiv class\x3d"row clearfix"\x3e');b=null!=a.description?b+('       \x3cdiv class\x3d"left description"\x3e           '+a.description+'       \x3c/div\x3e       \x3cdiv class\x3d"left buttons"\x3e'):b+'       \x3cdiv class\x3d"left buttons null-description"\x3e';if(-1!=a.name.indexOf("#")){var c='\x3ca class\x3d"button join-tribe" data-tribe-id\x3d"'+a.name+'"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e Shop with this Tribe\x3c/a\x3e',f='\x3ca class\x3d"button leave-tribe" data-tribe-id\x3d"'+
a.name+'"\x3e\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e Stop Shopping with Tribe\x3c/a\x3e';b+=a.isMember?f:c}b+='       \x3c/div\x3e   \x3c/div\x3e   \x3cdiv class\x3d"row were-buying clearfix"\x3e       \x3ch3\x3eWe\'re interested in\x3c/h3\x3e       \x3cdiv class\x3d"buying-carousel clearfix"\x3e           \x3cdiv class\x3d"carousel-arrow prev-arrow left"\x3e\x3ci class\x3d"fa fa-caret-left"\x3e\x3c/i\x3e\x3c/div\x3e           \x3cdiv class\x3d"carousel-wrapper"\x3e               \x3cdiv class\x3d"carousel-contents clearfix"\x3e';
c=a.buying.length;for(f=0;f<c;f++){var g=a.buying[f];b+='\x3cdiv class\x3d"buying-product" data-product-id\x3d"'+g.id+'"\x3e   \x3ca href\x3d"'+g.url+'"\x3e\x3cdiv class\x3d"product-img"\x3e\x3c/div\x3e\x3c/a\x3e   \x3ca href\x3d"'+g.url+'"\x3e       \x3cdiv class\x3d"productLevelBar"\x3e           \x3cdiv class\x3d"productFillEvergageLogo"\x3e\x3c/div\x3e           \x3cdiv class\x3d"productLevelFill" style\x3d"width: '+g.score+'%;"\x3e\x3c/div\x3e       \x3c/div\x3e   \x3c/a\x3e   \x3ca href\x3d"'+
g.url+'"\x3e\x3cspan class\x3d"product-title"\x3e'+g.name+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e"}return b+'               \x3c/div\x3e           \x3c/div\x3e           \x3cdiv class\x3d"carousel-arrow next-arrow right"\x3e\x3ci class\x3d"fa fa-caret-right"\x3e\x3c/i\x3e\x3c/div\x3e       \x3c/div\x3e   \x3c/div\x3e   \x3cdiv class\x3d"social-icon-container "\x3e       \x3cdiv class\x3d"social-icon share-email clickable"\x3e           \x3ci class\x3d"fa fa-envelope"\x3e\x3c/i\x3e       \x3c/div\x3e       \x3cdiv class\x3d"social-icon share-facebook clickable"\x3e           \x3ci class\x3d"fa fa-facebook-square"\x3e\x3c/i\x3e       \x3c/div\x3e       \x3cdiv class\x3d"social-icon share-pinterest clickable"\x3e           \x3ci class\x3d"fa fa-pinterest-square"\x3e\x3c/i\x3e       \x3c/div\x3e       \x3cdiv class\x3d"social-icon share-twitter clickable"\x3e           \x3ci class\x3d"fa fa-twitter-square"\x3e\x3c/i\x3e       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e'}
function A(a){for(var b=a.user.myTribes,c=a.user.myPeople,f=b.length-1;0<=f;f--)0===b[f].name.indexOf("@")&&(c.push(b[f]),b.splice(f,1));b=""+('\x3cdiv class\x3d"evergage-tribes eg-cleanslate tribe-vision-pane" data-evergage-tribes\x3d"tribeVisionPane"\x3e    \x3cdiv class\x3d"tribe-pane-container"\x3e       \x3cdiv class\x3d"tribe-pane"\x3e           \x3cdiv class\x3d"header"\x3eMY TRIBES\x3c/div\x3e           \x3cdiv class\x3d"tribe-pane-wrapper clearfix"\x3e               \x3cdiv class\x3d"inner-pane vision-pane"\x3e                   \x3cdiv class\x3d"my-vision left"\x3e                       \x3cdiv class\x3d"pane-content"\x3e'+
P(a)+'                           \x3ctable class\x3d"my-list my-people-list"\x3e                               \x3ctr\x3e                                   \x3cth class\x3d"section-header"\x3eMy People\x3c/th\x3e                                   \x3cth class\x3d"align-right"\x3eFollowers\x3c/th\x3e                               \x3c/tr\x3e');c=a.user.myPeople.length;for(f=0;f<c&&5>f;f++)var g=a.user.myPeople[f],b=b+("                       \x3ctr\x3e                               \x3ctd\x3e"+g.name+
'\x3c/td\x3e                               \x3ctd class\x3d"align-right"\x3e'+g.followers+"\x3c/td\x3e                           \x3c/tr\x3e");b+='                           \x3c/table\x3e                       \x3c/div\x3e                   \x3c/div\x3e                   \x3cdiv class\x3d"search-create left"\x3e                       \x3cdiv class\x3d"tabbed-header"\x3e                           \x3cdiv class\x3d"tab active clickable open-search-tab"\x3e                               \x3cdiv class\x3d"top-border"\x3e\x3c/div\x3e                               Search                           \x3c/div\x3e                           \x3cdiv class\x3d"tab clickable open-create-tab"\x3e                               \x3cdiv class\x3d"top-border"\x3e\x3c/div\x3e                               Create                           \x3c/div\x3e                       \x3c/div\x3e                       \x3cdiv class\x3d"pane-content"\x3e                           \x3cdiv class\x3d"tribe-search"\x3e                               \x3cdiv class\x3d"pane-section clearfix"\x3e                                   \x3cform\x3e                                       \x3cdiv class\x3d"section-header"\x3eFind a Tribe\x3c/div\x3e                                       \x3cinput class\x3d"search-box" placeholder\x3d"Enter Keyword" type\x3d"text" /\x3e                                       \x3ca class\x3d"button search"\x3eSEARCH\x3c/a\x3e                                   \x3c/form\x3e                               \x3c/div\x3e                               \x3cdiv class\x3d"pane-section clearfix"\x3e                                   \x3cdiv class\x3d"clearfix best-matches-content"\x3e'+
sa(a)+"                                   \x3c/div\x3e                               \x3c/div\x3e";b+='                               \x3cdiv class\x3d"pane-section clearfix"\x3e                                   \x3cdiv class\x3d"clearfix"\x3e                                       \x3cdiv class\x3d"section-header left"\x3eTrending Now\x3c/div\x3e';c=a.global.trendingNow.length;6<c&&(b+='                                   \x3cspan class\x3d"colored"\x3e                                       \x3ca class\x3d"view-all right" href\x3d"javascript:;" data-view-all\x3d"trendingNow"\x3e                                           View All                                            \x3ci class\x3d"fa fa-caret-right"\x3e\x3c/i\x3e                                       \x3c/a\x3e                                   \x3c/span\x3e');
b+="                               \x3c/div\x3e";for(f=0;f<c&&6>f;f++)g=a.global.trendingNow[f],b=0!==g.indexOf("#")?b+('                           \x3cdiv class\x3d"left two-col-item"\x3e   '+g+"                           \x3c/div\x3e"):b+('                           \x3cdiv class\x3d"left two-col-item clickable open-tribe-detail" data-tribe-id\x3d"'+g+'"\x3e   '+g+"                               \x3c/div\x3e");return b+'                               \x3c/div\x3e                           \x3c/div\x3e                           \x3cdiv class\x3d"tribe-create"\x3e                               \x3cdiv class\x3d"pane-section clearfix"\x3e                                  \x3cform\x3e                                       \x3cdiv class\x3d"section-header"\x3eCreate a Tribe\x3c/div\x3e                                       \x3cdiv class\x3d"label left"\x3e#\x3c/div\x3e                                        \x3cinput class\x3d"name" placeholder\x3d"Name" type\x3d"text" /\x3e                                       \x3ctextarea class\x3d"description" placeholder\x3d"Description" rows\x3d"10" maxlength\x3d"10000" /\x3e                                       \x3cdiv class\x3d"error" style\x3d"display: none;"\x3e\x3c/div\x3e                                       \x3ca class\x3d"button save right"\x3eSubmit\x3c/a\x3e                                  \x3c/form\x3e                                  \x3cdiv class\x3d"complete-message section-header" style\x3d"display: none;"\x3e                                       Thanks for submitting your new tribe for approval.                                  \x3c/div\x3e                               \x3c/div\x3e                           \x3c/div\x3e                       \x3c/div\x3e                   \x3c/div\x3e               \x3c/div\x3e           \x3c/div\x3e       \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e'}
function P(a){var b=a.user.myTribes.length,f='                           \x3ctable class\x3d"my-list my-tribes-list"\x3e                               \x3cthead\x3e                               \x3ctr\x3e                                   \x3cth class\x3d"section-header"\x3eMy Tribes\x3c/th\x3e                                   \x3cth class\x3d"align-right"\x3e'+(1>b?"":"In Group")+"\x3c/th\x3e                               \x3c/tr\x3e                               \x3c/thead\x3e";if(1>b)f+='                           \x3ctr class\x3d"open-tribe-detail"\x3e                               \x3ctd colspan\x3d"3"\x3eNo current tribes\x3c/td\x3e                           \x3c/tr\x3e';
else{f+="                           \x3ctbody\x3e";a=c.common.sortByName(a.user.myTribes);for(var g=0;g<b&&5>g;g++)f+=ya(a[g]);f+="                           \x3c/tbody\x3e"}f+="                               \x3ctfoot\x3e                                   \x3ctr\x3e                                       \x3ctd\x3e\x3c/td\x3e";5<b&&(f+='                                   \x3ctd class\x3d"align-right colored"\x3e                                       \x3ca class\x3d"view-all" href\x3d"javascript:;" data-view-all\x3d"myTribes"\x3e                                           View All \x3ci class\x3d"fa fa-caret-right"\x3e\x3c/i\x3e                                       \x3c/a\x3e                                   \x3c/td\x3e');
return f+"                                   \x3c/tr\x3e                               \x3c/tfoot\x3e                           \x3c/table\x3e"}function sa(b){var c=[],f=a.map(b.user.myTribes,function(a,b){return[a.name]});a.each(b.user.bestMatches,function(b,g){0>a.inArray(g,f)&&c.push(g)});var g=c.length,h='                                \x3cdiv class\x3d"clearfix"\x3e                                    \x3cdiv class\x3d"section-header left"\x3eBest Matches\x3c/div\x3e';6<g&&(h+='                                   \x3cspan class\x3d"colored"\x3e                                       \x3ca class\x3d"view-all right" href\x3d"javascript:;" data-view-all\x3d"bestMatches"\x3e                                           View All                                            \x3ci class\x3d"fa fa-caret-right"\x3e\x3c/i\x3e                                       \x3c/a\x3e                                   \x3c/span\x3e');
h+="                               \x3c/div\x3e";if(0===g)h=0===b.user.bestMatches.length?h+"No current best matches.":h+"You are have joined all best matches.";else for(b=0;b<g&&6>b;b++)var k=c[b],h=h+('                               \x3cdiv class\x3d"left two-col-item clickable open-tribe-detail" data-tribe-id\x3d"'+k+'"\x3e                                   '+k+"                               \x3c/div\x3e");return h+"                               \x3c/div\x3e"}function ya(a){return'\x3ctr class\x3d"open-tribe-detail clickable" data-tribe-id\x3d"'+
a.name+'"\x3e   \x3ctd\x3e'+a.name+'\x3c/td\x3e   \x3ctd class\x3d"align-right"\x3e'+a.inGroup+"\x3c/td\x3e\x3c/tr\x3e"}var za=[];return{open:l,close:G,getMyTribesRowHtml:ya,setEventHandlersTribeLink:f,openToDetailPane:function(b){var c=a(".evergage-tribes.tribe-vision-pane"),f=c.find(".detail-pane"),g=c.find(".view-all-pane"),h=E.bind(void 0,b);f.length&&f.data("tribe-id")===b||(0===c.length?l(h):g.length&&f.length?(b=T.bind(void 0,h),T(b)):g.length||f.length?T(h):E(b))},joinTribe:function(b){var e=
a(".evergage-tribes.tribe-vision-pane .view-all-pane .my-list"),g=a('.evergage-tribes.tribe-vision-pane .detail-pane[data-tribe-id\x3d"'+b+'"]');e.find('tr[data-tribe-id\x3d"'+b+'"] .join-tribe').replaceWith('\x3ci class\x3d"fa fa-times leave-tribe clickable no-close" data-tribe-id\x3d"'+b+'"\x3e\x3c/i\x3e');g.find(".join-tribe").replaceWith('\x3ca class\x3d"button leave-tribe no-close" data-tribe-id\x3d"'+b+'"\x3e\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e Stop Shopping with Tribe\x3c/a\x3e');n();
a(".evergage-tribes.tribe-vision-pane table.my-tribes-list").replaceWith(P(B()));f();b=a(".evergage-tribes.tribe-vision-pane .leave-tribe");b.off("click");b.click(function(b){b.stopPropagation();b=a(this).data("tribe-id");c.common.leaveTribe(b)})},leaveTribe:function(b){var e=a('.evergage-tribes.tribe-vision-pane .vision-pane .my-people-list [data-tribe-id\x3d"'+b+'"]'),g=a('.evergage-tribes.tribe-vision-pane .view-all-pane [data-tribe-id\x3d"'+b+'"]'),h=a('.evergage-tribes.tribe-vision-pane .detail-pane[data-tribe-id\x3d"'+
b+'"]');e.remove();g.find(".leave-tribe").replaceWith('\x3ci class\x3d"fa fa-plus join-tribe clickable no-close" data-tribe-id\x3d"'+b+'"\x3e\x3c/i\x3e');h.find(".leave-tribe").replaceWith('\x3ca class\x3d"button join-tribe no-close" data-tribe-id\x3d"'+b+'"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e Shop with this Tribe\x3c/a\x3e');a(".evergage-tribes.tribe-vision-pane table.my-tribes-list").replaceWith(P(B()));n();f();b=a(".evergage-tribes.tribe-vision-pane .join-tribe");b.off("click");b.click(function(b){b.stopPropagation();
b=a(this).data("tribe-id");c.common.joinTribe(b)})}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.tribeHistoryPane=function(a,c){function l(){var b=a(".evergage-tribes.tribe-history-pane"),f=b.hasClass("evg-smart-history-only");a(".evergage-tribes.info-bar .open-tribe-history").removeClass("opened");a(".evergage-tribes.info-bar .open-tribe-history").addClass("closed");a(".evergage-tribes .evg-smart-history-tab.evg-open-smart-history").removeClass("opened");a(".evergage-tribes .evg-smart-history-tab.evg-open-smart-history").addClass("closed");
f&&c.smartHistoryTab.close();f={bottom:"-"+evergageTribes.determineTotalHeightToAnimate()+"px"};"top-right"===E?f={right:"-"+evergageTribes.determineTotalWidthToAnimate()+"px"}:"top-left"===E&&(f={left:"-"+evergageTribes.determineTotalWidthToAnimate()+"px"});b.find(".tribe-pane").stop().animate(f,{complete:function(){b.remove();a(document).off("click.evergageTribes.history")},queue:!1});null!=e&&Evergage.trackAction(e)}function B(b,e,f){e?(a(".evergage-tribes .evg-smart-history-tab-container").after(ba(b)),
a(".evergage-tribes.tribe-history-pane").addClass("evg-smart-history-only")):a(".evergage-tribes.info-bar").before(ba(b));G(e);!0!==f&&(b={bottom:"-0px"},"top-right"===E?b={right:"0px"}:"top-left"===E&&(b={left:"0px"}),a(".evergage-tribes.tribe-history-pane .tribe-pane").stop().animate(b,{queue:!1}),e&&c.smartHistoryTab.open());n(e)}function G(b){var e=a(".evergage-tribes.tribe-history-pane .tribe-pane");a(document).on("click.evergageTribes.history",function(b){e.is(b.target)||0!==e.has(b.target).length||
a(b.target).hasClass("no-close-history")||l()});var f=H();f.find(".clear-history-link").click(function(){c.restResources.clearHistory(function(){null!=F&&Evergage.trackAction(F);f.find(".history-items-list").empty();T()},function(){})});f.find(".history-filter-type li").click(function(){f.find(".history-filter-type li").removeClass("selected");a(this).addClass("selected");f.find(".history-items-list").empty();n(b);"purchased"===a(this).attr("data-history-filter-type")&&null!=R&&Evergage.trackAction(R);
"interest"===a(this).attr("data-history-filter-type")&&null!=u&&Evergage.trackAction(u)});f.find(".history-items .smart-sort span").click(function(){g=!g;f.find(".history-items .smart-sort span").toggleClass("selected");f.find(".history-items-list").empty();n(b);!0===g&&null!=aa&&Evergage.trackAction(aa);!0!==g&&null!=ja&&Evergage.trackAction(ja)});a(".evergage-tribes.tribe-history-pane .history-items").on("mousewheel DOMMouseScroll",function(a){var b=0<(a.originalEvent.wheelDelta||-a.originalEvent.detail)?
"up":"down";("up"==b&&0==this.scrollTop||"down"==b&&this.scrollTop==this.scrollHeight-this.offsetHeight)&&a.preventDefault()})}function n(a){var e=b();if(!C)if("purchased"===e.historyType){if(!sa)return T()}else if(!P)return T();var g=null;C||"purchased"!==e.historyType||(g=za);C||"purchased"===e.historyType||(g=ya);c.restResources.userHistory(e.historyType,e.smartSort,function(b){if("object"===typeof b){var c=[],k=null;"number"===typeof b.length?c=b:(k=b.numberOfItemsIfLoggedIn,"object"===typeof b.items&&
"number"===typeof b.items.length&&(c=b.items));"purchased"!==e.historyType||C||sa||(c=[]);"purchased"===e.historyType||C||P||(c=[]);e.smartSort?f(v(c),a,g,k):h(v(c),a,g,k);if(null!=hb)try{hb.apply(this,[e.smartSort])}catch(m){Evergage.sendException(m,"smartHistoryRenderItemsCallback")}null!=J&&H().find(".history-list-item .detail .name a, .history-list-item .left a").click(function(){Evergage.trackAction(J,{},!0,!1)});null!=r&&H().find(".history-list-item .detail .name a, .history-list-item .left a").click(function(a){try{r.apply(this,
[a])}catch(b){Evergage.sendException(b,"trackSmartHistoryItemViewCallback")}})}},function(){},g)}function b(){var a=H(),b=a.find(".history-filter-type li.selected"),a="true"===(a.find(".smart-sort span.selected").attr("data-smart-sort")||"true");return{historyType:b.attr("data-history-filter-type")||"interest",smartSort:a}}function v(b){var c=[];a.each(b,function(a,b){void 0!==b.name&&null!==b.name&&c.push(b)});return c}function f(b,c,e,f){if(b&&0===b.length)T();else{var g=U(b),h="",h=h+"\x3ch3\x3e\x26nbsp;\x3c/h3\x3e";
0<b.length?a.each(g,function(a,b){h+=Q(b,c)}):h+=q();h+=x(e,f);b=H();b.find(".smart-sort").css("visibility","visible");b.find(".history-items").css({backgroundImage:"none"});b.find(".history-items-list").html(h)}}function h(b,c,e,f){if(b&&0===b.length)T();else{b=m(b);var g=(new Date).getTime(),h={LT24Hours:[],LTEQ30days:[],GT30Days:[]},k={LT24Hours:"TODAY",LTEQ30days:"Last 30 days",GT30Days:"Over 30 Days"};a.each(b,function(a,b){var c=g-b.timestamp;864E5>c?h.LT24Hours.push(b):2592E6>=c?h.LTEQ30days.push(b):
2592E6<c&&h.GT30Days.push(b)});var n="";a.each(Object.keys(h),function(b,e){n+="\x3ch3\x3e"+k[e]+"\x3c/h3\x3e";0<h[e].length?a.each(h[e],function(a,b){n+=Q(b,c)}):n+=q()});n+=x(e,f);e=H();e.find(".smart-sort").css("visibility","visible");f=e.find(".history-items-list");e.find(".history-items").css({backgroundImage:"none"});f.html(n)}}function m(a){var b=c.common.sortArrayOfObjects("timestamp",!0,function(a){return a.timestamp});return a.sort(b)}function U(a){return a.sort(function(a,b){return b.viewCount-
a.viewCount})}function H(){return a(".evergage-tribes.tribe-history-pane .inner-pane.history-pane")}function T(){var c,e=b();c="";c="purchased"===e.historyType?c+'\x3cspan class\x3d"inner-pane-header"\x3eNo recently purchased items.\x3c/span\x3e':c+'\x3cspan class\x3d"inner-pane-header"\x3eView history is empty.\x3c/span\x3e';e.smartSort&&(c+="\x3cbr\x3eSmartSort helps organize your browsing by keeping the products you've shown the most interest in at your fingertips.\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e");
C||(c+='\x3cspan class\x3d"inner-pane-header"\x3eWhere\'s my stuff?\x3c/span\x3e',c=""!==A?c+("\x3cbr\x3eLogin to "+A+" to see your Viewed and Purchased items.\x3cbr\x3e\x3cbr\x3e"):c+"\x3cbr\x3eLogin to see your Viewed and Purchased items.\x3cbr\x3e\x3cbr\x3e",c+='\x3ca class\x3d"evg-smart-history-login-button" href\x3d"'+k+'"\x3eLogin\x3c/a\x3e');e=H().find(".history-items-list");c=a(q(c));c.addClass("no-results");e.html(c)}function ba(a){return a=""+('\x3cdiv class\x3d"evergage-tribes eg-cleanslate tribe-history-pane" data-evergage-tribes\x3d"tribeHistoryPane"\x3e    \x3cdiv class\x3d"tribe-pane-container"\x3e       \x3cdiv class\x3d"tribe-pane"\x3e           \x3cdiv class\x3d"header clearfix"\x3e               HISTORY           \x3c/div\x3e           \x3cdiv class\x3d"inner-pane history-pane clearfix"\x3e           \x3cdiv class\x3d"smart-history-header"\x3e\x3c/div\x3e               \x3cdiv class\x3d"history-filters left"\x3e                   \x3cdiv class\x3d"pane-content"\x3e                       \x3cul class\x3d"history-filter-type"\x3e                           \x3cli class\x3d"selected clickable" data-history-filter-type\x3d"interest"\x3eViewed\x3ci class\x3d"right fa fa-caret-right"\x3e\x3c/i\x3e\x3c/li\x3e                           \x3cli class\x3d"clickable" data-history-filter-type\x3d"purchased"\x3ePurchased\x3ci class\x3d"right fa fa-caret-right"\x3e\x3c/i\x3e\x3c/li\x3e                       \x3c/ul\x3e                   \x3c/div\x3e                   \x3cdiv class\x3d"evg-history-filter-lower-container"\x3e                       \x3cdiv class\x3d"evg-clear-history-container"\x3e                           \x3ca class\x3d"clear-history-link"\x3eClear All History\x3c/a\x3e                       \x3c/div\x3e                       \x3cdiv class\x3d"evg-powered-by"\x3e                           \x3ca href\x3d"http://www.evergage.com" target\x3d"_blank"\x3e                               \x3cimg src\x3d"//cdn.evergage.com/evergage-content/us/powered_by_evergage.png" /\x3e                           \x3c/a\x3e                       \x3c/div\x3e                   \x3c/div\x3e               \x3c/div\x3e               \x3cdiv class\x3d"history-items left"\x3e                   \x3cdiv class\x3d"right smart-sort"\x3e                       SmartSort                       \x3cspan class\x3d"'+
(g?"":"selected")+'" data-smart-sort\x3d"false"\x3eOff\x3c/span\x3e\x3cspan class\x3d"'+(g?"selected":"")+'" data-smart-sort\x3d"true"\x3eOn\x3c/span\x3e                   \x3c/div\x3e                   \x3cdiv class\x3d"pane-content"\x3e                       \x3cdiv class\x3d"history-items-list"\x3e\x3c/div\x3e                   \x3c/div\x3e               \x3c/div\x3e           \x3c/div\x3e       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e')}function Q(a,b){var e;b&&(e=c.initData.widgets.smartHistoryTab.currencySymbol);
e=""+('\x3cdiv class\x3d"history-list-item clearfix"\x3e    \x3cdiv class\x3d"left"\x3e\x3ca href\x3d"'+a.url+'"\x3e\x3cimg style\x3d"width:100px;" src\x3d"'+a.imageUrl+'"\x3e\x3c/a\x3e\x3c/div\x3e    \x3cdiv class\x3d"detail"\x3e        \x3cdiv class\x3d"name"\x3e\x3ca class\x3d"product-link" href\x3d"'+a.url+'"\x3e'+a.name+'\x3c/a\x3e\x3c/div\x3e        \x3cdiv class\x3d"evg-purchase-info"\x3e           \x3cdiv class\x3d"price-container"\x3e\x3cspan class\x3d"our-price"\x3eOur Price: \x3c/span\x3e\x3cspan class\x3d"price"\x3e'+
c.common.formatMoney(a.price,e)+'\x3c/span\x3e\x3c/div\x3e           \x3cdiv class\x3d"evg-add-to-cart"\x3e');b&&(e+=c.initData.widgets.smartHistoryTab.addToCartHtml(a));return e+='           \x3c/div\x3e        \x3c/div\x3e        \x3cdiv class\x3d"productLevelBar"\x3e           \x3cdiv class\x3d"productFillEvergageLogo"\x3e\x3c/div\x3e           \x3cdiv class\x3d"productLevelFill" style\x3d"width: '+a.score+'%;"\x3e\x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e'}function q(a){return'\x3cdiv class\x3d"history-list-item clearfix"\x3e'+
(a||"No Results")+"\x3c/div\x3e"}function x(a,b){var c="";"string"===typeof a&&""!==a&&(c+='\x3cdiv class\x3d"history-list-item clearfix more-items-link"\x3e\x3ca href\x3d"'+k+'" \x3eMore',"number"===typeof b&&0<b&&(c+="("+b+")"),c+=" ...\x3c/a\x3e\x3c/div\x3e");return c}var g=!0,E="bottom-left",C=!0,k="",A="",P=!0,sa=!0,ya=null,za=null,y=null,e=null,u=null,R=null,aa=null,ja=null,F=null,J=null,r=null,gb=null,hb=null;return{open:function(b){"function"===typeof c.initData.widgets.smartHistoryTab.isUserLoggedIn&&
(C=c.initData.widgets.smartHistoryTab.isUserLoggedIn());"boolean"===typeof c.initData.widgets.smartHistoryTab.showViewHistoryForAnonymous&&(P=c.initData.widgets.smartHistoryTab.showViewHistoryForAnonymous);"boolean"===typeof c.initData.widgets.smartHistoryTab.showPurchaseHistoryForAnonymous&&(sa=c.initData.widgets.smartHistoryTab.showPurchaseHistoryForAnonymous);"string"===typeof c.initData.widgets.smartHistoryTab.showViewHistoryTimeRangeForAnonymous&&(ya=c.initData.widgets.smartHistoryTab.showViewHistoryTimeRangeForAnonymous);
"string"===typeof c.initData.widgets.smartHistoryTab.showPurchaseHistoryTimeRangeForAnonymous&&(za=c.initData.widgets.smartHistoryTab.showPurchaseHistoryTimeRangeForAnonymous);"string"===typeof c.initData.widgets.smartHistoryTab.openActionName&&""!==c.initData.widgets.smartHistoryTab.openActionName&&(y=c.initData.widgets.smartHistoryTab.openActionName);"string"===typeof c.initData.widgets.smartHistoryTab.closeActionName&&""!==c.initData.widgets.smartHistoryTab.closeActionName&&(e=c.initData.widgets.smartHistoryTab.closeActionName);
"string"===typeof c.initData.widgets.smartHistoryTab.viewedTabActionName&&""!==c.initData.widgets.smartHistoryTab.viewedTabActionName&&(u=c.initData.widgets.smartHistoryTab.viewedTabActionName);"string"===typeof c.initData.widgets.smartHistoryTab.purchasedTabActionName&&""!==c.initData.widgets.smartHistoryTab.purchasedTabActionName&&(R=c.initData.widgets.smartHistoryTab.purchasedTabActionName);"string"===typeof c.initData.widgets.smartHistoryTab.smartSortOnToggleActionName&&""!==c.initData.widgets.smartHistoryTab.smartSortOnToggleActionName&&
(aa=c.initData.widgets.smartHistoryTab.smartSortOnToggleActionName);"string"===typeof c.initData.widgets.smartHistoryTab.smartSortOffToggleActionName&&""!==c.initData.widgets.smartHistoryTab.smartSortOffToggleActionName&&(ja=c.initData.widgets.smartHistoryTab.smartSortOffToggleActionName);"string"===typeof c.initData.widgets.smartHistoryTab.clearHistoryActionName&&""!==c.initData.widgets.smartHistoryTab.clearHistoryActionName&&(F=c.initData.widgets.smartHistoryTab.clearHistoryActionName);"string"===
typeof c.initData.widgets.smartHistoryTab.itemViewActionName&&""!==c.initData.widgets.smartHistoryTab.itemViewActionName&&(J=c.initData.widgets.smartHistoryTab.itemViewActionName);"function"===typeof c.initData.widgets.smartHistoryTab.itemViewCallback&&(r=c.initData.widgets.smartHistoryTab.itemViewCallback);"function"===typeof c.initData.widgets.smartHistoryTab.openHistoryCallback&&(gb=c.initData.widgets.smartHistoryTab.openHistoryCallback);"function"===typeof c.initData.widgets.smartHistoryTab.renderItemsCallback&&
(hb=c.initData.widgets.smartHistoryTab.renderItemsCallback);!0!==b&&(b=!1);null!=c.initData.widgets.smartHistoryTab.position&&(E=c.initData.widgets.smartHistoryTab.position);null!=c.initData.widgets.smartHistoryTab.loginUrl&&(k=c.initData.widgets.smartHistoryTab.loginUrl);"string"===typeof c.initData.widgets.smartHistoryTab.companyName&&(A=c.initData.widgets.smartHistoryTab.companyName);var f=a(".evergage-tribes.tribe-history-pane");a(".evergage-tribes.info-bar .open-tribe-history").removeClass("closed");
a(".evergage-tribes.info-bar .open-tribe-history").addClass("opened");a(".evergage-tribes .evg-smart-history-tab.evg-open-smart-history").removeClass("closed");a(".evergage-tribes .evg-smart-history-tab.evg-open-smart-history").addClass("opened");c.tribeVisionPane.close();if(f.length)l();else if(B({},b),null!=y&&Evergage.trackAction(y),null!=gb)try{gb.apply(this)}catch(g){Evergage.sendException(g,"smartHistoryOpenHistoryCallback")}},close:l,insertPane:B}}(ajq,evergageTribes);evergageTribes=evergageTribes||
{};evergageTribes.infoBar=function(a,c){function l(h){this.insertBar(this.containerElement,b(h));f(h);h=a(".lowerInfobarContainer");h.find(".open-tribe-vision").click(function(a){a.stopPropagation();c.tribeVisionPane.open()});h.find(".open-tribe-history").click(function(a){a.stopPropagation();c.tribeHistoryPane.open()});h.find(".stop-shopping-as").click(function(a){a.stopPropagation();c.common.stopExploring(c.cachedData.page.infoBar.exploreAs)});h.find(".inner-tagset .leave-tribe").click(function(b){b.stopPropagation();
b=a(this).data("tribe-id");c.common.leaveTribe(b)});h.find(".currentTag").click(function(b){b.stopPropagation();b=a(this).data("tribe-id");c.tribeVisionPane.openToDetailPane(b)});this.open()}function B(){var b=a(this.containerElement).find(".lowerInfobarContainer"),c=a("html");b.stop().animate({bottom:"0px"});c.css({marginBottom:c.css("marginBottom").replace(/[^-\d\.]/g,"")+45+"px;"});Evergage.findAndMovePageTopOrBottomElements("bottom",45)}function G(){var b=a(this.containerElement).find(".lowerInfobarContainer"),
c=a("html");b.stop().animate({bottom:"-"+b.height()+"px"});c.css({marginBottom:c.css("marginBottom").replace(/[^-\d\.]/g,"")-45+"px;"});Evergage.findAndMovePageTopOrBottomElements("bottom",-45)}function n(b){var f=a(".evergage-tribes.info-bar .inner-tagset");f.find('.currentTag[data-tribe-id\x3d"'+b+'"]').length||(f.prepend('\x3cdiv  class\x3d"currentTag clickable" data-tribe-id\x3d"'+b+'" style\x3d"opacity: 0;"\x3e'+b+'\x3ci class\x3d"fa fa-times leave-tribe clickable" data-tribe-id\x3d"'+b+'"\x3e\x3c/i\x3e\x3c/div\x3e'),
f.find('.currentTag[data-tribe-id\x3d"'+b+'"]').animate({opacity:1}),f.find(".leave-tribe").off("click"),f.find(".leave-tribe").click(function(b){b.stopPropagation();b=a(this).data("tribe-id");c.common.leaveTribe(b)}),f.find(".currentTag").off("click"),f.find(".currentTag").click(function(b){b.stopPropagation();b=a(this).data("tribe-id");c.tribeVisionPane.openToDetailPane(b)}))}function b(a){return function(){var b;b=""+('\x3cdiv class\x3d"evergage-tribes eg-cleanslate info-bar" data-evergage-tribes\x3d"infoBar"\x3e   \x3cdiv class\x3d"lowerInfobarContainer"\x3e       \x3cdiv class\x3d"gutters"\x3e           \x3cdiv class\x3d"tribeVisionSummary"\x3e               \x3cdiv class\x3d"topSummary"\x3e                   \x3ca class\x3d"open-tribe-vision closed"\x3e                       My Tribes                        \x3ci class\x3d"fa fa-caret-up"\x3e\x3c/i\x3e                       \x3ci class\x3d"fa fa-caret-down"\x3e\x3c/i\x3e                   \x3c/a\x3e                   \x26nbsp; | \x26nbsp;                    \x3ca class\x3d"open-tribe-history closed"\x3e                       History                       \x3ci class\x3d"fa fa-caret-up"\x3e\x3c/i\x3e                       \x3ci class\x3d"fa fa-caret-down"\x3e\x3c/i\x3e                   \x3c/a\x3e               \x3c/div\x3e               \x3cdiv class\x3d"bottomSummary"\x3e'+
v(a)+"                \x3c/div\x3e            \x3c/div\x3e");b=""!==(a.exploreAs||"")?b+('\x3cdiv class\x3d"infobarTagset"\x3e    \x3cdiv class\x3d"shopping-as" style\x3d"right: 0px;"\x3e   Exploring as:        \x3cdiv class\x3d"currentTag clickable"\x3e            \x3cspan class\x3d"shop-as-name"\x3e'+a.exploreAs+'\x3c/span\x3e            \x3ci class\x3d"stop-shopping-as clickable fa fa-times"\x3e\x3c/i\x3e        \x3c/div\x3e    \x3c/div\x3e   \x3cdiv class\x3d"inner-tagset hidden" style\x3d"right: -400px; opacity: 0;"\x3e\x3c/div\x3e\x3c/div\x3e'):
b+'\x3cdiv class\x3d"infobarTagset"\x3e\x3cdiv class\x3d"inner-tagset"\x3e\x3c/div\x3e\x3c/div\x3e';return b+"       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e"}}function v(a){return a.inCurrentTribes+" in these tribes \x26nbsp; | \x26nbsp; "+a.inCurrentTribesOnline+' online \x3ci class\x3d"fa fa-question-circle"\x3e\x3c/i\x3e'}function f(b){b=b.myTribes;for(var c=b.length,f=0;f<c;f++){var n=b[f],n='\x3cdiv class\x3d"currentTag clickable" data-tribe-id\x3d"'+n.name+'"\x3e   '+n.name+'    \x3ci class\x3d"fa fa-times leave-tribe clickable" data-tribe-id\x3d"'+
n.name+'"\x3e\x3c/i\x3e\x3c/div\x3e';a(".evergage-tribes.info-bar .infobarTagset .inner-tagset").append(n)}}return{create:function(b,c){if("info-bar"===a(b).data("eg-info-bar-placeholder"))return null;a(b).data("eg-info-bar-placeholder","info-bar");return{type:"infoBar",insertBar:c.insertBar,containerElement:b,open:B,close:G,init:l}},joinTribe:n,leaveTribe:function(b){var c=a(".evergage-tribes.info-bar .inner-tagset");a('.evergage-tribes.info-bar .inner-tagset .currentTag[data-tribe-id\x3d"'+b+'"]').animate({opacity:0},
function(){a(this).remove()});c.find(".join-tribe").off("click");c.find(".join-tribe").click(function(b){b.stopPropagation();b=a(this).data("tribe-id");n(b)})},startExploring:function(b){b='\x3cdiv class\x3d"shopping-as" style\x3d"right: 400px; opacity: 0;"\x3eExploring as:    \x3cdiv class\x3d"currentTag clickable"\x3e        \x3cspan class\x3d"shop-as-name"\x3e'+c.cachedData.page.infoBar.exploreAs+'\x3c/span\x3e        \x3ci class\x3d"stop-shopping-as clickable fa fa-times"\x3e\x3c/i\x3e    \x3c/div\x3e\x3c/div\x3e';
var f=a(".evergage-tribes.info-bar"),n=f.find(".infobarTagset"),l=f.find(".inner-tagset"),v=f.find(".shopping-as");v.length?(v.animate({right:"-400px",opacity:"0"},{queue:!1,complete:function(){a(this).remove()}}),n.prepend(b),f.find(".shopping-as").first().animate({right:"0px",opacity:1},{queue:!1})):(n.prepend(b),l.animate({right:"-400px",opacity:0},{queue:!1,complete:function(){l.addClass("hidden")}}),v=f.find(".shopping-as"),v.animate({right:"0px",opacity:1},{queue:!1}));f.find(".stop-shopping-as").click(function(){c.common.stopExploring(c.cachedData.page.infoBar.exploreAs)})},
stopExploring:function(){var b=a(".evergage-tribes.info-bar"),c=b.find(".inner-tagset");b.find(".shopping-as").animate({right:"400px",opacity:"0"},function(){a(this).remove()});c.removeClass("hidden");c.animate({right:"0px",opacity:1},{queue:!1})},renderNewOnlineData:function(b){a(".evergage-tribes.info-bar").find(".bottomSummary").html(v(b))}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.smartHistoryTab=function(a,c){function l(b){this.insert(this.containerElement,B(b));
a(".evg-smart-history-tab").click(function(a){a.stopPropagation();c.tribeHistoryPane.open(!0)})}function B(a){return function(){var a;return a=""+('\x3cdiv class\x3d"evergage-tribes eg-cleanslate evg-'+n+'" data-evergage-tribes\x3d"smartHistoryTab"\x3e   \x3cdiv class\x3d"evg-smart-history-tab-container"\x3e       \x3cdiv class\x3d"evg-smart-history-tab evg-open-smart-history closed"\x3e           \x3cspan\x3e'+b+'\x3c/span\x3e           \x3ci class\x3d"fa fa-angle-up"\x3e\x3c/i\x3e           \x3ci class\x3d"fa fa-angle-down"\x3e\x3c/i\x3e       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e')}}
var G=!0,n="bottom-left",b="SmartHistory";return{create:function(v,f){var h="smart-history-tab"===a(v).data("eg-smart-history-tab-placeholder");null!=c.initData.widgets.smartHistoryTab.position&&(n=c.initData.widgets.smartHistoryTab.position);null!=c.initData.widgets.smartHistoryTab.tabTitle&&(b=c.initData.widgets.smartHistoryTab.tabTitle);if(h)return null;a(v).data("eg-smart-history-tab-placeholder","smart-history-tab");return{type:"smartHistoryTab",insert:f.insert,containerElement:v,init:l}},open:function(){G&&
(Evergage.trackClickthrough({id:c.initData.associatedMessageId,experienceId:c.initData.associatedExperienceId,previewMode:!1,promotedItemKeys:!1},"opened-smart-history"),G=!1);"top-right"===n?c.initData&&c.initData.customCss&&c.initData.customCss.totalWidth?a(".evg-smart-history-tab").stop().animate({right:c.initData.customCss.totalWidth}):a(".evg-smart-history-tab").stop().animate({right:"495px"}):"top-left"===n?c.initData&&c.initData.customCss&&c.initData.customCss.totalWidth?a(".evg-smart-history-tab").stop().animate({left:c.initData.customCss.totalWidth}):
a(".evg-smart-history-tab").stop().animate({left:"495px"}):c.initData&&c.initData.customCss&&c.initData.customCss.totalHeight?a(".evg-smart-history-tab").stop().animate({bottom:c.initData.customCss.totalHeight}):a(".evg-smart-history-tab").stop().animate({bottom:"400px"})},close:function(){"top-right"===n?a(".evg-smart-history-tab").stop().animate({right:"-70px"}):"top-left"===n?a(".evg-smart-history-tab").stop().animate({left:"-70px"}):a(".evg-smart-history-tab").stop().animate({bottom:"0px"})}}}(ajq,
evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.tribeReviews=function(a,c){function l(l){var n=a(this.productElement);l=l.tribeReviews;this.insertReviews(n,B(l));var b=a(".evergage-tribes.tribe-reviews .tribe-reviews-wrapper");l=b.find(".tribe-review");l.find(".tribeTag").click(function(){event.stopPropagation();var b=a(this).data("tribe-id");c.tribeVisionPane.openToDetailPane(b)});1<l.length&&setInterval(function(){var n=b.find(".tribe-review");b.animate({opacity:0},{duration:1E3,
complete:function(){var f=n.first().remove();b.append(f);f.find(".tribeTag").click(function(){event.stopPropagation();var b=a(this).data("tribe-id");c.tribeVisionPane.openToDetailPane(b)});b.animate({opacity:1},{duration:1E3})}})},8E3)}function B(a){var c;c='\x3cdiv class\x3d"evergage-tribes tribe-reviews eg-cleanslate" data-evergage-tribes\x3d"tribeReviews"\x3e   \x3cdiv class\x3d"tribe-reviews-window clearfix"\x3e       \x3cdiv class\x3d"tribe-reviews-wrapper clearfix"\x3e';for(var b=a.length,l=
0;l<b;l++){var f=a[l],h=new Date(f.review.date);c+='\x3cdiv class\x3d"tribe-review"\x3e   \x3cdiv class\x3d"review-title-bar"\x3e       \x3cspan class\x3d"review-title"\x3e           '+f.review.title+'       \x3c/span\x3e       \x3cspan class\x3d"review-tribe-tags"\x3e';for(var m=f.tribes.length,B=0;B<m;B++){var H=f.tribes[B];c+='\x3cspan class\x3d"tribeTag clickable" data-tribe-id\x3d"'+H+'"\x3e   '+H+"\x3c/span\x3e"}c+='       \x3c/span\x3e   \x3c/div\x3e   \x3cdiv class\x3d"tribe-review-content"\x3e       '+
f.review.content+'   \x3c/div\x3e   \x3cdiv class\x3d"tribe-review-ratings"\x3e       \x3cspan class\x3d"review-rating"\x3e           \x3cspan class\x3d"rating-name"\x3eRating\x3c/span\x3e           \x3cspan class\x3d"rating-stars"\x3e';for(m=0;5>m;m++)c=m<f.review.rating?c+'\x3ci class\x3d"fa fa-star filled"\x3e\x3c/i\x3e':c+'\x3ci class\x3d"fa fa-star"\x3e\x3c/i\x3e';c+='           \x3c/span\x3e       \x3c/span\x3e   \x3c/div\x3e   \x3cdiv class\x3d"tribe-review-meta"\x3e       Review by '+f.review.userDisplayName+
" / (Posted on        "+(h.getMonth()+1)+"/"+h.getDate()+"/"+h.getFullYear()+")   \x3c/div\x3e\x3c/div\x3e"}return c+"       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e"}return{create:function(c,n){var b=n.getProductId(c);if("tribe-reviews"===a(c).data("eg-tribe-reviews-placeholder"))return null;a(c).data("eg-tribe-reviews-placeholder","tribe-reviews");return{type:"tribeReviews",productElement:c,productId:b,insertReviews:n.insertReviews,init:l}}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};
evergageTribes.mostLikedByList=function(a,c){function l(l){var n=a(this.productElement);0!==l.mostLikedByTribes.length&&(this.insertList(n,B(l)),a(".evergage-tribes.most-liked-by-list .tribeTag").each(function(){var b;a(this).hover(function(){clearTimeout(b);a(this).find("#demoCallout").show()},function(){var c=a(this);b=setTimeout(function(){c.find("#demoCallout").hide()},100)})}),a(".evergage-tribes.most-liked-by-list .tribeTag").click(function(b){b.stopPropagation();b=a(this).data("tribe-id");
c.common.joinTribe(b);c.tribeVisionPane.openToDetailPane(b)}),a(".evergage-tribes.most-liked-by-list #demoCallout").click(function(a){a.stopPropagation()}),a(".evergage-tribes.most-liked-by-list .tribeTag .leave-tribe").click(function(){var b=a(this).data("tribe-id");c.common.leaveTribe(b)}),a(".evergage-tribes.most-liked-by-list .tribeTag .join-tribe").click(function(b){b.stopPropagation();var n=a(this).data("tribe-id");c.common.joinTribe(n,function(){c.tribeVisionPane.openToDetailPane(n)})}))}function B(a){var c;
c='\x3cdiv class\x3d"evergage-tribes most-liked-by-list eg-cleanslate" data-evergage-tribes\x3d"mostLikedByList"\x3e    \x3cdiv id\x3d"evergageAdditional" style\x3d"display: inline-block; float: right"\x3e        \x3cspan class\x3d"ltbodytext"\x3eMost Liked By:\x3c/span\x3e';for(var b=a.mostLikedByTribes.length,l=0;l<b;l++){var f=a.mostLikedByTribes[l];c+='\x3cspan class\x3d"tribeTag" data-tribe-id\x3d"'+f.name+'"\x3e   '+f.name+'   \x3cdiv id\x3d"demoCallout" class\x3d"callout border-callout" style\x3d"display: none;"\x3e       \x3cdiv class\x3d"heading"\x3e'+
f.name+' Tribe\x3c/div\x3e       \x3cdiv class\x3d"stats"\x3e';40<f.score&&(c=70<f.score?c+'\x3cdiv\x3e\x3cspan class\x3d"fa fa-users icon"\x3e\x26#58912;\x3c/span\x3e Very Popular\x3c/div\x3e':c+'\x3cdiv\x3e\x3cspan class\x3d"fa fa-users icon"\x3e\x26#58912;\x3c/span\x3e Popular\x3c/div\x3e');0<f.view&&(c+='\x3cdiv\x3e\x3cspan class\x3d"fa fa-eye icon"\x3e\x26#58918;\x3c/span\x3e '+f.view+" Viewed Recently\x3c/div\x3e");0<f.purchase&&(c+='\x3cdiv\x3e\x3cspan class\x3d"fa fa-usd icon"\x3e\x26#58881;\x3c/span\x3e '+
f.purchase+" Purchased Recently\x3c/div\x3e");c+='       \x3c/div\x3e       \x3cdiv class\x3d"alsoLiked"\x3eThis tribe also liked:\x3c/div\x3e       \x3cdiv class\x3d"productPictures"\x3e';for(var h=f.alsoLikedItems.length,m=0;m<h;m++){var B=f.alsoLikedItems[m];c+='\x3cdiv class\x3d"thumb"\x3e    \x3cdiv class\x3d"minibar"\x3e        \x3cdiv class\x3d"bar" style\x3d"width: '+B.score+'% ;"\x3e\x3c/div\x3e    \x3c/div\x3e    \x3ca href\x3d"'+B.url+'"\x3e\x3cdiv class\x3d"product-img" style\x3d"'+("background-image: url("+
B.imageUrl+");")+'"\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e'}c+="\x3c/div\x3e";h='\x3ca class\x3d"join-tribe heading no-close" data-tribe-id\x3d"'+f.name+'"\x3e                              \x3ci class\x3d"fa fa-plus no-close"\x3e\x3c/i\x3e Shop with this Tribe\x3c/a\x3e';m='\x3ca class\x3d"leave-tribe heading no-close" data-tribe-id\x3d"'+f.name+'" \x3e                             \x3ci class\x3d"fa fa-times no-close"\x3e\x3c/i\x3e Stop Shopping with Tribe\x3c/a\x3e';c+=f.userIsMember?m:h;c+='       \x3cb class\x3d"border-notch notch"\x3e\x3c/b\x3e\x3cb class\x3d"notch"\x3e\x3c/b\x3e   \x3c/div\x3e\x3c/span\x3e'}return c+
"    \x3c/div\x3e\x3c/div\x3e"}return{create:function(c,n){var b=n.getProductId(c);if("most-liked-by-list"===a(c).data("eg-most-liked-by-list-placeholder"))return null;a(c).data("eg-most-liked-by-list-placeholder","most-liked-by-list");return{type:"mostLikedByList",productElement:c,productId:b,insertList:n.insertList,init:l}},joinTribe:function(l){a('.evergage-tribes.most-liked-by-list .tribeTag .join-tribe[data-tribe-id\x3d"'+l+'"]').replaceWith('\x3ca class\x3d"leave-tribe heading no-close" data-tribe-id\x3d"'+
l+'"\x3e\x3ci class\x3d"fa fa-times no-close"\x3e\x3c/i\x3e Stop Shopping with Tribe\x3c/a\x3e');l=a(".evergage-tribes .tribeTag .leave-tribe");l.off("click");l.click(function(){var n=a(this).data("tribe-id");c.common.leaveTribe(n)})},leaveTribe:function(l){a('.evergage-tribes.most-liked-by-list .tribeTag .leave-tribe[data-tribe-id\x3d"'+l+'"]').replaceWith('\x3ca class\x3d"join-tribe heading no-close" data-tribe-id\x3d"'+l+'"\x3e\x3ci class\x3d"fa fa-plus no-close"\x3e\x3c/i\x3e Shop with this Tribe\x3c/a\x3e');
l=a(".evergage-tribes.most-liked-by-list .tribeTag .join-tribe");l.off("click");l.click(function(){var n=a(this).data("tribe-id");c.common.joinTribe(n,function(){c.tribeVisionPane.openToDetailPane(n)})})}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.listLikeBar=function(a,c){function l(c){var b=a(this.productElement),l=0<c.activelyViewing||0<c.popularTribeScores.length;if(!this.isProductDetail||c.score){this.insertBar(b,B(c));l?this.insertOverlay(b,G(c)):l||a(b).find(".productLevelBar, .productLevelFill").css({cursor:"default"});
var l=b.find(".list-like-bar .productLevelBar"),f=b.find(".productLevelFill"),h=b.find(".tribesOverlay"),m=b.find(".tribesOverlayContainer");setTimeout(function(){f.animate({width:c.score+"%"},{queue:!1,duration:1500})},400);l.mouseenter(function(){m.is(":hidden")&&(m.show(),h.stop().animate({top:"0px"}),b.mouseleave(function(){h.stop().animate({top:h.height()},{complete:function(){m.hide()}})}))});l.click(function(){m.is(":visible")?h.stop().animate({top:h.height()+"px"},{complete:function(){m.hide()}}):
(m.show(),h.stop().animate({top:"0px"}),b.mouseleave(function(){h.stop().animate({top:h.height()},{complete:function(){m.hide()}})}))})}}function B(a){return function(){return'\x3cdiv class\x3d"evergage-tribes list-like-bar eg-cleanslate" data-evergage-tribes\x3d"listLikeBar"\x3e    \x3cdiv class\x3d"productLevelBar" data-score\x3d"'+a.score+'"\x3e        \x3cdiv class\x3d"productFillEvergageLogo"\x3e\x3c/div\x3e        \x3cdiv class\x3d"productLevelFill" style\x3d"width: 0%;"\x3e\x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e'}}
function G(c){return function(){var b=a(this),l=b.position(),f=b.height(),b=b.width(),h="fair";80<c.score?h="great":60<c.score&&(h="good");l=""+('\x3cdiv class\x3d"evergage-tribes eg-cleanslate"\x3e   \x3cdiv class\x3d"tribesOverlayContainer" style\x3d"display: none; width: '+b+"px ; height: "+f+"px ;                   left: "+l.left+"px ; top: "+l.top+'px ;"\x3e       \x3cdiv class\x3d"tribesOverlay" style\x3d"width: '+b+"px ; height: "+f+"px ;                       left: 0px ; top: "+f+'px ;"\x3e           \x3cdiv class\x3d"scoreSummary"\x3e'+
h+" score\x3c/div\x3e");0<c.activelyViewing&&(l+='       \x3cdiv class\x3d"viewingSummary"\x3e'+c.activelyViewing+' actively viewing \x3ci class\x3d"fa fa-users"\x3e\x3c/i\x3e\x3c/div\x3e');f=c.popularTribeScores.length;for(b=0;b<f;b++)h=c.popularTribeScores[b],5<h.score&&(l+='\x3cdiv class\x3d"tribeName"\x3e'+h.name+'\x3c/div\x3e\x3cdiv class\x3d"minibar"\x3e\x3cdiv class\x3d"bar" style\x3d"width: '+h.score+'% ;"\x3e\x3c/div\x3e\x3c/div\x3e');return l+"       \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e"}}
return{create:function(c,b){var v=b.getProductId(c);if("list-like-bar"===a(c).data("eg-list-like-bar-placeholder"))return null;a(c).data("eg-list-like-bar-placeholder","list-like-bar");var f=b.isProductDetailBar(c);return{type:"listLikeBar",productElement:c,productId:v,insertBar:b.insertBar,insertOverlay:b.insertOverlay,isProductDetail:f,init:l}}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.infoTicker=function(a,c){function l(b){var c=b.messages,f=a(this.productElement);
0<f.find(".evergage-tribes.info-ticker").length||this.insert(f,B(c));G(f,c);1<c.length&&setInterval(function(){G(f,c)},this.tickerDelayInMs)}function B(a){var c="",c=c+'\x3cdiv class\x3d"evergage-tribes info-ticker eg-cleanslate" \x3e';ajq.each(a,function(f){var h=a[f];f=c;var l;l='\x3cdiv class\x3d"evergage-tribes info-ticker-item" \x3e   '+h.message+' \x3ci class\x3d"fa ';a:switch(h.type){case "activelyViewing":h="fa-users";break a;case "boughtInLastWeek":h="fa-shopping-cart";break a;default:h=
null}l=""+(l+h+'"\x3e\x3c/i\x3e\x3c/div\x3e');c=f+l});return c+="\x3c/div\x3e"}function G(b,c){var f=b.data("infoTickerIndex");void 0===f&&(f=-1);-1<f?a(b.find(".info-ticker-item")[f]).fadeOut("slow",function(){a(b.find(".info-ticker-item")[f]).removeClass("info-ticker-item-show");n(b,c,f)}):n(b,c,f)}function n(b,c,f){f+=1;f>=c.length&&(f=0);b.data("infoTickerIndex",f);b.data("infoTickerUpdateTime",(new Date).getTime());a(b.find(".info-ticker-item")[f]).slideUp().fadeIn()}return{create:function(b,
c){var f=c.getProductId(b);if("info-ticker"===a(b).data("eg-info-ticker-placeholder"))return null;a(b).data("eg-info-ticker-placeholder","info-ticker");return{type:"infoTicker",productElement:b,productId:f,insert:c.insert,tickerDelayInMs:c.tickerDelayInMs,init:l}}}}(ajq,evergageTribes);evergageTribes=evergageTribes||{};evergageTribes.init=function(a,c){function l(){var b=c.css(c.initData.customCss);a("head").append('\x3clink href\x3d"//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel\x3d"stylesheet"\x3e').append("\x3cstyle\x3e"+
b+"\x3c/style\x3e")}function B(a){n()?c.common.refreshGlobalData(function(b){a()},!0):a()}function G(){var f=[];a.each(c.initData.widgets.includeList,function(a,b){var h=c.initData.widgets[b];h.containers().each(function(){var a=c[b].create(this,h);null!==a&&f.push(a)})});b(f)}function n(){var b=!1;a.each(c.initData.widgets.includeList,function(a,c){if(U[c].requiresGlobalSummary)return b=!0,!1});return b}function b(a){for(var b={},c=0;c<a.length;c++){var f=a[c],h=f.type,g=U[h].scope,f="product"===
g?f.productId:f.type;void 0===b[h]&&(b[h]={widgetType:h,cachedIds:[],fetchIds:[]});void 0===H[g][f]||void 0===H[g][f][h]?b[h].fetchIds.push(f):b[h].cachedIds.push(f)}0<Object.keys(b).length&&v(b,a)}function v(b,c){a.each(b,function(a,b){0<b.fetchIds.length?f(b,c):m(b.widgetType,c)})}function f(a,b){var f=a.widgetType;"infoTicker"===f||"listLikeBar"===f||"mostLikedByList"===f||"tribeReviews"===f?c.restResources.itemSummaries(a.fetchIds,function(c){h(a.widgetType,c);m(f,b)},function(){}):"infoBar"===
f?c.restResources.userSocialSummary(function(c){h(a.widgetType,c);m(f,b)},function(){}):"smartHistoryTab"===f&&(h(a.widgetType,{}),m(f,b))}function h(b,c){var f=U[b].scope;"product"===f?a.each(c,function(a,c){void 0===H.product[c.itemId]&&(H.product[c.itemId]={});H.product[c.itemId][b]=c}):"page"===f&&(void 0===H.page[b]&&(H.page[b]={}),H.page[b]=c)}function m(b,c){a.each(c,function(a,c){var f=c.type;if(b===f){var g=U[f].scope,h;"product"===g?h=H[g][c.productId][f]:"page"===g&&(h=H[g][f]);h&&c.init(h)}})}
var U={infoTicker:{scope:"product",requiresGlobalSummary:!1},infoBar:{scope:"page",requiresGlobalSummary:!0},smartHistoryTab:{scope:"page",requiresGlobalSummary:!1},listLikeBar:{scope:"product",requiresGlobalSummary:!1},mostLikedByList:{scope:"product",requiresGlobalSummary:!1},tribeReviews:{scope:"product",requiresGlobalSummary:!1}};window.evergageTribes.cachedData={page:{},product:{}};var H=window.evergageTribes.cachedData;return function(){n()?B(function(){l();G();setInterval(function(){G()},2E3)}):
(l(),G(),setInterval(function(){G()},2E3))}}(ajq,evergageTribes);window.evergageBeaconParseTimeEnd=(new Date).getTime()};